!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return typeof t}function o(t){return null!==t&&"object"===r(t)}function s(t){return"string"===r(t)}function i(t){return"number"===r(t)&&!Number.isNaN(t)&&Number.isFinite(t)}function l(t){return"undefined"===r(t)}function c(t){return Array.isArray(t)}function a(t){return"function"===r(t)}function _(t,e){const n=t.indexOf(e);return!(n<0)&&(t.splice(n,1),!0)}n.r(e);let u=0;function h(){return Date.now().toString(32)+"-"+Math.floor(16777215*Math.random()).toString(32)+"-"+(u++).toString(32)}let d=!0;function f(...t){d&&console.warn(...t)}let p,g,m=0,E=1,y=!1;function w(t){p.delete(t)}function N(t){if(y)return void setTimeout(N,0,t);const e=p.get(t);if(e){y=!0;try{e()}finally{w(t),y=!1}}}if(l(window.setImmediate)){p=new Map;const t="setImmediate$"+(m++).toString(32)+"$";window.addEventListener("message",e=>{e.source===window&&s(e.data)&&e.data.startsWith(t)&&N(Number(e.data.slice(t.length)))},!1),g=function(e){window.postMessage(t+e,"*")}}const x=window.setImmediate||function(t){if(!a(t)||arguments.length>1)throw new Error("setImmediate require callback function.");return p.set(E,t),g(E),E++},b=window.clearImmediate||w;function D(t,e){s(e)||(e=JSON.stringify(e)),t.textContent=e}function v(t=""){return document.createTextNode(s(t)?t:JSON.stringify(t))}function O(t){const e=document.createDocumentFragment();return t&&t.forEach(t=>{e.appendChild(s(t)?document.createTextNode(t):t)}),e}function R(t,e){t.appendChild(e.length>1?O(e):s(e[0])?v(e[0]):e[0])}function M(t,e,n){if(e)if(o(e))for(const n in e)M(t,n,e[n]);else l(n)||null===n?function t(e,n){if(n){if(!o(n))return e.removeAttribute(n);for(const r in n)t(e,r)}}(t,e):t.setAttribute(e,n)}function S(t,e,n){if(e)for(const n in e)n&&!l(e[n])&&M(t,n,e[n]);return n.length>0&&R(t,n),t}function C(t,e,...n){return S(document.createElement(t),e,n)}function T(t,...e){return C(t,null,...e)}function I(t,e,n){const r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}function L(t,e,n,r){l(r)&&(r=!!e.startsWith("touch")&&{capture:!1,passive:!0}),t.addEventListener(e,n,r)}function A(t,e,n){t.removeEventListener(e,n)}const k=Symbol("$$");function V(t){const e=t.constructor;return e===RegExp||e===Date||e===Boolean}function U(t){return o(t)&&k in t}function j(t){return s(t)&&95!==t.charCodeAt(0)}function $(t){return s(t)?t:null===t?"null":l(t)?"undefined":t.toString()}function H(t){return s(t)?t.indexOf(".")>0?t.split("."):[t]:c(t)?t:[t]}function P(t,e,n){t.__parents||(t.__parents=[]),t.__parents.push({core:e,prop:n})}function F(t,e,n){if(!t.__parents)return;const r=t.__parents.findIndex(t=>t.core===e&&t.prop===n);r>=0&&t.__parents.splice(r,1)}function W(t,e,n,r){if(!t.__parents)return;const o=t.__parents.find(t=>t.core===e&&t.prop===n);o&&(o.prop+=r)}const B=new Map;function Z(t){const e=B.get(t);e&&(b(e.immediate),B.delete(t))}function G(t,e,n){const r=e.__handlers;r&&r.forEach(e=>{n?e(t):function(t,e){if(B.has(t))return;const n=x(()=>{const e=B.get(t);try{t(e.propertyPath)}finally{B.delete(t)}});B.set(t,{immediate:n,propertyPath:e})}(e,t)});const o=e.__listeners;o&&o.forEach(e=>{G(t,e,n)})}function Y(t){const e=t.__listeners;e&&(e.forEach(t=>Y(t)),t.__listeners=null);const n=t.__handlers;n&&(n.forEach(Z),t.__handlers=null),t.__parent=null}class z{constructor(t){this.__notifiable=!0,this.__parents=null,this.__listeners=null,this.__related=null,this.__setters=null,this.target=t,this.proxy=null,Object.defineProperty(t,k,{value:this,writable:!1,configurable:!0,enumerable:!1})}__watch(t,e,n){const r=(t=H(t)).indexOf("**");if(r>=0&&r!==t.length-1)throw new Error('wizard "**" must be last element in path.');const o=function t(e,n,r=0){const o=$(n[r]);e.__listeners||(e.__listeners=new Map);let s=e.__listeners.get(o);return s||(s={__parent:e,__property:o,__handlers:null,__listeners:null},e.__listeners.set(o,s)),n.length-1===r?s:t(s,n,r+1)}(this,t);o.__handlers||(o.__handlers=[]),o.__handlers.indexOf(e)<0&&o.__handlers.push(e),n&&n!==this&&n.__addRelated(this,t,e)}__unwatch(t,e,n){if(!t)return void Y(this);const r=function t(e,n,r=0){var o;const s=$(n[r]);if(!s)return null;const i=null===(o=e.__listeners)||void 0===o?void 0:o.get(s);return i?n.length-1===r?i:t(i,n,r+1):null}(this,H(t));if(!r)return;const o=r.__handlers;o&&(e?(Z(e),_(o,e)):(o.forEach(Z),o.length=0),function(t){if(t&&t.__handlers&&t.__handlers.length>0||t.__listeners&&t.__listeners.size>0)return null;const e=t.__parent,n=t.__property;t.__parent=null,e.__listeners.delete(n)}(r),n&&n!==this&&n.__rmRelated(this,t,e))}__notify(t,e=!1){if(!this.__notifiable)return;t=H(t),this.__listeners&&function t(e,n,r,o=0){const s=e.__listeners;if(!s)return;const i=$(n[o]);if(!i)return;let l=s.get(i);l&&(n.length-1===o?G(n,l,r):t(l,n,r,o+1)),l=s.get("*"),l&&(n.length-1===o?G(n,l,!0):t(l,n,r,o+1)),l=s.get("**"),l&&G(n,l,!0)}(this,t,e);const n=this.__parents;n&&n.forEach(n=>{const r=n.core;r?r.__notify([n.prop].concat(t),e):console.error("dev-warn-unexpected: parent of ViewModelCore has been destroied but not unlink.")})}__destroy(){this.__notifiable=!1,this.__parents=null,Y(this),this.proxy=null,this.__related&&(this.__related.forEach((t,e)=>{t.forEach(t=>{e.__unwatch(t.prop,t.handler)})}),this.__related=null);const t=this.target,e=this.__setters;e&&(e.forEach((e,n)=>{if(null===e)return;const r=t[n];o(r)&&k in r&&F(r[k],this,n)}),this.__setters=null),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e];o(n)&&k in n&&F(n[k],this,e)}),delete t[k],this.target=null}__addRelated(t,e,n){this.__related||(this.__related=new Map);let r=this.__related.get(t);r||this.__related.set(t,r=[]),r.push({prop:e,handler:n})}__rmRelated(t,e,n){if(!this.__related)return;const r=this.__related.get(t);if(!r)return;const o=c(e),s=r.findIndex(t=>n===t.handler&&(o?function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,t.prop):e===t.prop));s>=0&&r.splice(s,1)}}function J(t,e){t[k].__notify(e)}function X(t,e,n,r,s=!0){if(!j(e))return t[e]=n,!0;const i=t[e];if(i===n&&!l(n))return!0;let c=o(n)&&!V(n);if(c&&(c=k in n,s&&!c))throw new Error(`public property "${e.toString()}" of ViewModel must also be ViewModel`);return o(i)&&k in i&&F(i[k],t[k],e),r(t,e,n),c&&P(n[k],t[k],e),J(t,e),!0}function q(t,e,n){t[e]=n}function K(t,e,n){const r=function(t,e){let n=t[k].__setters;if(n||(t[k].__setters=n=new Map),n.has(e))return n.get(e);{let r,o=t.constructor,s=Object.getOwnPropertyDescriptor(o.prototype,e);if(s)return r=a(s.set)?s.set:null,n.set(e,r),r;for(o=Object.getPrototypeOf(o);o&&o.prototype;){if(s=Object.getOwnPropertyDescriptor(o.prototype,e),s)return r=a(s.set)?s.set:null,n.set(e,r),r;o=Object.getPrototypeOf(o)}return n.set(e,null),null}}(t,e);r?r.call(t[k].proxy,n):t[e]=n}function Q(t,e,n){return!(k in t)||X(t,e,n,q)}function tt(t,e,n){return!(k in t)||X(t,e,n,q,!1)}function et(t,e,n){return k in t?X(t,e,n,K):(f(`call setter "${e.toString()}" after destroied, resources such as setInterval maybe not released before destroy. component:`,t),!0)}function nt(t,e,n){let r=e;for(e>n&&(r=n,n=e);r<n;r++)J(t,r)}const rt={set:Q},ot={get(t,e){if("then"===e||"catch"===e){const n=t[e];return function(...e){return n.call(t,...e)}}return t[e]},set:Q};function st(t,e,n){return t.forEach((e,n)=>{U(e)&&P(e[k],t[k],n)}),t[e](n),t.forEach((e,n)=>{U(e)&&F(e[k],t[k],n)}),nt(t,0,t.length),t[k].proxy}function it(t,e=!1){const n=ut(t,!0);return t.forEach((n,r)=>{U(n)?P(n[k],t[k],r):e&&(t[r]=dt(n))}),n}function lt(t,e){t.forEach((n,r)=>{U(n)&&W(n[k],t[k],r,e)})}function ct(t,e){if(o(t)){if(k in t)return!0;throw new Error(`argument passed to Array.${e} must be ViewModel if the array is ViewModel`)}return!1}const at={splice(t,e,n,...r){e<0&&(e=0),r.forEach((n,r)=>{ct(n,"splice")&&P(n[k],t[k],e+r)});for(let r=0;r<n&&!(e+r>=t.length);r++){const n=t[e+r];U(n)&&F(n[k],t[k],e+r)}const o=r.length-n;if(0!==o)for(let r=e+n;r<t.length;r++){const e=t[r];U(e)&&W(e[k],t[k],r,o)}const s=it(t.splice(e,n,...r));if(0!==o){J(t,"length");for(let n=e;n<t.length;n++)J(t,n)}return s},shift(t){if(0===t.length)return t.shift();lt(t,-1);const e=t.shift();U(e)&&F(e[k],t[k],-1),J(t,"length");for(let e=0;e<t.length+1;e++)J(t,e);return e},unshift(t,...e){if(0===e.length)return t.unshift();e.forEach((e,n)=>{ct(e,"unshift")&&P(e[k],t[k],n)}),lt(t,e.length);const n=t.unshift(...e);J(t,"length");for(let e=0;e<t.length;e++)J(t,e);return n},pop(t){if(0===t.length)return t.pop();const e=t.pop();return U(e)&&F(e[k],t[k],t.length),J(t,"length"),J(t,t.length),e},push(t,...e){if(0===e.length)return t.push();e.forEach((e,n)=>{ct(e,"push")&&P(e[k],t[k],t.length+n)});const n=t.push(...e);J(t,"length");for(let n=t.length-1-e.length;n<t.length;n++)J(t,n);return n},fill:(t,e)=>(ct(e,"fill"),t.forEach((n,r)=>{(n!==e||l(n))&&(U(n)&&F(n[k],t[k],r),t[r]=e,U(e)&&P(e[k],t[k],r),J(t,r))}),t[k].proxy),reverse:t=>st(t,"reverse"),sort:(t,e)=>st(t,"sort",e),concat:(t,e)=>(ct(e,"concat"),it(t.concat(e))),filter:(t,e)=>it(t.filter(e)),slice:(t,e,n)=>it(t.slice(e,n)),map:(t,e)=>it(t.map(e),!0)},_t={get(t,e){if(e in at){const n=at[e];return function(...e){return n(t,...e)}}return t[e]},set:function(t,e,n){return!(k in t)||("length"===e?function(t,e){if(!i(e))throw new Error("bad argument. array length must be validate number.");const n=t.length;if(n>e)for(let r=e;r<n;r++){const e=t[r];U(e)&&F(e[k],t[k],r)}return t.length=e,n!==e&&(J(t,"length"),nt(t,n,e)),!0}(t,n):X(t,e,n,q))}};function ut(t,e){return new z(t).proxy=new Proxy(t,e?_t:o(n=t)&&a(n.then)?ot:rt);var n}function ht(t,e,n){o(e)&&!V(e)&&(k in e||(t[n]=e=dt(e)),P(e[k],t[k],n))}function dt(t){if(o(t)){if(V(t)||k in t)return t;const e=c(t),n=ut(t,e);if(e)for(let e=0;e<t.length;e++)ht(t,t[e],e);else for(const e in t)j(e)&&ht(t,t[e],e);return n}return t}function ft(t){if(!o(t))throw new Error("vm() target must be object or array.");return dt(t)}const pt=Symbol("listeners");class gt{constructor(t){if(this[pt]=null,t)for(const e in t){const n=t[e];this.__on(e,n.fn,n.opts)}}__notify(t,...e){if(!this[pt])return;const n=this[pt].get(t);n&&n.forEach(t=>{t.fn(...e)})}__on(t,e,n){this[pt]||(this[pt]=new Map);let r=this[pt].get(t);if(r||this[pt].set(t,r=[]),r.findIndex(t=>t.fn===e)>=0)return void f("dulplicated messenger listener",t,e);let o=e;n&&n.once&&(o=(...n)=>{e(...n),this.__off(t,e)}),n&&n.prepend?r.unshift({fn:o,opts:n}):r.push({fn:o,opts:n})}__off(t,e){if(!this[pt])return;if(!t)return void this[pt].clear();const n=this[pt].get(t);if(!n)return;if(!e)return void(n.length=0);const r=n.findIndex(t=>t.fn===e);n.splice(r,1)}}const mt=new class{constructor(){this.m=new Map,this.s=0}create(t){if(0===this.s)return;const e=C("style",{type:"text/css",id:t.dom});document.head.appendChild(e),e.styleSheet?e.styleSheet.cssText=t.css:e.textContent=t.css}add(t){if(!t)return;const e=this.m;let n=e.get(t.id);n?n.refs++:(n={id:t.id,css:t.css,dom:`__${t.id}__`,refs:1},e.set(t.id,n),this.create(n))}attch(){0===this.s&&(this.s=1,function(){const t=C("span",{style:"position:absolute;left:-10000px;",class:"jg-hide"});document.body.appendChild(t);const e="none"===getComputedStyle(t).getPropertyValue("display");return document.body.removeChild(t),e}()||this.create({dom:`__jgsty_${h()}__`,css:".jg-hide{display:none!important}.jg-hide.jg-hide-enter,.jg-hide.jg-hide-leave{display:block!important}"}),this.m.forEach(t=>{this.create(t)}))}remove(t){if(!t)return;const e=this.m.get(t.id);e&&(e.refs--,e.refs>0||(this.m.delete(e.id),0!==this.s&&document.head.removeChild(document.getElementById(e.dom))))}},Et=new Map;function yt(t){let e=Et.get(t);return e||(e=new Function("__ctx",`return \`${t.replace(/`/g,"\\`").replace(/\$\{\s*([\w\d._$]+)\s*\}/g,(t,e)=>"${ __ctx."+e+" }")}\`;`),Et.set(t,e)),e}function wt(t,e){for(const n in e)n in t||(t[n]=e[n])}function Nt(t){if(!t.__data)throw new Error("i18n data not found. Forgot to load i18n resource script?")}const xt=new class extends gt{constructor(){super(),this.__deps=null,this.__data=null,this.__cache=new Map,this.__key=null,this.__regLoc(window.JINGE_I18N_DATA)}get locale(){return Nt(this),this.__data.locale}__regDep(t,e){const n=this.__deps||(this.__deps=[]);if(n[t]){if(n[t]!==e)throw new Error("conflict at "+t)}else n[t]=e}__regLoc(t){t&&!this.__cache.has(t.locale)&&(t.__renders||(t.__renders=[]),a(t.render)&&(t.__renders.push(t.render),t.render={components:{},attributes:{}}),this.__cache.set(t.locale,t),this.__data||(this.__data=t))}__regChu(t,e){const n=this.__cache.get(e.locale);if(!n)throw new Error("main resource not load.");var r,o;n.__chunks||(n.__chunks=[]),r=n.__chunks,o=t,r.indexOf(o)>=0||r.push(o),wt(n.dictionary,e.dictionary),n.__renders.push(e.render),e.render=null}async switch(t,e){if(this.__data.locale===t)return;const n=h();this.__key=n,this.__notify("before-change",this.locale,t);let r=this.__cache.get(t);if(!r){const i=await(s(e)?(o=e,window.fetch(o).then(t=>t.text())):e(t));if(new Function("jinge",i)({i18n:this}),this.__key!==n)return;r=this.__cache.get(t)}var o;this.__data=r,this.__key===n&&this.__notify("change",this.locale)}__t(t,e){Nt(this);const n=this.__data.dictionary;if(!(t in n))return"i18n_missing";let r=n[t];return s(r)&&(171===r.charCodeAt(0)?(r=n[r.substring(1)],s(r)&&(r=yt(r))):r=yt(r),n[t]=r),r(e)}__r(t,e){Nt(this);const n=this.__data.__renders,r=this.__data.render;if(n&&n.length>0){if(!this.__deps)throw new Error("missing deps");n.forEach(t=>{const e=t(...this.__deps);wt(r.components,e.components),wt(r.attributes,e.attributes)}),n.length=0}const o=r[e];if(!(t in o))throw new Error(`missing ${e} key: ${t}`);let i=o[t];return s(i)&&(o[t]=i=o[i]),i}watch(t,e){let n=!1,r=!1;var s;return"boolean"==typeof(s=e)||s instanceof Boolean?n=e:o(e)&&(n=e.immediate,r=e.prepend),this.__on("change",t,{prepend:r}),n&&t(this.locale),()=>{this.__off("change",t)}}};var bt,Dt;!function(t){t[t.INITIALIZE=0]="INITIALIZE",t[t.RENDERED=1]="RENDERED",t[t.WILLDESTROY=2]="WILLDESTROY",t[t.DESTROIED=3]="DESTROIED"}(bt||(bt={})),function(t){t[t.UNTOUCH=0]="UNTOUCH",t[t.TOUCHED=1]="TOUCHED",t[t.UNTOUCH_FREEZED=2]="UNTOUCH_FREEZED",t[t.TOUCHED_FREEZED=3]="TOUCHED_FREEZED"}(Dt||(Dt={}));const vt=Symbol("__");function Ot(t){return vt in t}function Rt(t){if(!c(t)||0===t.length)throw new Error("Render results of component is empty");return t}function Mt(t){if(!o(t)||c(t))throw new Error("attrs() traget must be plain object.");return function(t){const e=new z(t);return e.__notifiable=!1,e.proxy=new Proxy(t,{set:tt})}(t)}class St extends gt{constructor(t){if(!o(t)||!(k in t))throw new Error("Attributes passed to Component constructor must be ViewModel. See https://[todo]");const e=t[vt]||{};super(e.listeners),function(t){if(k in t)throw new Error("component has alreay been wrapped.");const e=new z(t);e.__notifiable=!1,e.proxy=new Proxy(t,{set:et})}(this),this[vt]={passedAttrs:t,context:e.context||null,contextState:Dt.UNTOUCH,slots:e.slots,state:bt.INITIALIZE,rootNodes:[],nonRootCompNodes:[],refs:null,relatedRefs:null,upNextMap:null,compStyle:e.compStyle||null,deregDOM:null,deregI18N:null}}static create(t){return o(t=t||Mt({}))&&k in t||(t=Mt(t||{})),new this(t)[k].proxy}__i18nWatch(t,e){let n=this[vt].deregI18N;n||(this[vt].deregI18N=n=[]);const r=xt.watch(()=>{t.call(this)},e),o=()=>{r(),_(n,o)};return n.push(o),o}__domAddListener(t,e,n,r){let o=this[vt].deregDOM;o||(this[vt].deregDOM=o=[]);const s=function(t,e,n,r){return L(t,e,n,r),function(){A(t,e,n)}}(t,e,t=>{n.call(this,t)},r),i=()=>{s(),_(o,i)};return o.push(i),i}__domPassListeners(t,e){if(this[vt].state!==bt.RENDERED)throw new Error("domPassListeners must be applied to component which is rendered.");const n=this[pt];n&&0!==n.size&&(t&&!c(t)?(e=t,t=null):e||(e=this.__firstDOM),e.nodeType===Node.ELEMENT_NODE&&n.forEach((n,r)=>{t&&t.indexOf(r)>=0||n.forEach(t=>{const{opts:n,fn:o}=t;this.__domAddListener(e,r,t.opts&&(t.opts.stop||t.opts.prevent)?function(t){n.stop&&t.stopPropagation(),n.prevent&&t.preventDefault(),o.call(this,t)}:o,t.opts)})}))}get __transitionDOM(){const t=this[vt].rootNodes[0];return Ot(t)?t.__transitionDOM:t}get __firstDOM(){const t=this[vt].rootNodes[0];return Ot(t)?t.__firstDOM:t}get __lastDOM(){const t=this[vt].rootNodes,e=t[t.length-1];return Ot(e)?e.__lastDOM:e}__render(){const t=this.constructor;let e=t.template;if(!e&&this[vt].slots&&(e=this[vt].slots.default),!a(e))throw new Error(`Template of ${t.name} not found. Forget static getter "template"?`);return mt.add(t.style),e(this)}__renderToDOM(t,e=!0){if(this[vt].state!==bt.INITIALIZE)throw new Error("component has already been rendered.");const n=Rt(this.__render());var r,o,s;mt.attch(),e?(r=t.parentNode,o=n,s=t,r.replaceChild(O(o),s)):R(t,n),this.__handleAfterRender()}__destroy(t=!0){const e=this[vt];e.state>bt.WILLDESTROY||(e.state=bt.WILLDESTROY,this[k].__notifiable=!1,e.passedAttrs[k].__notifiable=!1,this.__notify("before-destroy"),this.__beforeDestroy(),this.__handleBeforeDestroy(t),super.__off(),mt.remove(this.constructor.style),e.passedAttrs[k].__destroy(),e.passedAttrs=null,this[k].__destroy(),e.upNextMap&&(e.upNextMap.forEach(t=>{b(t)}),e.upNextMap=null),e.relatedRefs&&(e.relatedRefs.forEach(t=>{const e=t.origin[vt].refs;if(!e)return;const n=e.get(t.ref);c(n)?_(n,t.node||this):e.delete(t.ref)}),e.relatedRefs=null),e.deregDOM&&(e.deregDOM.forEach(t=>t()),e.deregDOM=null),e.deregI18N&&(e.deregI18N.forEach(t=>t()),e.deregI18N=null),e.state=bt.DESTROIED,e.rootNodes=e.nonRootCompNodes=e.refs=e.slots=e.context=null)}__handleBeforeDestroy(t=!1){let e;this[vt].nonRootCompNodes.forEach(t=>{t.__destroy(!1)}),this[vt].rootNodes.forEach(n=>{Ot(n)?n.__destroy(t):t&&(e||(e=n.parentNode),e.removeChild(n))})}__handleAfterRender(){this[vt].passedAttrs[k].__notifiable=!0,this[k].__notifiable=!0,this[vt].rootNodes.forEach(t=>{Ot(t)&&t.__handleAfterRender()}),this[vt].nonRootCompNodes.forEach(t=>{Ot(t)&&t.__handleAfterRender()}),this[vt].state=bt.RENDERED,this[vt].contextState=this[vt].contextState===Dt.TOUCHED?Dt.TOUCHED_FREEZED:Dt.UNTOUCH_FREEZED,this.__afterRender(),this.__notify("after-render")}__updateIfNeed(t,e=!0){if(this[vt].state!==bt.RENDERED)return;if(!1===t)return this.__update();if(a(t)||(t=this.__update),!e)return void t.call(this);let n=this[vt].upNextMap;n||(n=this[vt].upNextMap=new Map),n.has(t)||n.set(t,x(()=>{n.delete(t),t.call(this)}))}__update(t){}__setContext(t,e,n=!1){if(this[vt].contextState===Dt.UNTOUCH_FREEZED||this[vt].contextState===Dt.TOUCHED_FREEZED)throw new Error("Can't setContext after component has been rendered. Try put setContext code into constructor.");if(this[vt].contextState===Dt.UNTOUCH&&(this[vt].context=Object.assign({},this[vt].context),this[vt].contextState=Dt.TOUCHED),t in this[vt].context&&!n)throw new Error(`Contenxt with key: ${t.toString()} is exist. Pass third argument forceOverride=true to override it.`);this[vt].context[t]=e}__getContext(t){return this[vt].context?this[vt].context[t]:null}__setRef(t,e,n){let r=this[vt].refs;r||(this[vt].refs=r=new Map);let o=r.get(t);o?c(o)?o.push(e):(o=[o,e],r.set(t,o)):r.set(t,e);const s=Ot(e);if(!s&&this===n)return;let i=(s?e:n)[vt].relatedRefs;i||((s?e:n)[vt].relatedRefs=i=[]),i.push({origin:this,ref:t,node:s?null:e})}__getRef(t){return this[vt].state!==bt.RENDERED&&f(`Warning: call __getRef before component '${this.constructor.name}' rendered will get nothing. see https://[TODO]`),this[vt].refs?this[vt].refs.get(t):null}__afterRender(){}__beforeDestroy(){}}var Ct;function Tt(t){const e=getComputedStyle(t);return"0s"!==e.getPropertyValue("transition-duration")?"transitionend":"0s"!==e.getPropertyValue("animation-duration")?"animationend":null}St[vt]=!0,function(t){t[t.ENTERING=1]="ENTERING",t[t.ENTERED=2]="ENTERED",t[t.LEAVING=3]="LEAVING",t[t.LEAVED=4]="LEAVED"}(Ct||(Ct={}));class It extends St{constructor(t,e,n,r){super(t);const o=this[k].proxy;U(e)?o.each=e:o._e=e,o.index=n,o.isFirst=0===n,o.isLast=r}get each(){return this._e}set each(t){this._e=t}__render(){return this[vt].slots.default(this)}}function Lt(t,e,n,r,o,s){return new It(Mt({[vt]:{context:o,compStyle:s,slots:{default:r}}}),t,e,n)[k].proxy}function At(t,e,n,r,o,s,i){const l=Lt(t,e,n,r,s,i);return o.push(l),l.__render()}function kt(t,e,n,r){const o="each"===r?t:r(t);return n.has(o)&&console.error(`loop items [${e}] and [${n.get(o)}] of <for> component both have key '${o}', dulplicated key may cause update error.`),n.set(o,e),o}function Vt(t,e,n,r,o,s,i){const l=[],c=new Map;return t.forEach((a,_)=>{"index"!==o&&r.push(kt(a,_,c,o)),l.push(...At(a,_,_===t.length-1,e,n,s,i))}),l}function Ut(t,e){e[vt].rootNodes.forEach(e=>{Ot(e)?Ut(t,e):t.appendChild(e)})}function jt(t,e,n){t.isFirst!==(0===e)&&(t.isFirst=0===e),t.isLast!==(e===n.length-1)&&(t.isLast=e===n.length-1),t.index!==e&&(t.index=e),t.each!==n[e]&&(t.each=n[e])}function $t(t){return s(t)&&"length"!==t&&/^\d+$/.test(t)?Number(t):t}class Ht extends St{constructor(t){if(t.key&&!/^(index|each(.[\w\d$_]+)*)$/.test(t.key))throw new Error('Value of "key" attribute of <for> component is invalidate. See https://[todo]');super(t);const e=this[k].proxy;U(t.loop)?e.loop=t.loop:e._l=t.loop,t[k].__watch("loop",()=>{e.loop=t.loop});const n=t.key||"index";if(e._keyName=n,e._length=0,e._keys=null,e._waitingUpdate=!1,"index"!==n&&"each"!==n){e._keyName=new Function("each","return "+n);const t=n.split(".").length+1;e[k].__watch("loop.*."+n.slice(5),n=>{if(n.length!==t||e._waitingUpdate)return;const r=e.loop;if(!c(r)||0===r.length)return;const o=$t(n[1]);!i(o)||o>=r.length||(e._keys[o]=e._keyName(r[o]))})}e[k].__watch("loop.*",t=>{if(e[vt].state!==bt.RENDERED||2!==t.length||e._waitingUpdate)return;const n=$t(t[1]);"length"===n?(e._waitingUpdate=!0,e.__updateIfNeed()):i(n)&&e._updateItem(n)})}get loop(){return this._l}set loop(t){this._l=t,this._waitingUpdate=!0,this.__updateIfNeed()}__render(){var t;const e=this[vt].rootNodes,n=null===(t=this[vt].slots)||void 0===t?void 0:t.default;if(!n)return e.push(document.createComment("empty")),e;const r=this.loop,o=this._keyName;return"index"!==o&&(this._keys=[]),c(r)&&0!==r.length?(this._length=r.length,Vt(r,n,e,this._keys,o,this[vt].context,this[vt].compStyle)):(e.push(document.createComment("empty")),e)}_updateItem(t){var e;const n=this.loop,r=this[vt].rootNodes;if(!c(n)||t>=r.length)return;const o=this._keys,s=n[t],i=r[t];if(i.each===s)return;const l=null===(e=this[vt].slots)||void 0===e?void 0:e.default;if(!l)return;const a=this._keyName;if("index"!==a){const e="each"===a?s:a(s);if(e!==o[t]){const n=i.__firstDOM,c=Lt(s,t,i.isLast,l,this[vt].context,this[vt].compStyle),a=Rt(c.__render());n.parentNode.insertBefore(a.length>1?O(a):a[0],n),i.__destroy(),r[t]=c,o[t]=e,c.__handleAfterRender()}else i.each=s}else i.each=s}__update(){var t;this._waitingUpdate=!1;const e=null===(t=this[vt].slots)||void 0===t?void 0:t.default;if(!e)return;const n=c(this.loop)?this.loop:[],r=this[vt].rootNodes,o=n.length,s=this._length;if(0===o&&0===s)return;const i=this._keyName;if(0===o&&s>0){const t=r[0].__firstDOM,e=document.createComment("empty");t.parentNode.insertBefore(e,t);for(let t=0;t<s;t++)r[t].__destroy();return r.length=1,r[0]=e,"index"!==i&&(this._keys.length=0),void(this._length=0)}this._length=o;const l=this[vt].context,a=this[vt].compStyle,_=r[0],u=(0===s?_:_.__firstDOM).parentNode;if("index"===i){let t=null;0===s&&(r.length=0);for(let i=0;i<o;i++)i<s?jt(r[i],i,n):(t||(t=O()),At(n[i],i,i===o-1,e,r,l,a).forEach(e=>{t.appendChild(e)}));if(t){const e=0===s?_:r[s-1].__lastDOM;I(u,t,e);for(let t=s;t<o;t++)r[t].__handleAfterRender()}if(0===s&&u.removeChild(_),o>=s)return;for(let t=o;t<s;t++)r[t].__destroy();return void r.splice(o)}const h=this._keys;if(0===s){return r.length=0,I(u,O(Vt(n,e,r,h,i,this[vt].context,this[vt].compStyle)),_),u.removeChild(_),void r.forEach(t=>t.__handleAfterRender())}const d=new Map;h.forEach((t,e)=>{d.set(t,e)});const f=[],p=new Map;n.forEach((t,e)=>{f.push(kt(t,e,p,i))});let g=0,m=0,E=null;const y=[],w=new Uint8Array(s);for(;g<s||m<o;){for(;g<s;)if(0!==w[g])g++;else{if(p.has(h[g])&&p.get(h[g])>=m){g===s-1&&(E=r[g].__lastDOM.nextSibling);break}g===s-1&&(E=r[g].__lastDOM.nextSibling),r[g].__destroy(),g++}if(g>=s){let t=null;const r=y.length;for(;m<o;m++){const r=Lt(n[m],m,m===o-1,e,l,a);t||(t=O()),r.__render().forEach(e=>t.appendChild(e)),y.push(r)}if(t){E?u.insertBefore(t,E):u.appendChild(t);for(let t=r;t<y.length;t++)y[t].__handleAfterRender()}break}const t=h[g];let i=null,c=null;for(;m<o;){const s=f[m];if(s===t)break;let _=null;if(d.has(s)){const t=d.get(s);t>g&&0===w[t]&&(_=r[t],w[t]=1)}i||(i=O()),_?(Ut(i,_),jt(_,m,n)):(_=Lt(n[m],m,m===o-1,e,l,a),_.__render().forEach(t=>i.appendChild(t)),c||(c=[]),c.push(_)),y.push(_),m++}if(m>=o)throw new Error("unimpossible?!");const _=r[g];i&&u.insertBefore(i,_.__firstDOM),c&&c.forEach(t=>t.__handleAfterRender()),jt(_,m,n),y.push(_),g++,m++}this[vt].rootNodes=y,this._keys=f}}function Pt(t,e,n){return St.create(Mt({[vt]:{context:e,compStyle:n,slots:{default:t}}}))}function Ft(t){const e=t._currentValue,n=t[vt].slots;if(t.transition&&n){t._transitionMap=new Map;for(const r in n)t._transitionMap.set(r,[r===e?Ct.ENTERED:Ct.LEAVED,null]);t._previousValue=e,t._onEndHandler=t.onTransitionEnd.bind(t)}const r=n?n[e]:null,o=t[vt].rootNodes;if(!r)return o.push(document.createComment("empty")),o;const s=Pt(r,t[vt].context,t[vt].compStyle);return o.push(s),s.__render()}function Wt(t){var e;const n=t[vt].rootNodes,r=n[0],o=Ot(r),s=o?r.__firstDOM:r,i=(o?s:r).parentNode,l=null===(e=t[vt].slots)||void 0===e?void 0:e[t._currentValue];if(l){const e=Pt(l,t[vt].context,t[vt].compStyle),r=Rt(e.__render());i.insertBefore(r.length>1?O(r):r[0],s),n[0]=e}else n[0]=document.createComment("empty"),i.insertBefore(n[0],s);o?r.__destroy():i.removeChild(s),l&&n[0].__handleAfterRender(),t.__notify("branch-switched",t._branch)}function Bt(t,e,n,r){const o=t[1];if(o.nodeType!==Node.ELEMENT_NODE)return;const s=r._onEndHandler;o.classList.remove(e+(n?"-enter":"-leave")),o.classList.remove(e+(n?"-enter-active":"-leave-active")),A(o,"transitionend",s),A(o,"animationend",s),r.__notify("transition",n?"enter-cancelled":"leave-cancelled",o)}function Zt(t,e,n,r){const o=t[1],s=r._onEndHandler;if(o.nodeType!==Node.ELEMENT_NODE)return void s();const i=e+(n?"-enter":"-leave"),l=e+(n?"-enter-active":"-leave-active");o.classList.add(i),Tt(o),o.classList.add(l);const c=Tt(o);c?(t[0]=n?Ct.ENTERING:Ct.LEAVING,L(o,c,s),r.__notify("transition",n?"before-enter":"before-leave",o),x(()=>{r.__notify("transition",n?"enter":"leave",o)})):s()}function Gt(t){(Ot(t[vt].rootNodes[0])||t[vt].slots&&t[vt].slots[t._currentValue])&&(t._transitionMap?function(t){const e=t._currentValue,n=t._previousValue,r=t.transition;let o=t._transitionMap.get(n);if(o||(o=["else"===n?Ct.LEAVED:Ct.ENTERED,null],t._transitionMap.set(n,o)),o[0]===Ct.ENTERING){if(e===n)return;Bt(o,r,!0,t),Zt(o,r,!1,t)}else if(o[0]===Ct.LEAVING){if(e!==n)return;Bt(o,r,!1,t),Zt(o,r,!0,t)}else o[0]===Ct.ENTERED?(o[1]=t.__transitionDOM,Zt(o,r,!1,t)):o[0]===Ct.LEAVED&&(o[1]=t.__transitionDOM,Zt(o,r,!0,t))}(t):Wt(t))}function Yt(t){const e=t._currentValue,n=t._previousValue,r=t.transition,o=t._transitionMap.get(n),s=o[0]===Ct.ENTERING,i=o[1];if(i.nodeType===Node.ELEMENT_NODE&&(A(i,"transitionend",t._onEndHandler),A(i,"animationend",t._onEndHandler),i.classList.remove(r+(s?"-enter":"-leave")),i.classList.remove(r+(s?"-enter-active":"-leave-active")),t.__notify("transition",s?"after-enter":"after-leave")),o[0]=s?Ct.ENTERED:Ct.LEAVED,s)return;Wt(t),t._previousValue=e;const l=t._transitionMap.get(e);if(!l)return;const c=t.__transitionDOM;c.nodeType===Node.ELEMENT_NODE?(l[1]=c,Zt(l,r,!0,t)):l[0]=Ct.ENTERED}function zt(t){t._transitionMap&&(t._transitionMap.forEach(e=>{const n=e[1];n&&(A(n,"transitionend",t._onEndHandler),A(n,"animationend",t._onEndHandler))}),t._transitionMap=null)}class Jt extends St{constructor(t){super(t);const e=this[k].proxy;e._currentValue="default",e._onEndHandler=null,e._transitionMap=null,e._previousValue=null;const n=()=>{e.expect=t.expect};n(),t[k].__watch("expect",n);const r=()=>{e.transition=t.transition};r(),t[k].__watch("transition",r)}get expect(){return"default"===this._currentValue}set expect(t){const e=t?"default":"else";this._currentValue!==e&&(this._currentValue=e,this.__updateIfNeed())}get _branch(){return this.expect}onTransitionEnd(){Yt(this)}__render(){return Ft(this)}__update(){Gt(this)}__beforeDestroy(){zt(this)}}class Xt extends St{constructor(t,e,n,r){super(t);const o=this[k].proxy;o._key=e,o._sty=n,o._vms=r,o.__i18nWatch(o._onchange)}__render(){return xt.__r(this._key,"components")(this,this._sty,...this._vms)}_onchange(){this.__updateIfNeed()}__update(){this[k].__related&&(this[k].__related.forEach((t,e)=>{t.forEach(t=>{e.__unwatch(t.prop,t.handler)})}),this[k].__related.clear());let t=this.__lastDOM;const e=t.parentNode;t=t.nextSibling,this.__handleBeforeDestroy(!0),this[vt].rootNodes.length=0,this[vt].nonRootCompNodes.length=0;const n=this.__render();t?e.insertBefore(n.length>1?O(n):n[0],t):e.appendChild(n.length>1?O(n):n[0]),this[vt].rootNodes.forEach(t=>{Ot(t)&&t.__handleAfterRender()}),this[vt].nonRootCompNodes.forEach(t=>{t.__handleAfterRender()})}__beforeDestroy(){this._vms=null}}function qt(t,e,n=!1){const r=v(),o=()=>{r.textContent=xt.__t(e)};return o(),t.__i18nWatch(o),n&&t[vt].rootNodes.push(r),r}xt.__regDep(4,vt),xt.__regDep(3,k),xt.__regDep(2,D),xt.__regDep(6,Mt),xt.__regDep(9,C),xt.__regDep(5,M),xt.__regDep(1,v),xt.__regDep(7,Rt),xt.__regDep(0,(function(t,e){const n=v(e);return t[vt].rootNodes.push(n),n}));class Kt extends St{static get template(){return function(t){const e=t;return[...(()=>{const n=Mt({[vt]:{compStyle:t[vt].compStyle?{...t[vt].compStyle}:null,context:t[vt].context,slots:{default:function(t){return[(()=>{const n=C("p",t[vt].compStyle,(()=>{const n=v(),r=()=>{D(n,e.message)};return r(),e[k].__watch(["message"],r,t[k]),n})());return t[vt].rootNodes.push(n),n})()]},else:function(t){return[(()=>{const e=C("p",t[vt].compStyle,qt(t,"mAP ]",!1));return t[vt].rootNodes.push(e),e})()]}}},expect:null}),r=()=>{n.expect=e.message};r(),e[k].__watch(["message"],r,t[k]);const o=Jt.create(n);return t[vt].rootNodes.push(o),Rt(o.__render())})()]}}constructor(t){super(t);const e=this[k].proxy,n=()=>{e.message=t.message};n(),t[k].__watch("message",n),e._el=!0,e.__i18nWatch(()=>e._up)}get message(){return this._m}set message(t){this._m=t}__afterRender(){console.log("ar")}__beforeDestroy(){console.log("bd")}}xt.__regDep(8,Kt);var Qt=function(t){const e=t;return[(()=>{const n=C("p",t[vt].compStyle,(()=>{const n=T("select",C("option",{disabled:!0},qt(t,"3ylu$",!1)),...(()=>{const n=Mt({[vt]:{context:t[vt].context,slots:{default:function(t){const e=t;return[(()=>{const n=C("option",t[vt].compStyle,(()=>{const n=v(),r=()=>{D(n,function(){let t;return null===(t=e.each)||void 0===t?void 0:t.name}())};return r(),e[k].__watch(["each","name"],r,t[k]),n})()),r=()=>{n.value=function(){let t;return null===(t=e.each)||void 0===t?void 0:t.locale}()};return r(),e[k].__watch(["each","locale"],r,t[k]),t[vt].rootNodes.push(n),n})()]}}},loop:null}),r=()=>{n.loop=e.locales};r(),e[k].__watch(["locales"],r,t[k]);const o=Ht.create(n);return t[vt].nonRootCompNodes.push(o),Rt(o.__render())})()),r=()=>{n.value=e.locale};return r(),e[k].__watch(["locale"],r,t[k]),L(n,"change",(function(...t){e.changeLocale(t[0].target.value)})),n})());return t[vt].rootNodes.push(n),n})(),...(()=>{const n=Mt({[vt]:{compStyle:t[vt].compStyle?{...t[vt].compStyle}:null,context:t[vt].context,slots:{default:function(t){const n=t;return[(()=>{const r=C("div",t[vt].compStyle,(()=>{const e=T("p",qt(t,"I2)`L",!1)),n=()=>{e.setAttribute("data-xx",xt.__t("I2)`L"))};return n(),t.__i18nWatch(n),e})(),(()=>{const r=T("p",...(()=>{const r=new Xt(Mt({[vt]:{context:t[vt].context}}),"Xs<Yg",null,[e,n]);return t[vt].nonRootCompNodes.push(r),Rt(r.__render())})()),o={[k]:null},s=()=>{o[k]&&o[k].__destroy(),o[k]=new z({}),xt.__r("Xs<Yg","attributes")(r,"data-yy",!0,o,e,n)};return s(),t.__i18nWatch(s),t.__on("before-destroy",()=>o.__destroy()),r})());return t[vt].rootNodes.push(r),r})()]}}},loop:null}),r=()=>{n.loop=e.boys};r(),e[k].__watch(["boys"],r,t[k]);const o=Ht.create(n);return t[vt].rootNodes.push(o),Rt(o.__render())})(),...(()=>{const e=Mt({[vt]:{compStyle:t[vt].compStyle?{...t[vt].compStyle}:null,context:t[vt].context}}),n=Kt.create(e);return t[vt].rootNodes.push(n),Rt(n.__render())})(),...(()=>{const n=Mt({[vt]:{compStyle:t[vt].compStyle?{...t[vt].compStyle}:null,context:t[vt].context},message:null}),r={[k]:null},o=()=>{r[k]&&r[k].__destroy(),r[k]=new z({}),xt.__r("y8?X ","attributes")(n,"message",!1,r,e)};o();const s=Kt.create(n);return s.__i18nWatch(o),s.__on("before-destroy",()=>r[k].__destroy()),t[vt].rootNodes.push(s),Rt(s.__render())})(),...(()=>{const n=new Xt(Mt({[vt]:{compStyle:t[vt].compStyle?{...t[vt].compStyle}:null,context:t[vt].context}}),"sHX#5",null,[e]);return t[vt].rootNodes.push(n),Rt(n.__render())})(),(()=>{const n=C("div",t[vt].compStyle,...(()=>{const n=new Xt(Mt({[vt]:{context:t[vt].context}}),"V`zMa",null,[e]);return t[vt].nonRootCompNodes.push(n),Rt(n.__render())})());return t[vt].rootNodes.push(n),n})(),...(()=>{const n=Mt({[vt]:{compStyle:t[vt].compStyle?{...t[vt].compStyle}:null,context:t[vt].context},message:null}),r={[k]:null},o=()=>{r[k]&&r[k].__destroy(),r[k]=new z({}),xt.__r("l.>Wn","attributes")(n,"message",!1,r,e)};o();const s=Kt.create(n);return s.__i18nWatch(o),s.__on("before-destroy",()=>r[k].__destroy()),t[vt].rootNodes.push(s),Rt(s.__render())})()]};!function(t,e,n){const r=t.create(n);r.__renderToDOM(e,e!==document.body)}(class extends St{static get template(){return Qt}constructor(t){super(t);const e=this[k].proxy;e.locale=xt.locale,e.locales=ft([{name:"简体中文",locale:"zh_cn"},{name:"English",locale:"en"}]),e.__i18nWatch(()=>{e.moon=xt.__t("VgD!%"),e.boys=ft([{name:xt.__t("rR)JC")},{name:xt.__t("w#i*;")}]),e.boy=ft({name:xt.__t("w#i*;")})},!0)}changeLocale(t){xt.switch(t,`/dist/bundle.${t}.js`),history.replaceState(null,null,href)}},document.getElementById("root-app"))}]);