# 国际化多语言（i18n）

中文 | [English](./)

考虑到多语言的切换，在实际使用中并不频繁，因此 jinge 框架只提供了一个简洁但够用的国际化多语言方案。这个方案假设用户切换语言后，系统会刷新整个 app 重新加载；舍弃了无缝热切换语言的能力。

多语言通常涉及两个使用的点，一是在组件模板中使用，一是在 js 代码中使用。大部分 mvvm 框架的国际化方案，都要求在代码的入口处，先注册多语言字典包。jinge 框架也是这样的使用方式，即先通过 `registerI18nData` 注册字典数据，其后才能使用 `i18n` 函数获取多语言的文本（text）。但为了进一步提供灵活性，jinge 框架在初始化时，会默认从 `window.JingeI18nData` 这个全局变量上读取多语言字典数据，如果该数据存在，则会自动使用该数据注册。这样，只要在整个 app 的资源加载前配置该全局变量数据，在 app 的 js 代码里，则可以不用关心字典数据是否已经注册，在代码的任意地方都可以直接使用 `i18n` 函数读取多语言文本。

配合上述逻辑，一个典型的多语言 app 的架构可以是：使用 loader 脚本，先通过 api 接口读取用户配置的语言，然后根据该配置加载多语言字典数据并赋值到 `window.JingeI18nData` 这个全局变量，最后加载 app 的整个 js 代码。