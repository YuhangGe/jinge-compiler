{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/geyuhang/jinge/jinge-framework/components/class.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/for.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/hide.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/html.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/i18n.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/if.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/log.js","webpack:////Users/geyuhang/jinge/jinge-framework/components/parameter.js","webpack:////Users/geyuhang/jinge/jinge-framework/config/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/bootstrap.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/component.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/i18n.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/messenger.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/style.js","webpack:////Users/geyuhang/jinge/jinge-framework/core/transition.js","webpack:////Users/geyuhang/jinge/jinge-framework/dom/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/array.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/common.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/const.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/diff.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/setimm.js","webpack:////Users/geyuhang/jinge/jinge-framework/util/type.js","webpack:////Users/geyuhang/jinge/jinge-framework/viewmodel/core.js","webpack:////Users/geyuhang/jinge/jinge-framework/viewmodel/index.js","webpack:////Users/geyuhang/jinge/jinge-framework/viewmodel/proxy.js","webpack:///./app.html","webpack:///./index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///(webpack)/buildin/global.js"],"names":[],"mappings":"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3C,KAAK,6DAAa;AAClB,KAAK,uDAAO;AACZ,KAAK,8DAAc;AACnB,OAAO,iDAAW;AAClB;AACA,GAAG;AACH,aAAa,oEAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA,YAAY,sDAAM;AAClB;;AAEA;AACA,MAAM,sDAAQ,WAAW,kEAAU,YAAY,wDAAQ;AACvD,kCAAkC,EAAE;AACpC;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,EAAE,SAAS,gBAAgB,sCAAsC,IAAI;AACtG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,KAAK,0DAAU;AACf,QAAQ,mEAAW;AACnB;AACA,KAAK;AACL,MAAM,wDAAW;AACjB;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,sDAAQ,aAAa,gDAAU;AACzC;;AAEO,2BAA2B,yDAAS;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wDAAmB,EAAE,qDAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,KAAK;AAC1E;AACA,MAAM,+DAAO;AACb;AACA;AACA;AACA;AACA,aAAa,qDAAO;AACpB;AACA;AACA,aAAa,sDAAQ;AACrB;AACA;AACA;AACA,OAAO;AACP;AACA,IAAI,+DAAO;AACX;AACA;AACA;AACA;AACA;AACA,gBAAgB,gDAAU;AAC1B;AACA,sBAAsB,8DAAc;AACpC,OAAO,UAAU,sDAAQ;AACzB;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS,8DAAc;AACvB;;AAEA,GAAG,sDAAM;AACT,uBAAuB,0DAAU;AACjC,8BAA8B,8DAAc,SAAS,8DAAc,EAAE,iDAAW;AAChF;AACA,iBAAiB,0DAAa,CAAC,+CAAS;AACxC;AACA;AACA;AACA;AACA;AACA,SAAS,qDAAO;AAChB,iBAAiB,0DAAa,CAAC,+CAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uDAAO;AAClB,WAAW,sDAAU;AACrB;AACA;;AAEA;AACA;AACA,uBAAuB,0DAAU;AACjC,SAAS,qDAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,8DAAc,SAAS,8DAAc,EAAE,iDAAW;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6DAAa;AACvC;AACA;AACA,6BAA6B,uDAAO,QAAQ,sDAAU;AACtD;AACA,yBAAyB,sDAAM;AAC/B,QAAQ,yDAAY,CAAC,sDAAS;AAC9B,cAAc,uDAAO;AACrB;AACA;AACA,cAAc,mEAAmB;AACjC;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,GAAG,sDAAM;AACT;AACA;AACA,8BAA8B,8DAAc,SAAS,8DAAc,EAAE,iDAAW;AAChF;;AAEA,qBAAqB,qDAAO;AAC5B,uBAAuB,0DAAU;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,6DAAa;AACvC,mBAAmB,0DAAa,CAAC,+CAAS;AAC1C,MAAM,yDAAY,CAAC,sDAAS;AAC5B,qBAAqB,QAAQ;AAC7B,iBAAiB,uDAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,uDAAO;AAC5B,yBAAyB,sDAAU;AACnC,6BAA6B;AAC7B,oBAAoB,sDAAS,8BAA8B,6DAAa;;AAExE;AACA;AACA;;AAEA,qBAAqB,QAAQ;AAC7B;AACA;AACA,SAAS;AACT,wBAAwB,2DAAc;AACtC,UAAU,wDAAW;AACrB;AACA;AACA;AACA,uDAAuD,4DAAY;AACnE,QAAQ,wDAAW;AACnB,wBAAwB,QAAQ;AAChC,mBAAmB,mEAAmB;AACtC;AACA;AACA;AACA,QAAQ,wDAAW;AACnB;AACA;AACA,sBAAsB,QAAQ;AAC9B,iBAAiB,uDAAO;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B,uDAAO,QAAQ,sDAAU;AACxD;AACA,MAAM,wDAAW,UAAU,2DAAc;AACzC,MAAM,wDAAW;AACjB,6BAA6B,mEAAmB;AAChD;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,+BAA+B,4DAAY;AAC3C;AACA;AACA,SAAS;AACT;AACA,+BAA+B,4DAAY;AAC3C;AACA,oBAAoB,uDAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA,wBAAwB,2DAAc;AACtC,UAAU,wDAAW,WAAW,sDAAM;AACtC;AACA;AACA;AACA;AACA,YAAY,yDAAY;AACxB,WAAW;AACX,YAAY,wDAAW;AACvB;AACA,2BAA2B,qBAAqB;AAChD,wBAAwB,mEAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2DAAc;AACpC;AACA;AACA,UAAU,wDAAW,gBAAgB,sDAAM;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,wDAAU;AAClB;AACA;AACA,YAAY,yDAAY,iBAAiB,6DAAa;AACtD,oCAAoC,mEAAmB;AACvD;AACA;AACA;AACA;AACA;;AAEA,SAAS,0DAAU;AACnB;AACA;AACA;;;;;;;;;;;;;AC7cA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE4B;AAGX;AAGU;;AAEpB;;AAEA,4BAA4B,2DAAoB;AACvD;AACA,kBAAkB,sEAAa;AAC/B;AACA,KAAK;AACL,IAAI,+DAAO;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACrB2B;AAGC;;AASD;AAOX;AAGC;;AAEjB;AACA,aAAa,sEAAyB;AACtC;AACA;AACA;AACA,UAAU,0DAAa,CAAC,+CAAS;AACjC,GAAG;AACH,2BAA2B;AAC3B;AACA;AACA;;AAEO,gCAAgC,yDAAS;AAChD;AACA,cAAc,8DAAc;A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M;AACvC,kBAAkB,oDAAM;AACxB,qBAAqB,oDAAM;AAC3B,oBAAoB,oDAAM;AAC1B,yBAAyB,oDAAM;AAC/B,6BAA6B,oDAAM;AACnC,sBAAsB,oDAAM;AAC5B,uBAAuB,oDAAM;AAC7B,uBAAuB,oDAAM;AAC7B,qBAAqB,oDAAM;AAC3B,4BAA4B,oDAAM;AAClC,gCAAgC,oDAAM;AACtC,8BAA8B,oDAAM;AACpC,sBAAsB,oDAAM;AAC5B,qBAAqB,oDAAM;AAC3B,2BAA2B,oDAAM;AACjC,uBAAuB,oDAAM;AAC7B,oBAAoB,oDAAM;AAC1B,oBAAoB,oDAAM;AAC1B,gBAAgB,oDAAM;AACtB,eAAe,oDAAM;AACrB,uBAAuB,oDAAM;AAC7B,wBAAwB,oDAAM;AAC9B,cAAc,oDAAM;AACpB;AACA;AACA;AACA;AACA;AACP;AACA;;AAEO,eAAe,oDAAM;AACrB,2BAA2B,oDAAM;AACxC,iCAAiC,oDAAM;;AAEvC;AACA;AACA,SAAS,0DAAY,CAAC,+DAAiB;AACvC;;AAEO,wBAAwB,oDAAS;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,WAAW;AACxB;AACA;AACA,SAAS,sDAAQ,aAAa,wDAAQ;AACtC;AACA;AACA,gBAAgB,oDAAS;;AAEzB;;AAEA,SAAS,wDAAQ;AACjB,SAAS,iEAAgB;;AAEzB;AACA,SAAS,iDAAU;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sEAAa;AACxB;;AAEA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,eAAe;AAC5B,eAAe,SAAS;AACxB;AACA;AACA,0BAA0B,0DAAa;AACvC;AACA,KAAK;;AAEL,mBAAmB,sEAAwB;AAC3C;AACA;AACA,MAAM,yDAAW;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA,qBAAqB,oDAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA,0BAA0B,wDAAU;AACpC;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,wDAAU;AACpC;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,wDAAU;AACpC;AACA;AACA;;AAEA,GAAG,qDAAK;AACR,SAAS,wDAAQ,EAAE,qDAAK;AACxB;AACA;AACA;;AAEA;AACA,gBAAgB,oEAAsB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qDAAO;AAC/B,cAAc,4DAAc;AAC5B,8CAA8C,wDAAU;AACxD;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA,GAAG,sDAAM;AACT,SAAS,wDAAQ,EAAE,sDAAM;AACzB;AACA;AACA;;AAEA,GAAG,yDAAS;AACZ,gBAAgB,wDAAQ,EAAE,yDAAS;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,iDAAW;AACjD;AACA,SAAS,wDAAU;AACnB,MAAM,wDAAU,uBAAuB,WAAW;AAClD;AACA,IAAI,8CAAY,CAAC,iDAAU;AAC3B;AACA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,QAAQ;AACrB;AACA;AACA,SAAS,uDAAS,cAAc,wDAAU;AAC1C;AACA,MAAM,wDAAU;AAChB;AACA;AACA,IAAI,8CAAY,CAAC,oDAAa;AAC9B;AACA,MAAM,yDAAY,CAAC,sDAAS;AAC5B,KAAK;AACL,MAAM,wDAAW;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC;AAClC,SAAS,iDAAM,EAAE,+DAAyB;AAC1C;;AAEA;AACA,UAAU,gDAAK;AACf;AACA,IAAI,8CAAY,CAAC,iDAAU;;AAE3B;AACA;AACA,UAAU,wDAAQ,EAAE,uDAAU;AAC9B;AACA,IAAI,mEAAqB;AACzB;AACA,KAAK;AACL;;AAEA;AACA,SAAS,wDAAQ,EAAE,uDAAU;AAC7B,SAAS,iEAAgB;;AAEzB;AACA;AACA;AACA,QAAQ,4DAAc;AACtB,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,iEAAgB;AAC3B,WAAW,wDAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,gCAAgC,sDAAS;AACzC,QAAQ,wDAAW;AACnB;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,wDAAQ,EAAE,0DAAU;AAC7B,uBAAuB,wDAAQ,EAAE,0DAAU;;AAE3C;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,4DAA4D;AAC5D;AACA,SAAS,iDAAM,EAAE,6DAAuB;AACxC;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,wDAAU;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,oEAAsB;AACxC;AACA;AACA;AACA;AACA,uBAAuB,0DAAY;AACnC;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+DAAiB;AACzC,OAAO;AACP;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,oEAAsB;AACtC;AACA;AACA;AACA,KAAK,UAAU,qDAAO;AACtB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,MAAM,sEAAwB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sEAAwB;AAC5B;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA,gEAAgE,sBAAsB;AACtF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,iEAAmB;AACvB;AACA,KAAK;AACL,IAAI,mEAAqB;AACzB;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,qDAAO;AACjB,QAAQ,yDAAW;AACnB,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,QAAQ,sDAAM;AACd,GAAG;;AAEH;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP,OAAO,qDAAO;AACd;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,GAAG;AACH;;AAEO;AACP,aAAa,0DAAa,CAAC,+CAAS;AACpC;AACA;AACA;;AAEO;AACP,aAAa,0DAAa;AAC1B,kCAAkC;AAClC,GAAG;AACH;AACA;AACA;AACA;;AAEO;AACP,aAAa,2DAAc;AAC3B;AACA;AACA;;;;;;;;;;;;;AC1rBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGiB;AAIE;AAIE;;AAEd,sBAAsB,oDAAS;AAC/B,0BAA0B,oDAAM;;AAEvC;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACO;AACP;AACA;;AAEO;AACP,kBAAkB,sDAAQ,2BAA2B;AACrD;AACA;AACA,2BAA2B,oBAAoB;AAC/C,cAAc,QAAQ;AACtB;AACA;AACA,yCAAyC,EAAE;AAC3C,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEO;AACP;AACA,QAAQ,8CAAM,CAAC,mEAA2B;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iDAAM;AACpB;AACA;;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACA;AACV;AACU;;AAOvC;;;;;;;;;;;;;ACVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIiB;;AAEV,kBAAkB,oDAAM;;AAExB;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP,oBAAoB,wEAA0B;AAC9C;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO,eAAe,oDAAM;AACrB,WAAW,oDAAM;AACjB,YAAY,oDAAM;AAClB,cAAc,oDAAM;;AAEpB;AACP;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,oEAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oEAAsB;AACzC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKiB;AAKD;;AAET,mBAAmB,oDAAM;AACzB,mBAAmB,oDAAM;AACzB,mBAAmB,oDAAM;AACzB,sBAAsB,oDAAM;;AAE5B;AACP;AACA;AACA;AACA,kCAAkC,+DAAiB;AACnD;AACA;AACA,IAAI,0DAAY;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,0DAAa;AAC1B,8BAA8B,cAAc;AAC5C;AACA,GAAG;AACH,EAAE,wDAAW;AACb,SAAS,+DAAkB;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,0DAAa;AAChC;AACA;AACA,KAAK;AACL,IAAI,wDAAW;AACf;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iDAAG,GAAG;AAC9B,uBAAuB,uBAAuB,8CAA8C,wBAAwB;AACpH,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACO;;;;;;;;;;;;;AChHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGgB;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACP,cAAc,6DAAgB;AAC9B,MAAM,+DAAkB;AACxB;AACA,GAAG,UAAU,+DAAkB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP,cAAc,6DAAgB;AAC9B,YAAY,+DAAkB;AAC9B;AACA;AACA;AACA,QAAQ,+DAAkB;AAC1B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKiB;;AAEV;AACP;AACA;;AAEO;AACP,MAAM,qDAAO;AACb;AACA;AACA;AACA;;AAEO;AACP;AACA,MAAM,sDAAQ;AACd;AACA;AACA;AACA;AACA;AACA,MAAM,yDAAW;AACjB;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP;AACA,MAAM,sDAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,yDAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA,OAAO,qDAAO;AACd;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,QAAQ,qDAAO;AACf;AACA;AACA,QAAQ,sDAAQ;AAChB;AACA;AACA;AACA,GAAG;AACH;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,eAAe;AAC1B,aAAa,SAAS;AACtB;AACO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;AC1MA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACR;AACN;AACE;AACA;AACU;;AAIf;AAGA;AAID;AAIE;AAGK;AAGJ;AAGD;AAGA;AAqBD;AAIC;AAOD;AAQA;AAQL;AAGK;AAmBV;;AASd;;;;;;;;;;;;;;;;;;;;;AC9GK;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEO;AACP,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEO;AACP;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCO;AACP;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,sBAAsB,QAAQ,EAAE,6BAA6B;AAC7D;;AAEO;AACP;AACA,cAAc,EAAE,IAAI,OAAO;AAC3B,GAAG,SAAS;AACZ;;AAEO;AACP;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACA;;AAEA;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACA;AACA;AACA;;AAEA;AACA;;AAEP;AACA;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBP;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,6BAA6B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;;AAEA;AACA;AACA;AACA,4CAA4C,4BAA4B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,2BAA2B;AAC3B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1KuB;AACC;AACD;AACC;AACC;AACA;;;;;;;;;;;;;ACNzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAKgB;AAKE;;AAElB,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA,OAAO,wDAAU,oCAAoC,0DAAU;AAC/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,IAAI,yDAAW;AACf;AACA,0CAA0C,mDAAG;AAC7C;AACA;AACA,MAAM,sDAAQ;AACd,MAAM,0DAAU;AAChB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEO;AACA;;;;;;;;;;;;;ACvEP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASiB;AAIE;;AAEZ,iBAAiB,oDAAM;AACvB,oBAAoB,oDAAM;AAC1B,sBAAsB,oDAAM;AAC5B,cAAc,oDAAM;AACpB,cAAc,oDAAM;AACpB,eAAe,oDAAM;AACrB,kBAAkB,oDAAM;;AAExB,mBAAmB,oDAAM;AAChC,aAAa,oDAAM;AACnB,gBAAgB,oDAAM;AACtB,uBAAuB,oDAAM;AAC7B,yBAAyB,oDAAM;AAC/B,kBAAkB,oDAAM;AACxB,qBAAqB,oDAAM;AAC3B,yBAAyB,oDAAM;AAC/B,2BAA2B,oDAAM;AACjC,uBAAuB,oDAAM;;AAEtB,mBAAmB,oDAAM;AACzB,sBAAsB,oDAAM;AAC5B,qBAAqB,oDAAM;AAC3B,gBAAgB,oDAAM;;AAEtB;AACP;AACA;AACA;AACO;AACP,SAAS,sDAAQ;AACjB;;AAEO;AACP,SAAS,sDAAQ;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wDAAwD,sDAAQ;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,oEAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,yDAAW;AACf;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B,8CAAM,CAAC,oDAAY;AACjD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,sDAAQ;AACjB;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,sEAAwB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,iEAAmB;AACvB,MAAM,sEAAwB;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,SAAS,yDAAW;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sEAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,iEAAmB;AACvB;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;ACvTA;AAAA;AAAA;AAAA;AAAA;AAA+B;AACE;;AAK/B;;;;;;;;;;;;;ACNF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASiB;AAaD;;AAET,yBAAyB,oDAAM;;AAEtC;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,wDAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,KAAK,8CAAQ,EAAE,+CAAS;AACxB;;AAEA;AACA,OAAO,0DAAY;AACnB;AACA;AACA;AACA;AACA,2BAA2B,yDAAW;AACtC;AACA;AACA,qBAAqB,yDAAW;AAChC,MAAM,sDAAQ,YAAY,wDAAU;AACpC;AACA;AACA,qBAAqB,KAAK,iBAAiB,YAAY,MAAM,MAAM;AACnE,MAAM,yDAAW;AACjB,WAAW,8CAAQ,EAAE,mDAAa;AAClC;AACA;AACA;AACA,UAAU,8CAAQ,EAAE,gDAAU;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA,yBAAyB,8CAAQ,EAAE,2CAAK;AACxC,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAe,gDAAU;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,YAAY;AACpB;AACA;AACA;AACA;;AAEA;AACA,OAAO,sDAAQ;AACf;AACA;AACA,uBAAuB,YAAY;AACnC;AACA,MAAM,yDAAW,SAAS,8CAAQ,EAAE,mDAAa;AACjD;AACA;AACA;AACA;AACA;AACA,8BAA8B,gDAAU;AACxC;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,qBAAqB,yDAAW;AAChC;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,mDAAa;AAChC;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,gDAAU;AAC7B;AACA;AACA,GAAG;AACH,gBAAgB,8CAAQ,EAAE,2CAAK;AAC/B;;AAEA;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,gDAAU;AAC7B;AACA,GAAG;AACH;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,mDAAa;AAChC;AACA,GAAG;AACH;AACA;AACA,gBAAgB,8CAAQ,EAAE,2CAAK;AAC/B;;AAEA;AACA;AACA;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,gDAAU;AAC7B,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,SAAS,yDAAW;AACpB,OAAO,8CAAQ,EAAE,kDAAY;AAC7B,GAAG;AACH;;AAEA;AACA,MAAM,sDAAQ;AACd,UAAU,8CAAQ;AAClB,kDAAkD,GAAG;AACrD,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,8CAAQ,EAAE,gDAAU;AAChC;AACA,KAAK;AACL,mBAAmB,cAAc;AACjC;AACA;AACA,UAAU,yDAAW;AACrB,WAAW,8CAAQ,EAAE,mDAAa;AAClC;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA,aAAa,yDAAW;AACxB,WAAW,8CAAQ,EAAE,kDAAY;AACjC;AACA;AACA;AACA;AACA,gCAAgC,gDAAU;AAC1C,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,mDAAa;AAChC;AACA,8BAA8B,gDAAU;AACxC,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY,8CAAQ,EAAE,gDAAU;AAChC;AACA,KAAK;AACL;AACA;AACA,8BAA8B,gDAAU;AACxC,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAQ,yDAAW;AACnB,SAAS,8CAAQ,EAAE,mDAAa;AAChC;AACA,8BAA8B,gDAAU;AACxC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY,8CAAQ,EAAE,gDAAU;AAChC;AACA,KAAK;AACL;AACA,8BAA8B,gDAAU;AACxC,iDAAiD,mBAAmB;AACpE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,OAAO,sDAAQ,OAAO,wDAAU;AAChC;AACA;AACA,MAAM,8CAAQ;AACd,MAAM,8CAAQ,EAAE,gDAAU;AAC1B;AACA;AACA;AACA,IAAI,8CAAQ,EAAE,gDAAU;AACxB;;AAEA;AACA,sBAAsB,oDAAc;AACpC,KAAK,8CAAQ;AACb;AACA,IAAI,uDAAS;AACb;AACA,UAAU,2CAAK;AACf;AACA;;AAEA;AACA,MAAM,sDAAQ;AACd;AACA,QAAQ,wDAAU,yBAAyB,8CAAQ;AACnD;AACA;;AAEA,QAAQ,qDAAO;AACf,qBAAqB,+BAA+B;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA,YAAY,0DAAY;AACxB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AAC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CA,+BAA+B,+DAAsB;AACrD;AACA,gCAAgC,2DAAmB;AACnD;AACA,mCAAmC,gEAAuB;AAC1D;AACA,0BAA0B,yDAAgB;AAC1C;AACA;AACA,6BAA6B,6DAAiB,EAAE,0DAAc;AAC9D;AACA,uBAAuB;AACvB;AACA,8BAA8B,+DAAmB;AACjD;AACA,mBAAmB;AACnB;AACA;AACA;AACA,aAAa;AACb;AACA,2BAA2B,2EAAsB;AACjD;AACA;AACA,iBAAiB,6DAAiB,EAAE,0DAAc;AAClD,2BAA2B,kDAAqB;AAChD,sBAAsB,6EAAiC;AACvD,mBAAmB,gFAA4B,IAAI,2DAAe;AAClE,WAAW;AACX;AACA;AACA;AACA,cAAc,+DAAmB;AACjC;AACA,GAAG;AACH;AACA,C;;;;;;;;;;;;;;;;;;AC/Y8B;AAGC;;AAMhB;;AAEe;;AAE9B;;AAEA,kBAAkB,+CAAS;AAC3B;AACA,WAAW,iDAAI;AACf;AACA;AACA;AACA;AACA,4BAA4B,gDAAE;AAC9B;AACA;AACA;AACA;AACA,4BAA4B,gDAAE;AAC9B;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gDAAE;AACnC;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;;AAEA,uDAAS;;;;;;;;;;;;ACnET;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;ACvLtC;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;;;;;;ACzLD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,mBAAO,CAAC,iEAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9DA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\nimport {\n  Component,\n  RENDER,\n  UPDATE,\n  GET_TRANSITION_DOM,\n  operateRootHtmlDOM,\n  UPDATE_IF_NEED\n} from '../core/component';\nimport {\n  addClass,\n  removeClass,\n  addEvent,\n  removeEvent\n} from '../dom';\nimport {\n  isObject,\n  setImmediate\n} from '../util';\nimport {\n  vmWatch\n} from '../viewmodel/core';\nimport {\n  NOTIFY\n} from '../core/messenger';\nimport {\n  TS_STATE_ENTERED,\n  TS_STATE_LEAVED,\n  TS_STATE_LEAVING,\n  TS_STATE_ENTERING,\n  TS_ENTER,\n  TS_LEAVE,\n  TS_TRANSITION,\n  TS_LEAVE_CANCELLED,\n  TS_ENTER_CANCELLED,\n  TS_BEFORE_ENTER,\n  TS_BEFORE_LEAVE,\n  TS_TRANSITION_END,\n  TS_ANIMATION_END,\n  TS_AFTER_ENTER,\n  TS_AFTER_LEAVE,\n  TS_C_ENTER,\n  TS_C_LEAVE,\n  TS_C_ENTER_ACTIVE,\n  TS_C_LEAVE_ACTIVE,\n  getDurationType\n} from '../core/transition';\n\nexport class ToggleClassComponent extends Component {\n  constructor(attrs) {\n    if (!attrs || !isObject(attrs.class)) {\n      throw new Error('<toggle-class> component require \"class\" attribute to be Object.');\n    }\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_2 = () => {\n      vm_e163cba0ee.class = attrs.class;\n    };\n    fn_e163cba0ee_2();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('class', fn_e163cba0ee_2);\n    const fn_e163cba0ee_3 = () => {\n      vm_e163cba0ee.trans = !!attrs.transition;\n    };\n    fn_e163cba0ee_3();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('transition', fn_e163cba0ee_3);\n    vm_e163cba0ee._t = null;\n    vm_e163cba0ee._i = null;\n    vmWatch(this, 'class.**', () => {\n      vm_e163cba0ee[UPDATE_IF_NEED]();\n    });\n    return vm_e163cba0ee;\n  }\n\n  [RENDER]() {\n    const rr = super[RENDER]();\n    this[UPDATE](true);\n    return rr;\n  }\n\n  [UPDATE](init) {\n    const el = this.trans ? this[GET_TRANSITION_DOM]() : this;\n    if (el.nodeType !== Node.ELEMENT_NODE) {\n      // ignore comment or text-node\n      return;\n    }\n    if (this.trans && !this._t) {\n      this._t = new Map();\n    }\n    const cs = this.class;\n    Object.keys(cs).forEach(k => {\n      const v = cs[k];\n      if (!this.trans) {\n        operateRootHtmlDOM(\n          v ? addClass : removeClass,\n          el, k\n        );\n        return;\n      }\n\n      if (init) {\n        this._t.set(k, [\n          v ? TS_STATE_ENTERED : TS_STATE_LEAVED, // state\n          null // saved onEnd callback\n        ]);\n        v ? addClass(el, k) : removeClass(el, k);\n        return;\n      }\n\n      const t = this._t.get(k);\n      if (!t) {\n        console.error('Unsupport <toogle-class> attribute. see https://todo');\n        return;\n      }\n      const s = t[0];\n      if ((v && s <= TS_STATE_ENTERED) || (!v && s >= TS_STATE_LEAVING)) {\n        return;\n      }\n\n      if (s === (v ? TS_STATE_LEAVING : TS_STATE_ENTERING)) {\n        // debugger;\n        removeClass(el, k + (v ? TS_C_LEAVE : TS_C_ENTER));\n        removeClass(el, k + (v ? TS_C_LEAVE_ACTIVE : TS_C_ENTER_ACTIVE));\n        removeEvent(el, TS_TRANSITION_END, t[1]);\n        removeEvent(el, TS_ANIMATION_END, t[1]);\n        t[1] = null;\n        this[NOTIFY](TS_TRANSITION, v ? TS_LEAVE_CANCELLED : TS_ENTER_CANCELLED, k, el);\n      }\n      const classOfStart = k + (v ? TS_C_ENTER : TS_C_LEAVE);\n      const classOfActive = k + (v ? TS_C_ENTER_ACTIVE : TS_C_LEAVE_ACTIVE);\n      addClass(el, classOfStart);\n      // force render by calling getComputedStyle\n      getDurationType(el);\n      addClass(el, classOfActive);\n      const tsEndName = getDurationType(el);\n      if (!tsEndName) {\n        removeClass(el, classOfStart);\n        removeClass(el, classOfActive);\n        t[0] = v ? TS_STATE_ENTERED : TS_STATE_LEAVED;\n        v ? addClass(el, k) : removeClass(el, k);\n        return;\n      }\n      const onEnd = () => {\n        removeEvent(el, TS_TRANSITION_END, onEnd);\n        removeEvent(el, TS_ANIMATION_END, onEnd);\n        removeClass(el, classOfStart);\n        removeClass(el, classOfActive);\n        t[1] = null;\n        t[0] = v ? TS_STATE_ENTERED : TS_STATE_LEAVED;\n        v ? addClass(el, k) : removeClass(el, k);\n        this[NOTIFY](TS_TRANSITION, v ? TS_AFTER_ENTER : TS_AFTER_LEAVE, k, el);\n      };\n      t[0] = v ? TS_STATE_ENTERING : TS_STATE_LEAVING;\n      t[1] = onEnd;\n      addEvent(el, tsEndName, onEnd);\n      this[NOTIFY](TS_TRANSITION, v ? TS_BEFORE_ENTER : TS_BEFORE_LEAVE, k, el);\n      setImmediate(() => {\n        this[NOTIFY](TS_TRANSITION, v ? TS_ENTER : TS_LEAVE, k, el);\n      });\n    });\n  }\n}\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\nimport {\n  Component,\n  RENDER,\n  ROOT_NODES,\n  ARG_COMPONENTS,\n  UPDATE_IF_NEED,\n  UPDATE,\n  DESTROY,\n  isComponent,\n  GET_FIRST_DOM,\n  CONTEXT,\n  HANDLE_AFTER_RENDER,\n  GET_LAST_DOM\n} from '../core/component';\nimport {\n  isArray,\n  Symbol,\n  STR_DEFAULT,\n  isObject,\n  assertFail,\n  STR_EMPTY,\n  STR_LENGTH,\n  isNumber,\n  isString\n} from '../util';\nimport {\n  createComment,\n  createFragment,\n  appendChild,\n  getParent,\n  insertBefore,\n  removeChild,\n  insertAfter\n} from '../dom';\nimport {\n  wrapAttrs\n} from '../viewmodel/proxy';\nimport {\n  VM_DEBUG_NAME,\n  vmWatch,\n  VM_ATTRS,\n  isInnerObj\n} from '../viewmodel/core';\nimport {\n  CSTYLE_PID,\n  addParentStyleId\n} from '../core/style';\n\nexport const FOR_LENGTH = Symbol('length');\nexport const FOR_KEYS = Symbol('keys');\nexport const FOR_KEY_NAME = Symbol('key');\nexport const FOR_WAIT_UPDATE = Symbol('waiting_update');\nexport const FOR_UPDATE_ITEM = Symbol('update_item');\n\nconst KEY_INDEX = 'index';\nconst KEY_EACH = 'each';\nconst EMP_ARR = [];\n\nexport class ForEachComponent extends Component {\n  constructor(attrs, item, index, isLast) {\n    const vm_e163cba0ee = super(attrs);\n    vm_e163cba0ee.each = item;\n    vm_e163cba0ee.index = index;\n    vm_e163cba0ee.isFirst = index === 0;\n    vm_e163cba0ee.isLast = isLast;\n    return vm_e163cba0ee;\n  }\n\n  [RENDER]() {\n    const renderFn = this[ARG_COMPONENTS][STR_DEFAULT];\n    if (!renderFn) assertFail();\n    return renderFn(this);\n  }\n}\n\nfunction createEl(item, i, isLast, itemRenderFn, context, cstyPid) {\n  const el = new ForEachComponent(wrapAttrs({\n    [VM_DEBUG_NAME]: 'attrs_of_<for-each>',\n    [CONTEXT]: context,\n    [ARG_COMPONENTS]: {\n      [STR_DEFAULT]: itemRenderFn\n    }\n  }), item, i, isLast);\n  cstyPid && addParentStyleId(el, cstyPid);\n  return el;\n}\n\nfunction appendRenderEach(item, i, isLast, itemRenderFn, roots, context, cstyPid) {\n  const el = createEl(item, i, isLast, itemRenderFn, context, cstyPid);\n  roots.push(el);\n  return el[RENDER]();\n}\n\nfunction _assertVm(item, i) {\n  if (isObject(item) && !isInnerObj(item) && !(VM_ATTRS in item)) {\n    throw new Error(`loop item [${i}] of <for> component must be ViewModel.`);\n  }\n}\n\nfunction _prepareKey(item, i, keyMap, keyName) {\n  const key = keyName === KEY_EACH ? item : keyName(item);\n  if (keyMap.has(key)) {\n    console.error(`loop items [${i}] and [${keyMap.get(key)}] of <for> component both have key '${key}', dulplicated key may cause update error.`);\n  }\n  keyMap.set(key, i);\n  return key;\n}\n\nfunction renderItems(items, itemRenderFn, roots, keys, keyName, context, cstyPid) {\n  const result = [];\n  const tmpKeyMap = new Map();\n  items.forEach((item, i) => {\n    _assertVm(item, i);\n    if (keyName !== KEY_INDEX) {\n      keys.push(_prepareKey(item, i, tmpKeyMap, keyName));\n    }\n    result.push(...appendRenderEach(item, i, i === items.length - 1, itemRenderFn, roots, context, cstyPid));\n  });\n  return result;\n}\n\nfunction loopAppend($parent, el) {\n  el[ROOT_NODES].forEach(node => {\n    if (isComponent(node)) {\n      loopAppend($parent, node);\n    } else {\n      appendChild($parent, node);\n    }\n  });\n}\n\nfunction updateEl(el, i, items) {\n  if (el.isFirst !== (i === 0)) {\n    el.isFirst = i === 0;\n  }\n  if (el.isLast !== (i === items.length - 1)) {\n    el.isLast = (i === items.length - 1);\n  }\n  if (el.index !== i) {\n    el.index = i;\n  }\n  if (el.each !== items[i]) {\n    el.each = items[i];\n  }\n}\n\nfunction _parseIndexPath(p) {\n  return (isString(p) && p !== STR_LENGTH && /^\\d+$/.test(p)) ? Number(p) : p;\n}\n\nexport class ForComponent extends Component {\n  constructor(attrs) {\n    if (attrs.key && !/^(index|each(.[\\w\\d$_]+)*)$/.test(attrs.key)) {\n      throw new Error('Value of \"_key\" attribute of <for> component is invalidate. See https://[todo]');\n    }\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_2 = () => {\n      vm_e163cba0ee.loop = attrs.loop;\n    };\n    fn_e163cba0ee_2();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('loop', fn_e163cba0ee_2);\n    const kn = attrs.key || KEY_INDEX;\n    vm_e163cba0ee[FOR_KEY_NAME] = kn;\n    vm_e163cba0ee[FOR_LENGTH] = 0;\n    vm_e163cba0ee[FOR_KEYS] = null;\n    vm_e163cba0ee[FOR_WAIT_UPDATE] = false;\n    if (kn !== KEY_INDEX && kn !== KEY_EACH) {\n      vm_e163cba0ee[FOR_KEY_NAME] = new Function(KEY_EACH, `return ${ kn }`);\n      const propCount = kn.split('.').length + 1;\n      vmWatch(this, 'loop.*.' + kn.slice(5), propPath => {\n        if (propPath.length !== propCount || vm_e163cba0ee[FOR_WAIT_UPDATE]) {\n          return;\n        }\n        const items = vm_e163cba0ee.loop;\n        if (!isArray(items) || items.length === 0)\n          return;\n        const p = _parseIndexPath(propPath[1]);\n        if (!isNumber(p) || p >= items.length) {\n          return;\n        }\n        vm_e163cba0ee[FOR_KEYS][p] = vm_e163cba0ee[FOR_KEY_NAME](items[p]);\n      });\n    }\n    vmWatch(this, 'loop.*', propPath => {\n      if (propPath.length !== 2 || vm_e163cba0ee[FOR_WAIT_UPDATE]) {\n        return;\n      }\n      console.log(propPath);\n      const p = _parseIndexPath(propPath[1]);\n      if (p === STR_LENGTH) {\n        vm_e163cba0ee[FOR_WAIT_UPDATE] = true;\n        vm_e163cba0ee[UPDATE_IF_NEED]();\n      } else if (isNumber(p)) {\n        vm_e163cba0ee[FOR_UPDATE_ITEM](p);\n      }\n    });\n    return vm_e163cba0ee;\n  }\n\n  get loop() {\n    return this._l;\n  }\n\n  set loop(v) {\n    // console.log('set loop');\n    this._l = v;\n    this[FOR_WAIT_UPDATE] = true;\n    this[UPDATE_IF_NEED]();\n  }\n\n  [RENDER]() {\n    const roots = this[ROOT_NODES];\n    const itemRenderFn = this[ARG_COMPONENTS] ? this[ARG_COMPONENTS][STR_DEFAULT] : null;\n    if (!itemRenderFn) {\n      roots.push(createComment(STR_EMPTY));\n      return roots;\n    }\n    const items = this.loop;\n    const keyName = this[FOR_KEY_NAME];\n    if (keyName !== KEY_INDEX) this[FOR_KEYS] = [];\n    if (!isArray(items) || items.length === 0) {\n      roots.push(createComment(STR_EMPTY));\n      return roots;\n    }\n    this[FOR_LENGTH] = items.length;\n    return renderItems(\n      items,\n      itemRenderFn,\n      roots,\n      this[FOR_KEYS],\n      keyName,\n      this[CONTEXT],\n      this[CSTYLE_PID]\n    );\n  }\n\n  [FOR_UPDATE_ITEM](index) {\n    const items = this.loop;\n    const roots = this[ROOT_NODES];\n    if (!isArray(items) || index >= roots.length) return;\n    const keys = this[FOR_KEYS];\n    const item = items[index];\n    const oldEl = roots[index];\n    if (oldEl.each === item) {\n      return;\n    }\n    const itemRenderFn = this[ARG_COMPONENTS] ? this[ARG_COMPONENTS][STR_DEFAULT] : null;\n    if (!itemRenderFn) return;\n    // console.log('update item:', index);\n    const keyName = this[FOR_KEY_NAME];\n    if (keyName !== KEY_INDEX) {\n      const newKey = keyName === KEY_EACH ? item : keyName(item);\n      const oldKey = keys[index];\n      if (newKey !== oldKey) {\n        const $fd = oldEl[GET_FIRST_DOM]();\n        const newEl = createEl(\n          item, index, oldEl.isLast,\n          itemRenderFn, this[CONTEXT], this[CSTYLE_PID]\n        );\n        const rr = newEl[RENDER]();\n        insertBefore(getParent($fd), rr, $fd);\n        oldEl[DESTROY]();\n        roots[index] = newEl;\n        keys[index] = newKey;\n        newEl[HANDLE_AFTER_RENDER]();\n        // console.log('update item render:', index);\n      } else {\n        oldEl.each = item;\n      }\n    } else {\n      oldEl.each = item;\n    }\n  }\n\n  [UPDATE]() {\n    this[FOR_WAIT_UPDATE] = false;\n    // console.log('for update');\n    const itemRenderFn = this[ARG_COMPONENTS] ? this[ARG_COMPONENTS][STR_DEFAULT] : null;\n    if (!itemRenderFn) return;\n\n    const newItems = isArray(this.loop) ? this.loop : EMP_ARR;\n    const roots = this[ROOT_NODES];\n    const nl = newItems.length;\n    const ol = this[FOR_LENGTH];\n    // nothing changed, return directly.\n    if (nl === 0 && ol === 0) return;\n\n    const keyName = this[FOR_KEY_NAME];\n    // if new length equal 0, clear & render comment.\n    if (nl === 0 && ol > 0) {\n      const fd = roots[0][GET_FIRST_DOM]();\n      const $cmt = createComment(STR_EMPTY);\n      insertBefore(getParent(fd), $cmt, fd);\n      for (let i = 0; i < ol; i++) {\n        roots[i][DESTROY]();\n      }\n      roots.length = 1;\n      roots[0] = $cmt;\n      if (keyName !== KEY_INDEX) {\n        this[FOR_KEYS].length = 0;\n      }\n      this[FOR_LENGTH] = 0;\n      return;\n    }\n\n    this[FOR_LENGTH] = nl;\n    const ctx = this[CONTEXT];\n    const cstyPid = this[CSTYLE_PID];\n    const firstEl = roots[0]; // if ol === 0, firstEl is comment, else is component\n    const $parent = getParent(ol === 0 ? firstEl : firstEl[GET_FIRST_DOM]());\n\n    if (keyName === KEY_INDEX) {\n      let $f = null;\n      if (ol === 0) roots.length = 0;\n\n      for (let i = 0; i < nl; i++) {\n        if (i < ol) {\n          updateEl(roots[i], i, newItems);\n        } else {\n          if (!$f) $f = createFragment();\n          appendChild($f, ...appendRenderEach(newItems[i], i, i === nl - 1, itemRenderFn, roots, ctx, cstyPid));\n        }\n      }\n      if ($f) {\n        const $le = ol === 0 ? firstEl : roots[ol - 1][GET_LAST_DOM]();\n        insertAfter($parent, $f, $le);\n        for (let i = ol; i < nl; i++) {\n          roots[i][HANDLE_AFTER_RENDER]();\n        }\n      }\n      if (ol === 0) {\n        removeChild($parent, firstEl);\n      }\n      if (nl >= ol) return;\n      for (let i = nl; i < ol; i++) {\n        roots[i][DESTROY]();\n      }\n      roots.splice(nl);\n\n      return;\n    }\n\n    const oldKeys = this[FOR_KEYS];\n    if (ol === 0) {\n      roots.length = 0;\n      const rs = renderItems(\n        newItems, itemRenderFn, roots,\n        oldKeys, keyName, this[CONTEXT], this[CSTYLE_PID]\n      );\n      insertAfter($parent, createFragment(rs), firstEl);\n      removeChild($parent, firstEl);\n      roots.forEach(el => el[HANDLE_AFTER_RENDER]());\n      return;\n    }\n\n    const oldKeyMap = new Map();\n    oldKeys.forEach((k, i) => {\n      oldKeyMap.set(k, i);\n    });\n    const newKeys = [];\n    const newKeyMap = new Map();\n    newItems.forEach((item, i) => {\n      _assertVm(item, i);\n      newKeys.push(_prepareKey(item, i, newKeyMap, keyName));\n    });\n\n    let oi = 0;\n    let ni = 0;\n    let $lastS = null;\n    const newRoots = [];\n    const oldTags = new Uint8Array(ol);\n    while (oi < ol || ni < nl) {\n      while (oi < ol) {\n        if (oldTags[oi] !== 0) {\n          oi++;\n        } else if (newKeyMap.has(oldKeys[oi]) && newKeyMap.get(oldKeys[oi]) >= ni) {\n          if (oi === ol - 1) {\n            $lastS = roots[oi][GET_LAST_DOM]().nextSibling;\n          }\n          break;\n        } else {\n          if (oi === ol - 1) {\n            $lastS = roots[oi][GET_LAST_DOM]().nextSibling;\n          }\n          roots[oi][DESTROY]();\n          oi++;\n        }\n      }\n      if (oi >= ol) {\n        let $f = null;\n        const cei = newRoots.length;\n        for (; ni < nl; ni++) {\n          const el = createEl(newItems[ni], ni, ni === nl - 1, itemRenderFn, ctx, cstyPid);\n          if (!$f) $f = createFragment();\n          appendChild($f, ...el[RENDER]());\n          newRoots.push(el);\n        }\n        if ($f) {\n          if ($lastS) {\n            insertBefore($parent, $f, $lastS);\n          } else {\n            appendChild($parent, $f);\n          }\n          for (let i = cei; i < newRoots.length; i++) {\n            newRoots[i][HANDLE_AFTER_RENDER]();\n          }\n        }\n        break;\n      }\n      const oldKey = oldKeys[oi];\n      let $f = null;\n      let $nes = null;\n      while (ni < nl) {\n        const newKey = newKeys[ni];\n        if (newKey === oldKey) break;\n\n        let reuseEl = null;\n        if (oldKeyMap.has(newKey)) {\n          const oldIdx = oldKeyMap.get(newKey);\n          if (oldIdx > oi && oldTags[oldIdx] === 0) {\n            reuseEl = roots[oldIdx];\n            oldTags[oldIdx] = 1;\n          }\n        }\n        if (!$f) $f = createFragment();\n        if (!reuseEl) {\n          reuseEl = createEl(newItems[ni], ni, ni === nl - 1, itemRenderFn, ctx, cstyPid);\n          appendChild($f, ...reuseEl[RENDER]());\n          if (!$nes) $nes = [];\n          $nes.push(reuseEl);\n        } else {\n          loopAppend($f, reuseEl);\n          updateEl(reuseEl, ni, newItems);\n        }\n        newRoots.push(reuseEl);\n        ni++;\n      }\n      if (ni >= nl) {\n        assertFail('unimpossible?!');\n      }\n      const el = roots[oi];\n      $f && insertBefore($parent, $f, el[GET_FIRST_DOM]());\n      $nes && $nes.forEach(el => el[HANDLE_AFTER_RENDER]());\n      updateEl(el, ni, newItems);\n      newRoots.push(el);\n      oi++;\n      ni++;\n    }\n\n    this[ROOT_NODES] = newRoots;\n    this[FOR_KEYS] = newKeys;\n  }\n}\n","import {\n  wrapViewModel\n} from '../viewmodel/proxy';\nimport {\n  ToggleClassComponent\n} from './class';\nimport {\n  vmWatch\n} from '../viewmodel/core';\n\nexport const STR_JG_HIDE = 'jg-hide';\n\nexport class HideComponent extends ToggleClassComponent {\n  constructor(attrs) {\n    attrs.class = wrapViewModel({\n      [STR_JG_HIDE]: !!attrs.test\n    });\n    vmWatch(attrs, 'test', () => {\n      if (attrs.class[STR_JG_HIDE] !== attrs.test) {\n        attrs.class[STR_JG_HIDE] = attrs.test;\n      }\n    });\n    // eslint-disable-next-line constructor-super\n    return super(attrs);\n  }\n}\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\nimport {\n  Component,\n  RENDER,\n  ARG_COMPONENTS,\n  UPDATE_IF_NEED,\n  UPDATE,\n  ROOT_NODES\n} from '../core/component';\nimport {\n  createElementWithoutAttrs,\n  getParent,\n  removeChild,\n  createComment,\n  insertBefore\n} from '../dom';\nimport {\n  STR_EMPTY\n} from '../util';\n\nfunction renderHtml(content) {\n  const $d = createElementWithoutAttrs('div');\n  $d.innerHTML = content || '';\n  let cn = $d.childNodes;\n  if (cn.length === 0) {\n    cn = [createComment(STR_EMPTY)];\n  } else {\n    cn = [].slice.call(cn); // convert NodeList to Array.\n  }\n  return cn;\n}\n\nexport class BindHtmlComponent extends Component {\n  constructor(attrs) {\n    if (attrs[ARG_COMPONENTS])\n      throw new Error('<bind-html/> don\\'t accept any child.');\n    if (!('content' in attrs))\n      throw new Error('<bind-html/> require \"content\" attribute');\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_3 = () => {\n      vm_e163cba0ee.c = attrs.content;\n    };\n    fn_e163cba0ee_3();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('content', fn_e163cba0ee_3);\n    return vm_e163cba0ee;\n  }\n\n  get c() {\n    return this._c;\n  }\n\n  set c(v) {\n    if (this._c === v) return;\n    this._c = v;\n    this[UPDATE_IF_NEED]();\n  }\n\n  [RENDER]() {\n    return (this[ROOT_NODES] = renderHtml(this._c));\n  }\n\n  [UPDATE]() {\n    const roots = this[ROOT_NODES];\n    const oldFirstEl = roots[0];\n    const $p = getParent(oldFirstEl);\n    const newEls = renderHtml(this._c);\n    insertBefore($p, newEls, oldFirstEl);\n    roots.forEach(oldEl => removeChild($p, oldEl));\n    this[ROOT_NODES] = newEls;\n  }\n}\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\n\nimport {\n  vmWatch,\n  vmUnwatch\n} from '../viewmodel/core';\nimport {\n  Component,\n  RENDER,\n  ROOT_NODES,\n  UPDATE,\n  BEFORE_DESTROY,\n  UPDATE_IF_NEED\n} from '../core/component';\nimport {\n  createTextNode,\n  setText,\n  createElementWithoutAttrs,\n  getParent,\n  removeChild,\n  appendChild\n} from '../dom';\nimport {\n  i18n,\n  messenger as i18nMessenger,\n  I18N_DATA_CHANGED,\n  _t as i18nRender\n} from '../core/i18n';\nimport {\n  ON,\n  OFF\n} from '../core/messenger';\n\nfunction render() {\n  if (this._h) {\n    const $c = createElementWithoutAttrs('div');\n    $c.innerHTML = this._r();\n    this[ROOT_NODES].push(...$c.childNodes);\n  } else {\n    const el = createTextNode(this._r());\n    this[ROOT_NODES].push(el);\n  }\n  return this[ROOT_NODES];\n}\n\nfunction update() {\n  const roots = this[ROOT_NODES];\n  if (this._h) {\n    const p = getParent(roots[0]);\n    if (roots.length > 0) {\n      roots.forEach(n => removeChild(p, n));\n      roots.length = 0;\n    }\n    appendChild(p, this[RENDER]());\n  } else {\n    setText(roots[0], this._r());\n  }\n}\n\nconst I18nComponentsCache = new Map();\nexport class I18nComponent extends Component {\n  static prefix(prefix, cache = true) {\n    let C = I18nComponentsCache.get(prefix);\n    if (C) return C;\n    /* eslint no-new-func:\"off\" */\n    C = new Function('BaseI18n', `\n    return class I18n_${prefix.replace(/\\./g, '_')} extends BaseI18n {\n      constructor(attrs) {\n        const vm = super(attrs);\n        this._f = '${prefix}';\n        return vm;\n      }\n    }`)(I18nComponent);\n    if (cache) {\n      I18nComponentsCache.set(prefix, C);\n    }\n    return C;\n  }\n\n  constructor(attrs) {\n    if (!attrs.key)\n      throw new Error('I18n component require attribute \"key\". see https://todo');\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_2 = () => {\n      vm_e163cba0ee.k = attrs.key;\n    };\n    fn_e163cba0ee_2();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('key', fn_e163cba0ee_2);\n    const fn_e163cba0ee_3 = () => {\n      vm_e163cba0ee.p = attrs.params;\n    };\n    fn_e163cba0ee_3();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('params', fn_e163cba0ee_3);\n    vm_e163cba0ee._h = !!attrs.html;\n    vm_e163cba0ee._f = '';\n    vm_e163cba0ee._o = vm_e163cba0ee[UPDATE_IF_NEED].bind(this);\n    vmWatch(this, 'p.**', vm_e163cba0ee._o);\n    i18nMessenger[ON](I18N_DATA_CHANGED, vm_e163cba0ee._o);\n    return vm_e163cba0ee;\n  }\n\n  [BEFORE_DESTROY]() {\n    vmUnwatch(this, 'p.**', this._o);\n    i18nMessenger[OFF](I18N_DATA_CHANGED, this._o);\n  }\n\n  get k() {\n    return this._k;\n  }\n\n  set k(v) {\n    if (this._k === v) return;\n    this._k = v;\n    this[UPDATE_IF_NEED]();\n  }\n\n  /**\n   * render text\n   */\n  _r() {\n    return i18n((this._f ? `${this._f}.` : '') + this._k, this.p);\n  }\n\n  [RENDER]() {\n    return render.call(this);\n  }\n\n  [UPDATE]() {\n    update.call(this);\n  }\n}\n\nexport class _TComponent extends Component {\n  constructor(attrs) {\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_1 = () => {\n      vm_e163cba0ee.p = attrs.params;\n    };\n    fn_e163cba0ee_1();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('params', fn_e163cba0ee_1);\n    vm_e163cba0ee._t = attrs.text;\n    vm_e163cba0ee._h = !!attrs.html;\n    vmWatch(this, 'p.**', () => vm_e163cba0ee[UPDATE_IF_NEED]());\n    return vm_e163cba0ee;\n  }\n\n  beforeDestroy() {\n    vmUnwatch(this, 'p.**');\n  }\n\n  _r() {\n    return i18nRender(this._t, this.p);\n  }\n\n  [RENDER]() {\n    return render.call(this);\n  }\n\n  [UPDATE]() {\n    update.call(this);\n  }\n}\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\nimport {\n  Component,\n  RENDER,\n  DESTROY,\n  ARG_COMPONENTS,\n  UPDATE_IF_NEED,\n  UPDATE,\n  ROOT_NODES,\n  HANDLE_AFTER_RENDER,\n  GET_FIRST_DOM,\n  CONTEXT,\n  isComponent,\n  GET_TRANSITION_DOM\n} from '../core/component';\nimport {\n  NOTIFY\n} from '../core/messenger';\nimport {\n  createComment,\n  getParent,\n  removeChild,\n  insertBefore,\n  removeClass,\n  removeEvent,\n  addClass,\n  addEvent\n} from '../dom';\nimport {\n  wrapAttrs\n} from '../viewmodel/proxy';\nimport {\n  STR_DEFAULT,\n  STR_EMPTY,\n  raf,\n  createEmptyObject,\n  Symbol\n} from '../util';\nimport {\n  VM_DEBUG_NAME\n} from '../viewmodel/core';\n\nimport {\n  TS_STATE_ENTERED,\n  TS_STATE_LEAVED,\n  TS_STATE_LEAVING,\n  TS_STATE_ENTERING,\n  TS_ENTER,\n  TS_LEAVE,\n  TS_TRANSITION,\n  TS_LEAVE_CANCELLED,\n  TS_ENTER_CANCELLED,\n  TS_BEFORE_ENTER,\n  TS_BEFORE_LEAVE,\n  TS_TRANSITION_END,\n  TS_ANIMATION_END,\n  TS_AFTER_ENTER,\n  TS_AFTER_LEAVE,\n  TS_C_ENTER,\n  TS_C_LEAVE,\n  TS_C_ENTER_ACTIVE,\n  TS_C_LEAVE_ACTIVE,\n  getDurationType\n} from '../core/transition';\nimport {\n  addParentStyleId,\n  CSTYLE_PID\n} from '../core/style';\n\nconst IF_STR_ELSE = 'else';\nconst T_MAP = Symbol('transition_map');\nconst P_VAL = Symbol('previous_value');\nconst OE_H = Symbol('on_end_handler');\n\nconst C_BV = Symbol('current_branch_value');\nconst C_VAL = Symbol('current_value');\nconst ON_TS_END = Symbol('on_ts_end');\n\nfunction createEl(renderFn, context, parentStyleIds) {\n  const el = new Component(wrapAttrs({\n    [VM_DEBUG_NAME]: 'attrs_of_<if>',\n    [CONTEXT]: context,\n    [ARG_COMPONENTS]: {\n      [STR_DEFAULT]: renderFn\n    }\n  }));\n  parentStyleIds && addParentStyleId(el, parentStyleIds);\n  return el;\n}\n\nfunction renderSwitch(component) {\n  const value = component[C_VAL];\n  const acs = component[ARG_COMPONENTS];\n  if (component.ts && acs) {\n    const t = createEmptyObject();\n    for (const k in acs) {\n      t[k] = [\n        k === value ? TS_STATE_ENTERED : TS_STATE_LEAVED,\n        null // element\n      ];\n    }\n    component[T_MAP] = t;\n    component[P_VAL] = value;\n    component[OE_H] = component[ON_TS_END].bind(component);\n  }\n  const renderFn = acs ? acs[value] : null;\n  const roots = component[ROOT_NODES];\n  if (!renderFn) {\n    roots.push(createComment(STR_EMPTY));\n    return roots;\n  }\n  const el = createEl(renderFn, component[CONTEXT], component[CSTYLE_PID]);\n  roots.push(el);\n  return el[RENDER]();\n}\n\nfunction updateSwitch(component) {\n  if (!isComponent(component[ROOT_NODES][0]) && (\n    !component[ARG_COMPONENTS] || !component[ARG_COMPONENTS][component[C_VAL]]\n  )) {\n    return;\n  }\n\n  if (component[T_MAP]) {\n    return updateSwitchWithTransition(component);\n  }\n\n  doUpdate(component);\n}\n\nfunction doUpdate(component) {\n  const roots = component[ROOT_NODES];\n  const el = roots[0];\n  const isC = isComponent(el);\n  const fd = isC ? el[GET_FIRST_DOM]() : el;\n  const pa = getParent(isC ? fd : el);\n  const renderFn = component[ARG_COMPONENTS] ? component[ARG_COMPONENTS][component[C_VAL]] : null;\n  const ne = renderFn ? createEl(renderFn, component[CONTEXT], component[CSTYLE_PID]) : null;\n  roots[0] = ne || createComment(STR_EMPTY);\n  insertBefore(\n    pa,\n    ne ? ne[RENDER]() : roots[0],\n    fd\n  );\n  if (isC) {\n    el[DESTROY]();\n  } else {\n    removeChild(pa, fd);\n  }\n  ne && renderFn && ne[HANDLE_AFTER_RENDER]();\n  component[NOTIFY]('branch-switched', component[C_BV]);\n}\n\nfunction cancelTs(t, tn, e, component) {\n  const el = t[1];\n  if (el.nodeType !== Node.ELEMENT_NODE) {\n    return;\n  }\n  const onEnd = component[OE_H];\n  removeClass(el, tn + (e ? TS_C_ENTER : TS_C_LEAVE));\n  removeClass(el, tn + (e ? TS_C_ENTER_ACTIVE : TS_C_LEAVE_ACTIVE));\n  removeEvent(el, TS_TRANSITION_END, onEnd);\n  removeEvent(el, TS_ANIMATION_END, onEnd);\n  component[NOTIFY](TS_TRANSITION, e ? TS_ENTER_CANCELLED : TS_LEAVE_CANCELLED, el);\n}\n\nfunction startTs(t, tn, e, component) {\n  const el = t[1];\n  const onEnd = component[OE_H];\n  if (el.nodeType !== Node.ELEMENT_NODE) {\n    raf(onEnd);\n    return;\n  }\n  const classOfStart = tn + (e ? TS_C_ENTER : TS_C_LEAVE);\n  const classOfActive = tn + (e ? TS_C_ENTER_ACTIVE : TS_C_LEAVE_ACTIVE);\n\n  addClass(el, classOfStart);\n  // force render by calling getComputedStyle\n  getDurationType(el);\n  addClass(el, classOfActive);\n  const tsEndName = getDurationType(el);\n  if (!tsEndName) {\n    raf(onEnd);\n    return;\n  }\n  t[0] = e ? TS_STATE_ENTERING : TS_STATE_LEAVING;\n  addEvent(el, tsEndName, onEnd);\n  component[NOTIFY](TS_TRANSITION, e ? TS_BEFORE_ENTER : TS_BEFORE_LEAVE, el);\n  raf(() => {\n    component[NOTIFY](TS_TRANSITION, e ? TS_ENTER : TS_LEAVE, el);\n  });\n}\nfunction updateSwitchWithTransition(component) {\n  const value = component[C_VAL];\n  const pv = component[P_VAL];\n  const tn = component.ts;\n  let pt = component[T_MAP][pv];\n  if (!pt) {\n    pt = [\n      pv === IF_STR_ELSE ? TS_STATE_LEAVED : TS_STATE_ENTERED,\n      null, null\n    ];\n    component[T_MAP][pv] = pt;\n  }\n  // debugger;\n  if (pt[0] === TS_STATE_ENTERING) {\n    if (value === pv) return;\n    cancelTs(pt, tn, true, component);\n    startTs(pt, tn, false, component);\n  } else if (pt[0] === TS_STATE_LEAVING) {\n    if (value !== pv) return;\n    cancelTs(pt, tn, false, component);\n    startTs(pt, tn, true, component);\n  } else if (pt[0] === TS_STATE_ENTERED) {\n    pt[1] = component[GET_TRANSITION_DOM]();\n    startTs(pt, tn, false, component);\n  } else if (pt[0] === TS_STATE_LEAVED) {\n    pt[1] = component[GET_TRANSITION_DOM]();\n    startTs(pt, tn, true, component);\n  }\n}\n\nfunction updateSwitchOnTransitionEnd(component) {\n  // console.log('on end')\n  const value = component[C_VAL];\n  const pv = component[P_VAL];\n  const tn = component.ts;\n  const pt = component[T_MAP][pv];\n  const e = pt[0] === TS_STATE_ENTERING;\n  const el = pt[1];\n\n  if (el.nodeType === Node.ELEMENT_NODE) {\n    removeEvent(el, TS_TRANSITION_END, component[OE_H]);\n    removeEvent(el, TS_ANIMATION_END, component[OE_H]);\n    removeClass(el, tn + (e ? TS_C_ENTER : TS_C_LEAVE));\n    removeClass(el, tn + (e ? TS_C_ENTER_ACTIVE : TS_C_LEAVE_ACTIVE));\n    component[NOTIFY](TS_TRANSITION, e ? TS_AFTER_ENTER : TS_AFTER_LEAVE);\n  }\n\n  pt[0] = e ? TS_STATE_ENTERED : TS_STATE_LEAVED;\n\n  if (e) return;\n\n  doUpdate(component);\n  component[P_VAL] = value;\n  const ct = component[T_MAP][value];\n  if (!ct) {\n    return;\n  }\n  const fd = component[GET_TRANSITION_DOM]();\n  if (fd.nodeType !== Node.ELEMENT_NODE) {\n    ct[0] = TS_STATE_ENTERED;\n    return;\n  }\n\n  ct[1] = fd;\n  startTs(ct, tn, true, component);\n}\n\nexport class IfComponent extends Component {\n  constructor(attrs) {\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_1 = () => {\n      vm_e163cba0ee.expect = attrs.expect;\n    };\n    fn_e163cba0ee_1();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('expect', fn_e163cba0ee_1);\n    const fn_e163cba0ee_2 = () => {\n      vm_e163cba0ee.ts = attrs.transition;\n    };\n    fn_e163cba0ee_2();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('transition', fn_e163cba0ee_2);\n    return vm_e163cba0ee;\n  }\n\n  get expect() {\n    return this[C_VAL] === STR_DEFAULT;\n  }\n\n  set expect(v) {\n    v = v ? STR_DEFAULT : IF_STR_ELSE;\n    if (this[C_VAL] === v) return;\n    this[C_VAL] = v;\n    this[UPDATE_IF_NEED]();\n  }\n\n  get [C_BV]() {\n    return this.expect;\n  }\n\n  [ON_TS_END]() {\n    updateSwitchOnTransitionEnd(this);\n  }\n\n  [RENDER]() {\n    return renderSwitch(this);\n  }\n\n  [UPDATE]() {\n    updateSwitch(this);\n  }\n}\n\nexport class SwitchComponent extends Component {\n  constructor(attrs) {\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_1 = () => {\n      vm_e163cba0ee.test = attrs.test;\n    };\n    fn_e163cba0ee_1();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('test', fn_e163cba0ee_1);\n    const fn_e163cba0ee_2 = () => {\n      vm_e163cba0ee.ts = attrs.transition;\n    };\n    fn_e163cba0ee_2();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('transition', fn_e163cba0ee_2);\n    return vm_e163cba0ee;\n  }\n\n  get test() {\n    return this[C_VAL];\n  }\n\n  set test(v) {\n    const acs = this[ARG_COMPONENTS];\n    if (!acs || !(v in acs)) {\n      v = STR_DEFAULT;\n    }\n    if (this[C_VAL] === v) return;\n    this[C_VAL] = v;\n    this[UPDATE_IF_NEED]();\n  }\n\n  get [C_BV]() {\n    return this.test;\n  }\n\n  [ON_TS_END]() {\n    updateSwitchOnTransitionEnd(this);\n  }\n\n  [RENDER]() {\n    return renderSwitch(this);\n  }\n\n  [UPDATE]() {\n    updateSwitch(this);\n  }\n}\n","export * from './class';\nexport * from './for';\nexport * from './hide';\nexport * from './html';\nexport * from './i18n';\nexport * from './if';\nexport * from './parameter';\nexport * from './log';\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\nimport {\n  Component,\n  RENDER\n} from '../core/component.js';\nimport {\n  createComment\n} from '../dom/index.js';\n\n/**\n * This component is only for development purpose\n */\nexport class LogComponent extends Component {\n  constructor(attrs) {\n    const vm_e163cba0ee = super(attrs);\n    const fn_e163cba0ee_1 = () => {\n      vm_e163cba0ee.msg = attrs.msg;\n    };\n    fn_e163cba0ee_1();\n    attrs[VM_ATTRS_e163cba0ee][VM_ON_e163cba0ee]('msg', fn_e163cba0ee_1);\n    return vm_e163cba0ee;\n  }\n\n  set msg(v) {\n    console.log(v);\n    this._msg = v;\n  }\n\n  get msg() {\n    return this._msg;\n  }\n\n  [RENDER]() {\n    return [createComment('log placeholder')];\n  }\n}\n","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from '../viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from '../viewmodel/proxy';\n\nimport {\n  Component\n} from '../core/component';\nimport {\n  VM_ON,\n  VM_ATTRS\n} from '../viewmodel/core';\n\nexport class ParameterComponent extends Component {\n  constructor(attrs, params) {\n    const vm_e163cba0ee = super(attrs);\n    params.forEach(p => {\n      vm_e163cba0ee[p] = attrs[p];\n      attrs[VM_ATTRS][VM_ON](p, () => {\n        vm_e163cba0ee[p] = attrs[p];\n      });\n    });\n    return vm_e163cba0ee;\n  }\n}\n","import {\n  Symbol\n} from '../util';\n\nexport const CFG_VM_DEBUG = Symbol('vm_debug');\nexport const CFG_I18N_WARN_KEY_NOT_FOUND = Symbol('i18n_warn_key_not_found');\n\nexport const config = {\n  [CFG_VM_DEBUG]: false,\n  [CFG_I18N_WARN_KEY_NOT_FOUND]: true\n};\n","import {\n  RENDER_TO_DOM,\n  isComponent\n} from './component';\nimport {\n  assertFail,\n  createEmptyObject,\n  assignObject\n} from '../util';\nimport {\n  config,\n  CFG_VM_DEBUG\n} from '../config';\nimport {\n  wrapAttrs\n} from '../viewmodel/proxy';\nimport {\n  VM_DEBUG_NAME\n} from '../viewmodel/core';\n\nexport function bootstrap(Component, dom, attrs) {\n  if (dom === document.body) {\n    throw new Error('bootstrap dom cannot be document.body');\n  }\n  /**\n   * as we must pass ViewModel-Object as first argument to Component constructor,\n   * we simple pass an empty attrs.\n   */\n  const bootAttrs = createEmptyObject();\n  attrs && assignObject(bootAttrs, attrs);\n\n  if (config[CFG_VM_DEBUG]) {\n    bootAttrs[VM_DEBUG_NAME] = 'attrs_of_<root>';\n  }\n  const bootComponent = new Component(wrapAttrs(bootAttrs));\n  if (!isComponent(bootComponent)) assertFail();\n  bootComponent[RENDER_TO_DOM](dom);\n}\n","import {\n  VM_ATTRS,\n  VM_OFF,\n  VM_ON,\n  VM_NOTIFY,\n  DESTROY as VM_DESTROY,\n  NOTIFIABLE\n} from '../viewmodel/core';\nimport {\n  Messenger,\n  LISTENERS,\n  CLEAR,\n  NOTIFY\n} from './messenger';\nimport {\n  manager as StyleManager,\n  CSTYLE_PID,\n  CSTYLE_ADD,\n  CSTYLE_DEL,\n  CSTYLE_ATTACH\n} from './style';\nimport {\n  Symbol,\n  isDOMNode,\n  assertFail,\n  isFunction,\n  STR_DEFAULT,\n  isObject,\n  isArray,\n  createEmptyObject,\n  arrayFindIndex,\n  arrayEqual,\n  STR_EMPTY,\n  setImmediate,\n  clearImmediate,\n  assignObject,\n  BEFORE_DESTROY_EVENT_NAME,\n  AFTER_RENDER_EVENT_NAME,\n  getOwnPropertyNames,\n  getOwnPropertySymbols,\n  arrayRemove,\n  getOrCreateMapProperty,\n  getOrCreateArrayProperty\n} from '../util';\nimport {\n  getParent,\n  removeChild,\n  replaceChild,\n  createComment,\n  createElement,\n  createTextNode,\n  appendChild,\n  registerEvent\n} from '../dom';\nimport {\n  wrapComponent,\n  VM_SETTER_FN_MAP\n} from '../viewmodel/proxy';\n\nexport const NOTIFY_TRANSITION = Symbol('notify_transition');\nexport const TEMPLATE_RENDER = Symbol('template_render');\nexport const RENDER = Symbol('render');\nexport const RENDER_TO_DOM = Symbol('render_to_dom');\nexport const ARG_COMPONENTS = Symbol('arg_components');\nexport const PASSED_ATTRS = Symbol('passed_attrs');\nexport const CLONE = Symbol('clone');\nexport const DESTROY = Symbol('destroy');\nexport const CONTEXT = Symbol('context');\nexport const CONTEXT_STATE = Symbol('context_state');\nexport const ROOT_NODES = Symbol('root_nodes');\nexport const NON_ROOT_COMPONENT_NODES = Symbol('non_root_components');\nexport const REF_NODES = Symbol('ref_nodes');\nexport const SET_REF_NODE = Symbol('setChild');\nexport const REF_BELONGS = Symbol('ref_belongs');\nexport const RELATED_DOM_REFS = Symbol('related_dom_refs');\nexport const RELATED_VM_LISTENERS = Symbol('related_vm_listeners');\nexport const RELATED_VM_ON = Symbol('related_vm_on');\nexport const RELATED_VM_OFF = Symbol('related_vm_off');\nexport const GET_STATE_NAME = Symbol('get_state_name');\nexport const AFTER_RENDER = Symbol('afterRender');\nexport const HANDLE_AFTER_RENDER = Symbol('handleAfterRender');\nexport const HANDLE_REMOVE_ROOT_DOMS = Symbol('handle_remove_root_doms');\nexport const HANDLE_BEFORE_DESTROY = Symbol('handleBeforeDestroy');\nexport const GET_FIRST_DOM = Symbol('getFirstHtmlDOM');\nexport const GET_LAST_DOM = Symbol('getLastHtmlDOM');\nexport const GET_TRANSITION_DOM = Symbol('getTransitionDOM');\nexport const BEFORE_DESTROY = Symbol('beforeDestroy');\nexport const GET_CONTEXT = Symbol('getContext');\nexport const SET_CONTEXT = Symbol('setContext');\nexport const GET_REF = Symbol('getRef');\nexport const UPDATE = Symbol('update');\nexport const UPDATE_IF_NEED = Symbol('update_if_need');\nexport const UPDATE_NEXT_MAP = Symbol('update_next_tick_map');\nexport const STATE = Symbol('state');\nexport const STATE_INITIALIZE = 0;\nexport const STATE_RENDERED = 1;\nexport const STATE_WILLDESTROY = 2;\nexport const STATE_DESTROIED = 4;\nexport const STATE_NAMES = [\n  'initialize', 'rendered', 'willdestroy', 'destroied'\n];\n\nexport const DOM_ON = Symbol('add_dom_listener');\nexport const DOM_PASS_LISTENERS = Symbol('pass_all_listeners_to_dom');\nconst DOM_LISTENER_DEREGISTERS = Symbol('dom_listener_deregisters');\n\nfunction copyContext(context) {\n  if (!context) return null;\n  return assignObject(createEmptyObject(), context);\n}\n\nexport class Component extends Messenger {\n  /**\n   * compiler will auto transform the `template` getter's return value from String to Render Function.\n   */\n  static get template() {\n    return null;\n  }\n\n  static get style() {\n    return null;\n  }\n\n  /**\n   * @param {Attributes} attrs Attributes passed from parent Component\n   */\n  constructor(attrs) {\n    if (!isObject(attrs) || !(VM_ATTRS in attrs)) {\n      throw new Error('First argument passed to Component constructor must be ViewModel with Messenger interface. See https://[todo]');\n    }\n    super(attrs[LISTENERS]);\n\n    this[PASSED_ATTRS] = attrs;\n\n    this[VM_ATTRS] = null;\n    this[VM_SETTER_FN_MAP] = new Map();\n\n    this[UPDATE_NEXT_MAP] = null;\n    this[CSTYLE_PID] = null;\n    this[CONTEXT] = attrs[CONTEXT];\n    this[CONTEXT_STATE] = 0;\n    this[ARG_COMPONENTS] = attrs[ARG_COMPONENTS];\n    this[STATE] = STATE_INITIALIZE;\n    /**\n     * ROOT_NODES means root children of this component,\n     *   include html-nodes and component-nodes.\n     * We use this infomation to remove DOM after this component is destroied.\n     * We do not maintain the whole parent-child view-tree but only root children,\n     * because when we remove the root children, whole view-tree will be\n     * removed, so we do not need waste memory to maintain whole view-tree.\n     */\n    this[ROOT_NODES] = [];\n    /**\n     * NON_ROOT_COMPONENT_NODES means nearest non-root component-nodes in the view-tree.\n     * Node in view-tree have two types, html-node and component-node.\n     *   html-node include html dom node and html text node,\n     *   component-node is an instance of a Component.\n     * For example, we have rendered a view-tree:\n     *             RootApp(Component)\n     *             /     |          \\\n     *         h1(Html)  h2(Html)  A(Component)\n     *            |                 |\n     *        C(Component)     D(Component)\n     *\n     * The nearest non-root component-nodes of RootApp include C,\n     *   but not include A(as it's root) or D(as it's not nearest).\n     *\n     * By the way, the ROOT_NODES of view-tree above is [h1, h2, A]\n     */\n    this[NON_ROOT_COMPONENT_NODES] = [];\n    /**\n     * REF_NODES contains all children with ref: attribute.\n     * REF_BELONGS contains all parent components which has this component as ref.\n     *\n     * 使用 ref: 标记的元素（Component 或 html node），会保存在 REF_NODES 中，\n     *   之后通过 GET_REF 函数可以获取到元素实例。\n     * 当标记的元素属于 <if> 或 <for> 等组件的 slot 时，这些元素可能被动态产生或销毁。\n     *   需要在元素产生或销毁时，相应地把它从它所属于的 REF_NODES 中添加或删除。\n     * 为了实现这个目的，对于 Component 元素，在将它添加到目标父组件的 REF_NODES 中的同时，\n     *   会将目标父组件反向记录到该元素的 REF_BELONGS 中，从而实现当该元素被销毁时，\n     *   可以将自己从它所属于的 REF_NODES 中删除；\n     * 对于 html node 元素，我们会将其目标父组件记录到该元素的渲染关联组件的 RELATED_DOM_REFS。\n     *   比如说，如果该 html 元素是 <if> 组件的 slot ，那它的渲染关联组件就是 <if> 内部的 Slot 组件，\n     *   当 <if> 的条件发生变化时，实际上会销毁这个 Slot 组件。由于前面提到的 html 元素\n     *   的 ref: 信息记录到了该 Slot 组件的 RELATED_DOM_REFS 里，因此就能反向地将\n     *   这个 html 元素从它所属于的 REF_NODES 中删除。\n     */\n    this[REF_NODES] = null;\n    this[REF_BELONGS] = null;\n    this[RELATED_DOM_REFS] = null;\n\n    /**\n     * If some child of this component is passed as argument(ie.\n     * use arg:pass attribute) like ng-tranclude in angular 1.x,\n     * the child may contain some messenger listeners not belong to\n     * this component but belong to outer parent.\n     *\n     * When destroy this component, we should also remove messenger listeners\n     *   belong to outer parent to prevent memory leak.\n     * To implement this goal, we maitain RELATED_VM_LISTENERS.\n     * When render view-tree, any messenger listeners belong to outer\n     * parent, will be also linked under RELATED_VM_LISTENERS, then\n     * when we destroy this component, the listeners can also be clear.\n     *\n     * For examle:\n     *\n     * <!-- outer parent: RootApp -->\n     * <div>\n     * <if expect=\"show\">\n     * <Tooltip>\n     * <argument arg:pass=\"default\">\n     * <p>hello, world. my name is ${name}</p>\n     * </argument>\n     * </Tooltip>\n     * </if>\n     * </div>\n     *\n     * when the `show` variable changed from true to false, the\n     * Tooltip component will be destroy. The messenger listener belong\n     * to the outer parent RootApp which watch `name` variable should\n     * also be removed.\n     */\n    this[RELATED_VM_LISTENERS] = null;\n    /**\n     * Store all dom listener deregisters.\n     */\n    this[DOM_LISTENER_DEREGISTERS] = null;\n    return wrapComponent(this);\n  }\n\n  /**\n   * Helper function to add dom event listener.\n   * Return deregister function which will remove event listener.\n   * If you do dot call deregister function, it will be auto called when component is destroied.\n   * @param {HtmlElement} $el\n   * @param {String} eventName\n   * @param {Function} listener\n   * @param {Boolean|Object} capture\n   * @returns {Function} deregister function to remove listener\n   */\n  [DOM_ON]($el, eventName, listener, capture) {\n    const lisDeregister = registerEvent($el, eventName, $event => {\n      listener.call(this, $event);\n    }, capture);\n\n    const deregs = getOrCreateArrayProperty(this, DOM_LISTENER_DEREGISTERS);\n    const deregister = () => {\n      lisDeregister();\n      arrayRemove(deregs, deregister);\n    };\n    deregs.push(deregister);\n    return deregister;\n  }\n\n  /**\n   * Helper function to pass all listener to first dom element.\n   * @param {Array} ignoredEventNames event names not passed\n   */\n  [DOM_PASS_LISTENERS](ignoredEventNames) {\n    if (this[STATE] !== STATE_RENDERED) {\n      throw new Error('bindDOMListeners must be applied to component which is rendered.');\n    }\n    const lis = this[LISTENERS];\n    if (!lis || lis.length === 0) {\n      return;\n    }\n    const $el = this[GET_FIRST_DOM]();\n    if ($el.nodeType !== Node.ELEMENT_NODE) {\n      return;\n    }\n    lis.forEach((handlers, eventName) => {\n      if (ignoredEventNames && ignoredEventNames.indexOf(eventName) >= 0) {\n        return;\n      }\n      handlers.forEach(fn => {\n        this[DOM_ON]($el, eventName, fn.tag ? $evt => {\n          fn.tag.stop && $evt.stopPropagation();\n          fn.tag.prevent && $evt.preventDefault();\n          fn($evt);\n        } : fn);\n      });\n    });\n  }\n\n  [GET_TRANSITION_DOM]() {\n    const rns = this[ROOT_NODES];\n    if (rns.length === 0) assertFail();\n    const el = rns[0];\n    return isComponent(el) ? el[GET_TRANSITION_DOM]() : el;\n  }\n\n  [GET_FIRST_DOM]() {\n    const rns = this[ROOT_NODES];\n    if (rns.length === 0) assertFail();\n    const el = rns[0];\n    return isComponent(el) ? el[GET_FIRST_DOM]() : el;\n  }\n\n  [GET_LAST_DOM]() {\n    const rns = this[ROOT_NODES];\n    if (rns.length === 0) assertFail();\n    const el = rns[rns.length - 1];\n    return isComponent(el) ? el[GET_LAST_DOM]() : el;\n  }\n\n  [VM_ON](prop, handler, componentCtx) {\n    this[VM_ATTRS][VM_ON](prop, handler);\n    if (!componentCtx || !isComponent(componentCtx) || componentCtx === this) return;\n    componentCtx[RELATED_VM_ON](this, prop, handler);\n  }\n\n  [RELATED_VM_ON](vm, prop, handler) {\n    const rvl = getOrCreateMapProperty(this, RELATED_VM_LISTENERS);\n    let hook = rvl.get(vm);\n    if (!hook) {\n      hook = [];\n      rvl.set(vm, hook);\n    }\n    hook.push([prop, handler]);\n  }\n\n  [RELATED_VM_OFF](vm, prop, handler) {\n    const rvl = this[RELATED_VM_LISTENERS];\n    if (!rvl) return;\n    const hook = rvl.get(vm);\n    if (!hook) return;\n    const isPropArray = isArray(prop);\n    const i = arrayFindIndex(hook, it => {\n      if (handler === it[1] && (isPropArray ? arrayEqual(prop, it[0]) : prop === it[0])) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    if (i >= 0) hook.splice(i, 1);\n  }\n\n  [VM_OFF](prop, handler, componentCtx) {\n    this[VM_ATTRS][VM_OFF](prop, handler);\n    if (!componentCtx || !isComponent(componentCtx) || componentCtx === this) return;\n    componentCtx[RELATED_VM_OFF](this, prop, handler);\n  }\n\n  [VM_NOTIFY](prop) {\n    return this[VM_ATTRS][VM_NOTIFY](prop);\n  }\n\n  [CLONE]() {\n    throw new Error('abstract method');\n  }\n\n  [RENDER]() {\n    const Clazz = this.constructor;\n    let renderFn = Clazz.template;\n    if (!renderFn && this[ARG_COMPONENTS]) {\n      renderFn = this[ARG_COMPONENTS][STR_DEFAULT];\n    }\n    if (!isFunction(renderFn)) {\n      assertFail(`render function of ${Clazz.name} not found. Forget static getter \"template\"?`);\n    }\n    StyleManager[CSTYLE_ADD](Clazz.style);\n    return renderFn(this);\n  }\n\n  /**\n   *\n   * @param {HTMLElement} $targetDOM\n   * @param {Boolean} replaceMode if false, use append mode\n   */\n  [RENDER_TO_DOM]($targetDOM, replaceMode = true) {\n    if (!isDOMNode($targetDOM)) assertFail();\n    if (this[STATE] !== STATE_INITIALIZE) {\n      assertFail();\n    }\n    const rr = assertRenderResults(this[RENDER]());\n    StyleManager[CSTYLE_ATTACH]();\n    if (replaceMode) {\n      replaceChild(getParent($targetDOM), rr, $targetDOM);\n    } else {\n      appendChild($targetDOM, rr);\n    }\n    this[HANDLE_AFTER_RENDER]();\n  }\n\n  [DESTROY](removeDOM = true) {\n    if (this[STATE] > STATE_WILLDESTROY) return;\n    this[STATE] = STATE_WILLDESTROY;\n\n    this[HANDLE_BEFORE_DESTROY](); // destroy children first\n    this[NOTIFY](BEFORE_DESTROY_EVENT_NAME, this);\n    this[BEFORE_DESTROY]();\n\n    // clear messenger listeners.\n    super[CLEAR]();\n    // remove component style\n    StyleManager[CSTYLE_DEL](this.constructor.style);\n\n    // destroy attrs passed to constructor\n    const attrs = this[PASSED_ATTRS];\n    attrs[VM_ATTRS][VM_DESTROY]();\n    // unlink all symbol property. may be unnecessary.\n    getOwnPropertySymbols(attrs, p => {\n      attrs[p] = null;\n    });\n    this[PASSED_ATTRS] = null;\n\n    // destroy view model\n    this[VM_ATTRS][VM_DESTROY]();\n    this[VM_SETTER_FN_MAP].clear();\n\n    // clear next tick update setImmediate\n    if (this[UPDATE_NEXT_MAP]) {\n      this[UPDATE_NEXT_MAP].forEach(imm => {\n        clearImmediate(imm);\n      });\n      this[UPDATE_NEXT_MAP].clear();\n    }\n\n    // destroy related listener and ref:\n    destroyRelatedVM(this);\n    // clear context.\n    destroyContext(this);\n    // clear all dom event listener\n    destroyDOMListeners(this);\n\n    // clear properties\n    this[STATE] = STATE_DESTROIED;\n    // unlink all symbol properties. maybe unnecessary.\n    this[RELATED_VM_LISTENERS] =\n      this[VM_SETTER_FN_MAP] =\n      this[VM_ATTRS] =\n      this[NON_ROOT_COMPONENT_NODES] =\n      this[REF_NODES] =\n      this[REF_BELONGS] =\n      this[ARG_COMPONENTS] = null;\n\n    // remove dom\n    if (removeDOM) {\n      this[HANDLE_REMOVE_ROOT_DOMS]();\n    }\n  }\n\n  [HANDLE_BEFORE_DESTROY]() {\n    this[NON_ROOT_COMPONENT_NODES].forEach(component => {\n      component[DESTROY](false);\n    });\n    this[ROOT_NODES].forEach(node => {\n      if (isComponent(node)) {\n        node[DESTROY](false);\n      }\n    });\n  }\n\n  [HANDLE_REMOVE_ROOT_DOMS]($parent) {\n    this[ROOT_NODES].forEach(node => {\n      if (isComponent(node)) {\n        node[HANDLE_REMOVE_ROOT_DOMS]($parent);\n      } else {\n        if (!$parent) $parent = getParent(node);\n        removeChild($parent, node);\n      }\n    });\n    this[ROOT_NODES] = null;\n  }\n\n  [HANDLE_AFTER_RENDER]() {\n    /*\n     * Set NOTIFIABLE=true to enable ViewModel notify.\n     * Don't forgot to add these code if you override HANDLE_AFTER_RENDER\n     */\n    this[VM_ATTRS][NOTIFIABLE] = true;\n    this[PASSED_ATTRS][VM_ATTRS][NOTIFIABLE] = true;\n\n    this[ROOT_NODES].forEach(n => {\n      if (isComponent(n)) n[HANDLE_AFTER_RENDER]();\n    });\n    this[NON_ROOT_COMPONENT_NODES].forEach(n => {\n      if (isComponent(n)) n[HANDLE_AFTER_RENDER]();\n    });\n    this[STATE] = STATE_RENDERED;\n    this[CONTEXT_STATE] = this[CONTEXT_STATE] > 0 ? -2 : -1; // has been rendered, can't modify context\n    this[AFTER_RENDER]();\n    this[NOTIFY](AFTER_RENDER_EVENT_NAME, this);\n  }\n\n  /**\n   *\n   * @param {Function|boolean} handler\n   * @param {boolean} nextTick\n   */\n  [UPDATE_IF_NEED](handler = null, nextTick = true) {\n    if (this[STATE] !== STATE_RENDERED) {\n      return;\n    }\n    if (handler === false) {\n      return this[UPDATE]();\n    }\n\n    if (!isFunction(handler)) {\n      handler = this[UPDATE];\n    }\n\n    if (!nextTick) {\n      handler.call(this);\n      return;\n    }\n\n    const ntMap = getOrCreateMapProperty(this, UPDATE_NEXT_MAP);\n    if (ntMap.has(handler)) {\n      // already in queue.\n      return;\n    }\n    ntMap.set(handler, setImmediate(() => {\n      ntMap.delete(handler);\n      handler.call(this);\n    }));\n  }\n\n  [UPDATE]() {\n    throw new Error('abstract method');\n  }\n\n  [GET_STATE_NAME]() {\n    return STATE_NAMES[this[STATE]];\n  }\n\n  [SET_CONTEXT](id, ctx, forceOverride = false) {\n    if (this[CONTEXT_STATE] < 0) {\n      throw new Error('Can\\'t setContext after component has been rendered. Try put setContext code into constructor.');\n    }\n    if (this[CONTEXT_STATE] === 0) {\n      // we copy context to make sure child component do not modify context passed from parent.\n      // we do not copy it by default until setContext function is called, because it unnecessary to waste memory if\n      // child component do not modify the context.\n      if (!this[CONTEXT]) {\n        this[CONTEXT] = createEmptyObject();\n      } else {\n        this[CONTEXT] = copyContext(this[CONTEXT]);\n      }\n      this[CONTEXT_STATE] = 1; // has been copied.\n    }\n    if (id in this[CONTEXT]) {\n      // override exist may case hidden bug hard to debug.\n      // so we force programmer to pass third argument to\n      //   tell us he/she know what he/she is doing.\n      if (!forceOverride) {\n        throw new Error(`Contenxt with id: ${id.toString()} is exist. Pass third argument forceOverride=true to override it.`);\n      }\n    }\n    this[CONTEXT][id] = ctx;\n  }\n\n  [GET_CONTEXT](id) {\n    return this[CONTEXT] ? this[CONTEXT][id] : null;\n  }\n\n  [SET_REF_NODE](ref, el, relatedComponent) {\n    const rns = getOrCreateMapProperty(this, REF_NODES);\n    let elOrArr = rns.get(ref);\n    if (!elOrArr) {\n      rns.set(ref, el);\n    } else if (isArray(elOrArr)) {\n      elOrArr.push(el);\n    } else {\n      elOrArr = [elOrArr, el];\n      rns.set(ref, elOrArr);\n    }\n    if (isComponent(el)) {\n      getOrCreateArrayProperty(el, REF_BELONGS).push([\n        this, ref\n      ]);\n      return;\n    }\n    if (this === relatedComponent) {\n      return;\n    }\n    getOrCreateArrayProperty(\n      relatedComponent, RELATED_DOM_REFS\n    ).push([this, ref, el]);\n  }\n\n  /**\n   * Get child node(or nodes) marked by 'ref:' attribute in template\n   * @param {String} ref\n   * @returns {Node|Array<Node>}\n   */\n  [GET_REF](ref) {\n    if (this[STATE] !== STATE_RENDERED) {\n      console.error(`Warning: call getChild before component '${this.constructor.name}' is rendered will get nothing, try put getChild into afterRender lifecycle hook.`);\n    }\n    return this[REF_NODES] ? this[REF_NODES].get(ref) : null;\n  }\n\n  /**\n   * lifecycle hook, called after rendered.\n   */\n  [AFTER_RENDER]() {\n    // lifecycle hook, default do nothing.\n  }\n\n  /**\n   * lifecycle hook, called before destroy.\n   */\n  [BEFORE_DESTROY]() {\n    // lifecycle hook, default do nothing.\n  }\n}\n\nfunction destroyContext(comp) {\n  const ctx = comp[CONTEXT];\n  if (!ctx) return;\n  if (comp[CONTEXT_STATE] === -2) {\n    // maybe unnecessary to reset properties\n    getOwnPropertyNames(ctx, propN => {\n      ctx[propN] = null;\n    });\n    getOwnPropertySymbols(ctx, propN => {\n      ctx[propN] = null;\n    });\n  }\n  comp[CONTEXT] = null;\n}\n\nfunction destroyDOMListeners(component) {\n  const deregisters = component[DOM_LISTENER_DEREGISTERS];\n  if (!deregisters) return;\n  deregisters.forEach(deregister => deregister());\n  component[DOM_LISTENER_DEREGISTERS] = null;\n}\n\nexport function destroyRelatedVM(comp) {\n  function _destroy(prop, cb) {\n    const m = comp[prop];\n    if (!m) return;\n    m.forEach((arr, ctx) => {\n      arr.forEach(k => cb(ctx, k));\n      arr.length = 0;\n    });\n    m.clear();\n  }\n  function _unref(refBelongs, el) {\n    if (!refBelongs) return;\n    refBelongs.forEach(info => {\n      const map = info[0][REF_NODES];\n      if (!map) return;\n      const rns = map.get(info[1]);\n      if (isArray(rns)) {\n        arrayRemove(rns, el || info[2]);\n      } else {\n        map.delete(info[1]);\n      }\n    });\n  }\n  _destroy(RELATED_VM_LISTENERS, (ctx, hook) => {\n    ctx[VM_OFF](hook[0], hook[1]);\n  });\n\n  _unref(comp[REF_BELONGS], comp);\n  _unref(comp[RELATED_DOM_REFS]);\n}\n\nexport function isComponent(c) {\n  return ROOT_NODES in c;\n}\n\nexport function assertRenderResults(renderResults) {\n  if (!isArray(renderResults) || renderResults.length === 0) {\n    throw new Error('Render results of component is empty');\n  }\n  return renderResults;\n}\n\nexport function operateRootHtmlDOM(fn, el, ...args) {\n  if (!isComponent(el)) return fn(el, ...args);\n  el[ROOT_NODES].forEach(ce => {\n    operateRootHtmlDOM(fn, ce, ...args);\n  });\n}\n\nexport function emptyRenderFn(component) {\n  const el = createComment(STR_EMPTY);\n  component[ROOT_NODES].push(el);\n  return [el];\n}\n\nexport function errorRenderFn(component) {\n  const el = createElement('span', {\n    style: 'color: red !important;'\n  });\n  el.textContent = 'template parsing failed! please check webpack log.';\n  component[ROOT_NODES].push(el);\n  return [el];\n}\n\nexport function textRenderFn(component, txtContent) {\n  const el = createTextNode(txtContent);\n  component[ROOT_NODES].push(el);\n  return el;\n}\n","import {\n  isObject,\n  Symbol\n} from '../util';\nimport {\n  config,\n  CFG_I18N_WARN_KEY_NOT_FOUND\n} from '../config';\nimport {\n  Messenger,\n  NOTIFY\n} from './messenger';\n\nexport const messenger = new Messenger();\nexport const I18N_DATA_CHANGED = Symbol('data-changed');\n\nlet dictStore = window.JINGE_I18N_DATA || null;\n\n/**\n * @param {String} text text to translate\n * @param {Object|String} params params or translate key\n */\nexport function _t(text, params) {\n  return format(text, params);\n}\n\nexport function format(text, params) {\n  if (!params || !isObject(params) || text.indexOf('{') < 0) {\n    return text;\n  }\n  return text.replace(/\\$\\{\\s*([\\w\\d._$]+)\\s*\\}/g, function(m, n) {\n    // 因为支持 ${ a.b.c } 这样的写法，所以直接构造 eval 函数获取。\n    if (n.indexOf('.') >= 0) {\n      /* eslint no-new-func: \"off\" */\n      return (new Function(`return obj.${n}`, 'obj'))(params);\n    } else {\n      return params[n];\n    }\n  });\n}\n\nexport function i18n(key, params) {\n  if (!dictStore || !(key in dictStore)) {\n    if (config[CFG_I18N_WARN_KEY_NOT_FOUND]) {\n      console.error('Warning: i18n key', key, 'not found.');\n    }\n    return key;\n  }\n  return _t(dictStore[key], params);\n}\n\nexport function prefix(prefix) {\n  return function(key, params) {\n    return i18n(prefix + '.' + key, params);\n  };\n}\n\nexport function registerData(dict) {\n  if (window.JINGE_I18N_DATA) {\n    /**\n     * 当 window.JINGE_I18N_DATA 存在的情况下，可以不用主动调用\n     *   registerI18nData 就能直接使用 i18n 函数来取多语言文本。\n     *   这种使用方式下， i18n 函数可以在代码文件的任意位置书写，\n     *   包括书写在文件的最顶部。\n     *   但是，书写在文件最顶部的 i18n 代码，都几乎只是用于将多语言\n     *   文本赋予一个常量，然后在其它地方使用。\n     *   我们认为，这种使用方式下，不应该再使用 registerI18nData 来覆盖\n     *   字典数据（从而实现不重新加载 app 的情况下，热更新界面的多语言文本展示）。\n     *\n     * 如果想要通过 registerI18nData 来覆盖字典数据实现热更新，则 i18n 函数\n     *   不应该在文件顶部书写。原因在于，文件顶部的代码，在整个 bundle 加载时就已经被\n     *   执行了，这时候 bootstrap 函数和 registerI18nData 函数是否已经执行\n     *   很难确定（因为各文件的顶部代码的执行顺序取决于文件之间的依赖关系，即打包\n     *   后在 bundle 里的次序）。\n     *\n     * 对于 window.JINGE_I18N_DATA 已经存在的情况下，仍然试图热更新的行为，\n     *   我们给予告警提示，帮助用户尽量避免踩坑。\n     */\n    console.error('Warning: try change i18n dictionary data when window.JINGE_I18N_DATA is set. see https://todo');\n  }\n  const hasOld = !!dictStore;\n  dictStore = dict;\n  if (hasOld) {\n    messenger[NOTIFY](I18N_DATA_CHANGED);\n  }\n}\n","import * as bootstrap from './bootstrap';\nimport * as component from './component';\nimport * as i18n from './i18n';\nimport * as messenger from './messenger';\n\nexport {\n  bootstrap,\n  component,\n  i18n,\n  messenger\n};\n","import {\n  Symbol,\n  getOrCreateArrayValueOfMap,\n  getOrCreateMapProperty\n} from '../util';\n\nexport const LISTENERS = Symbol('listeners');\n\nexport function notifyHelper(listenersMap, notifyKey, ...notifyArgs) {\n  if (!listenersMap) return;\n  const listeners = listenersMap.get(notifyKey);\n  if (!listeners) return;\n  listeners.forEach(handler => handler(...notifyArgs));\n}\n\nexport function onHelper(listenersMap, notifyKey, listener) {\n  const listeners = getOrCreateArrayValueOfMap(listenersMap, notifyKey);\n  if (listeners.indexOf(listener) < 0) {\n    listeners.push(listener);\n  }\n}\n\nexport function offHelper(listenersMap, notifyKey, listener) {\n  if (!listenersMap) return;\n  if (!notifyKey) {\n    listenersMap.forEach(ls => {\n      ls.length = 0;\n    });\n    listenersMap.clear();\n    return;\n  }\n  const listeners = listenersMap.get(notifyKey);\n  if (!listeners) return;\n  if (!listener) {\n    listeners.length = 0; // clear all if listener is not provided\n    return;\n  }\n  const idx = listeners.indexOf(listener);\n  if (idx < 0) return;\n  listeners.splice(idx, 1);\n}\n\nexport function clearHelper(listenersMap, notifyKey) {\n  if (!listenersMap) return;\n  if (!notifyKey) {\n    listenersMap.clear();\n  } else {\n    listenersMap.delete(notifyKey);\n  }\n}\n\nexport function onceHelper(listenersMap, notifyKey, listener) {\n  function onceListener(...args) {\n    listener(...args);\n    offHelper(listenersMap, notifyKey, onceListener);\n  }\n  onHelper(listenersMap, notifyKey, onceListener);\n}\n\nexport const NOTIFY = Symbol('notify');\nexport const ON = Symbol('on');\nexport const OFF = Symbol('off');\nexport const CLEAR = Symbol('clear');\n\nexport class Messenger {\n  /**\n   * Listeners compiled from template.\n   * @param {Object} templateListeners\n   */\n  constructor(templateListeners) {\n    this[LISTENERS] = null;\n    if (templateListeners) {\n      for (const eventName in templateListeners) {\n        this[ON](eventName, ...templateListeners[eventName]);\n      }\n    }\n  }\n\n  [NOTIFY](eventName, ...args) {\n    notifyHelper(this[LISTENERS], eventName, ...args);\n  }\n\n  [ON](eventName, eventListener, opts) {\n    const listeners = getOrCreateMapProperty(this, LISTENERS);\n    if (opts) {\n      eventListener.tag = opts;\n    }\n    if (opts && opts.once) {\n      onceHelper(listeners, eventName, eventListener);\n    } else {\n      onHelper(listeners, eventName, eventListener);\n    }\n  }\n\n  [OFF](eventName, eventListener) {\n    offHelper(this[LISTENERS], eventName, eventListener);\n  }\n\n  [CLEAR](eventName) {\n    clearHelper(this[LISTENERS], eventName);\n  }\n}\n\n/**\n * pass all listeners on srcMessenger to dstMessenger\n * @param {Messenger} srcMessenger\n * @param {Messenger} dstMessenger\n */\nexport function passListeners(srcMessenger, dstMessenger) {\n  if (!(LISTENERS in srcMessenger) || !(LISTENERS in dstMessenger)) {\n    // src or dst is not instance of Messenger\n    return;\n  }\n  const srcLis = srcMessenger[LISTENERS];\n  if (!srcLis) return;\n  srcLis.forEach((lis, key) => {\n    const dstLis = getOrCreateMapProperty(dstMessenger, LISTENERS);\n    lis.forEach(listener => {\n      const tag = listener.tag;\n      if (tag && tag.once) {\n        onceHelper(dstLis, key, listener);\n      } else {\n        onHelper(dstLis, key, listener);\n      }\n    });\n  });\n}\n","import {\n  Symbol,\n  uid,\n  createEmptyObject,\n  assignObject\n} from '../util';\nimport {\n  createElement,\n  appendChild,\n  getCSPropertyValue\n} from '../dom';\n\nexport const CSTYLE_PID = Symbol('cstyle_pids');\nexport const CSTYLE_ADD = Symbol('add');\nexport const CSTYLE_DEL = Symbol('del');\nexport const CSTYLE_ATTACH = Symbol('attach');\n\nexport function addParentStyleId(component, inheritIds, styleId) {\n  if (!inheritIds && !styleId) return;\n  let ids = component[CSTYLE_PID];\n  if (!ids) {\n    ids = component[CSTYLE_PID] = createEmptyObject();\n  }\n  if (inheritIds) {\n    assignObject(ids, inheritIds);\n  }\n  if (styleId) {\n    ids[styleId] = '';\n  }\n}\n\nfunction isHideCssExists() {\n  const $e = createElement('span', {\n    style: 'position:absolute;left:-10000px;',\n    class: 'jg-hide'\n  });\n  appendChild(document.body, $e);\n  return getCSPropertyValue(getComputedStyle($e), 'display') === 'none';\n}\n\nclass ComponentStyleManager {\n  constructor() {\n    this.m = new Map();\n    /**\n     * State\n     * 0: not attached\n     * 1: attached\n     */\n    this.s = 0;\n  }\n\n  _c(sty) {\n    if (this.s === 0) return;\n    const $style = createElement('style', {\n      type: 'text/css',\n      id: sty.dom\n    });\n    appendChild(document.head, $style);\n    if ($style.styleSheet) {\n      $style.styleSheet.cssText = sty.css;\n    } else {\n      $style.textContent = sty.css;\n    }\n  }\n\n  [CSTYLE_ADD](sty) {\n    if (!sty) return;\n    const styleMap = this.m;\n    let info = styleMap.get(sty.id);\n    if (info) {\n      info.refs++;\n      return;\n    }\n    info = {\n      id: sty.id,\n      css: sty.css,\n      dom: `__${sty.id}__`,\n      refs: 1\n    };\n    styleMap.set(sty.id, info);\n    this._c(info);\n  }\n\n  [CSTYLE_ATTACH]() {\n    if (this.s !== 0) return;\n    this.s = 1;\n    if (!isHideCssExists()) {\n      this._c({\n        dom: `__jgsty_${uid()}__`,\n        css: '.jg-hide{display:none!important}.jg-hide.jg-hide-enter,.jg-hide.jg-hide-leave{display:block!important}'\n      });\n    }\n    this.m.forEach(info => this._c(info));\n  }\n\n  [CSTYLE_DEL](sty) {\n    if (!sty) return;\n    const info = this.m.get(sty.id);\n    if (!info) return;\n    info.refs--;\n    if (info.refs > 0) {\n      return;\n    }\n    this.m.delete(info.id);\n    if (this.s === 0) return;\n    document.head.removeChild(\n      document.getElementById(info.dom)\n    );\n  }\n}\n\n// singleton\nexport const manager = new ComponentStyleManager();\n","import {\n  getComputedStyle,\n  getCSPropertyValue\n} from '../dom';\n\nexport const TS_TRANSITION_END = 'transitionend';\nexport const TS_ANIMATION_END = 'animationend';\nexport const TS_TRANSITION_DURATION = 'transition-duration';\nexport const TS_ANIMATION_DURATION = 'animation-duration';\nexport const TS_TRANSITION = 'transition';\nexport const TS_ZERO_S = '0s';\nexport const TS_ENTER = 'enter';\nexport const TS_LEAVE = 'leave';\nexport const TS_C_ENTER = '-enter';\nexport const TS_C_LEAVE = '-leave';\nexport const TS_C_ENTER_ACTIVE = '-enter-active';\nexport const TS_C_LEAVE_ACTIVE = '-leave-active';\nexport const TS_BEFORE_ENTER = 'before-enter';\nexport const TS_AFTER_ENTER = 'after-enter';\nexport const TS_BEFORE_LEAVE = 'before-leave';\nexport const TS_AFTER_LEAVE = 'after-leave';\nexport const TS_ENTER_CANCELLED = 'enter-cancelled';\nexport const TS_LEAVE_CANCELLED = 'leave-cancelled';\n\nexport const TS_STATE_ENTERING = 1;\nexport const TS_STATE_ENTERED = 2;\nexport const TS_STATE_LEAVING = 3;\nexport const TS_STATE_LEAVED = 4;\n\nexport function getDurationType(el) {\n  const cst = getComputedStyle(el);\n  if (getCSPropertyValue(cst, TS_TRANSITION_DURATION) !== TS_ZERO_S) {\n    return TS_TRANSITION_END;\n  } else if (getCSPropertyValue(cst, TS_ANIMATION_DURATION) !== TS_ZERO_S) {\n    return TS_ANIMATION_END;\n  }\n  return null;\n}\n\nfunction parseDuration(v) {\n  if (/ms$/.test(v)) {\n    return parseInt(v);\n  } else if (/s$/.test(v)) {\n    return parseFloat(v) * 1000;\n  } else {\n    return 0;\n  }\n}\n\nexport function getDuration(el) {\n  const cst = getComputedStyle(el);\n  let dur = getCSPropertyValue(cst, TS_TRANSITION_DURATION);\n  if (dur !== TS_ZERO_S) {\n    return [TS_TRANSITION_END, parseDuration(dur)];\n  }\n  dur = getCSPropertyValue(cst, TS_ANIMATION_DURATION);\n  if (dur !== TS_ZERO_S) {\n    return [TS_ANIMATION_END, parseDuration(dur)];\n  }\n  return [null, 0];\n}\n","import {\n  isString,\n  isArray,\n  isUndefined,\n  isObject\n} from '../util';\n\nexport function getParent($ele) {\n  return $ele.parentNode;\n}\n\nexport function setText($element, text) {\n  if (isArray(text)) {\n    text = JSON.stringify(text);\n  }\n  $element.textContent = text;\n}\n\nexport function setAttribute($ele, attrName, attrValue) {\n  if (!attrName) return;\n  if (isObject(attrName)) {\n    for (const attrN in attrName) {\n      setAttribute($ele, attrN, attrName[attrN]);\n    }\n    return;\n  }\n  if (isUndefined(attrValue) || attrValue === null) {\n    removeAttribute($ele, attrName);\n  } else {\n    $ele.setAttribute(attrName, attrValue);\n  }\n}\n\nexport function removeAttribute($ele, attrName) {\n  if (!attrName) return;\n  if (isObject(attrName)) {\n    for (const attrN in attrName) {\n      removeAttribute($ele, attrN);\n    }\n    return;\n  }\n  return $ele.removeAttribute(attrName);\n}\n\nexport function setInputValue($inputOrTextarea, value) {\n  $inputOrTextarea.value = value;\n}\n\nfunction _createEl($el, attrs, children) {\n  if (attrs) {\n    for (const an in attrs) {\n      if (an && !isUndefined(attrs[an])) {\n        setAttribute($el, an, attrs[an]);\n      }\n    }\n  }\n  children.forEach(child => appendChild($el, child));\n  return $el;\n}\nexport function createElement(tag, attrs, ...children) {\n  return _createEl(\n    document.createElement(tag),\n    attrs, children\n  );\n}\n\nexport function createElementWithoutAttrs(tag, ...children) {\n  return createElement(tag, null, ...children);\n}\n\nexport function createSVGElement(tag, attrs, ...children) {\n  return _createEl(\n    document.createElementNS('http://www.w3.org/2000/svg', tag),\n    attrs, children\n  );\n}\n\nexport function createSVGElementWithoutAttrs(tag, ...children) {\n  return createSVGElement(tag, null, ...children);\n}\n\nexport function createFragment(children) {\n  const $f = document.createDocumentFragment();\n  if (children) children.forEach(c => appendChild($f, c));\n  return $f;\n}\n\nexport function createTextNode(text) {\n  return document.createTextNode(text);\n}\n\nexport function createElementWithChild(tag, attrs, child) {\n  const $e = createElement(tag, attrs);\n  appendChild($e, child);\n  return $e;\n}\n\nexport function createComment(data) {\n  return document.createComment(data);\n}\n\nfunction prepareNewNode(newNode) {\n  if (!isArray(newNode)) return newNode;\n  if (newNode.length === 0) return null;\n  else if (newNode.length === 1) return newNode[0];\n  else {\n    return createFragment(newNode);\n  }\n}\n\nexport function replaceChild($parent, newNode, oldNode) {\n  if (!(newNode = prepareNewNode(newNode))) {\n    return;\n  }\n  $parent.replaceChild(newNode, oldNode);\n}\n\nexport function insertBefore($parent, newNode, referenceNode) {\n  if (!(newNode = prepareNewNode(newNode))) {\n    return;\n  }\n  $parent.insertBefore(newNode, referenceNode);\n}\n\nexport function insertAfter($parent, newNode, referenceNode) {\n  if (!(newNode = prepareNewNode(newNode))) {\n    return;\n  }\n  const rn = referenceNode.nextSibling;\n  if (!rn) {\n    appendChild($parent, newNode);\n  } else {\n    insertBefore($parent, newNode, rn);\n  }\n}\n\nexport function removeChild($parent, $child) {\n  $parent.removeChild($child);\n}\n\nexport function appendChild($parent, ...children) {\n  children.forEach(ch => {\n    if (isArray(ch)) {\n      return ch.forEach(cc => appendChild($parent, cc));\n    }\n    if (isString(ch)) {\n      ch = createTextNode(ch);\n    }\n    $parent.appendChild(ch);\n  });\n}\n\nexport function hasClass($ele, className) {\n  return $ele.classList.contains(className);\n}\n\nexport function toggleClass($ele, ...args) {\n  return $ele.classList.toggle(...args);\n}\nexport function addClass($ele, className) {\n  return toggleClass($ele, className, true);\n}\n\nexport function removeClass($ele, className) {\n  return toggleClass($ele, className, false);\n}\n\nexport function replaceClass($ele, oldClass, newClass) {\n  return $ele.classList.replace(oldClass, newClass);\n}\n\nexport function addEvent($element, eventName, handler, capture = false) {\n  $element.addEventListener(eventName, handler, capture);\n}\n\nexport function removeEvent($element, eventName, handler) {\n  $element.removeEventListener(eventName, handler);\n}\n\n/**\n * Add event to DOM element, similar as addEventListener,\n * but return deregister function which will call removeEventListener.\n *\n * @param {HtmlElement} $element\n * @param {String} eventName\n * @param {Function} handler\n * @param {Boolean|Object} capture\n * @returns {Function} deregister function which will removeEventListener\n */\nexport function registerEvent($element, eventName, handler, capture) {\n  addEvent($element, eventName, handler, capture);\n  return function deregister() {\n    removeEvent($element, eventName, handler);\n  };\n}\n\nexport function getComputedStyle(el, pseudoElt) {\n  return window.getComputedStyle(el, pseudoElt);\n}\n\nexport function getCSPropertyValue(cst, prop) {\n  return cst.getPropertyValue(prop);\n}\n","import * as components from './components';\nimport * as config from './config';\nimport * as dom from './dom';\nimport * as core from './core';\nimport * as util from './util';\nimport * as viewmodel from './viewmodel';\n\nexport {\n  ForComponent\n} from './components/for';\nexport {\n  LogComponent\n} from './components/log';\nexport {\n  IfComponent,\n  SwitchComponent\n} from './components/if';\nexport {\n  I18nComponent,\n  _TComponent\n} from './components/i18n';\nexport {\n  ParameterComponent\n} from './components/parameter';\nexport {\n  ToggleClassComponent\n} from './components/class';\nexport {\n  HideComponent\n} from './components/hide';\nexport {\n  BindHtmlComponent\n} from './components/html';\nexport {\n  Component,\n  AFTER_RENDER,\n  BEFORE_DESTROY,\n  UPDATE_IF_NEED,\n  UPDATE,\n  GET_REF,\n  CONTEXT,\n  GET_CONTEXT,\n  SET_CONTEXT,\n  DOM_ON,\n  DOM_PASS_LISTENERS,\n  RENDER,\n  ARG_COMPONENTS,\n  ROOT_NODES,\n  NON_ROOT_COMPONENT_NODES,\n  GET_FIRST_DOM,\n  GET_LAST_DOM,\n  GET_TRANSITION_DOM,\n  isComponent\n} from './core/component';\nexport {\n  wrapViewModel as VM,\n  wrapAttrs\n} from './viewmodel/proxy';\nexport {\n  vmWatch,\n  vmUnwatch,\n  VM_ON,\n  VM_OFF,\n  VM_NOTIFY\n} from './viewmodel/core';\nexport {\n  Messenger,\n  NOTIFY,\n  LISTENERS,\n  ON,\n  OFF,\n  passListeners as passMessengerListeners\n} from './core/messenger';\nexport {\n  _t,\n  i18n,\n  prefix as i18nPrefix,\n  registerData as registerI18nData,\n  messenger as i18nMessenger,\n  I18N_DATA_CHANGED\n} from './core/i18n';\nexport {\n  bootstrap\n} from './core/bootstrap';\nexport {\n  Symbol,\n  STR_DEFAULT,\n  STR_JINGE,\n  STR_EMPTY,\n  isString,\n  isObject,\n  isFunction,\n  isNumber,\n  instanceOf,\n  isUndefined,\n  isBoolean,\n  isArray,\n  uid,\n  obj2class,\n  obj2style,\n  setImmediate,\n  clearImmediate\n} from './util';\n\nexport {\n  components,\n  config,\n  dom,\n  core,\n  util,\n  viewmodel\n};\n","\nexport function arrayIndexOf(array, item) {\n  return array.indexOf(item);\n}\n\nexport function arrayRemove(array, item) {\n  const idx = arrayIndexOf(array, item);\n  if (idx < 0) return false;\n  array.splice(idx, 1);\n  return true;\n}\n\nexport function arrayPushIfNotExist(array, item) {\n  const idx = arrayIndexOf(array, item);\n  if (idx >= 0) return;\n  array.push(item);\n}\n\nexport function arrayFind(array, predicate) {\n  if (array.find) {\n    return array.find(predicate);\n  } else {\n    const i = arrayFindIndex(array, predicate);\n    return i >= 0 ? array[i] : null;\n  }\n}\n\nexport function arrayFindIndex(array, predicate) {\n  for (let i = 0; i < array.length; i++) {\n    if (predicate(array[i], i)) return i;\n  }\n  return -1;\n}\n\nexport function arrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) return false;\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr1[i] !== arr2[i]) return false;\n  }\n  return true;\n}\n","\nexport function Symbol(description) {\n  return window.Symbol(description);\n}\n\nexport function assertFail(msg) {\n  msg && console.error(msg);\n  throw new Error('assert failed!');\n}\n\nexport function startsWith(str, search, position = 0) {\n  return str.startsWith(search, position);\n}\n\nexport function endsWith(str, search, endPosition) {\n  return str.endsWith(search, endPosition);\n}\n\nexport function defineProperty(...args) {\n  return Object.defineProperty(...args);\n}\n\nexport function assignObject(target, ...srcs) {\n  return Object.assign(target, ...srcs);\n}\n\nexport function obj2class(obj, prepend) {\n  const classes = Object.keys(obj).filter(k => obj[k]).join(' ').trim();\n  return prepend ? `${prepend}${classes ? ' ' + classes : ''}` : classes;\n}\n\nexport function obj2style(obj) {\n  return Object.keys(obj).map(k => {\n    return `${k}: ${obj[k]}`;\n  }).join(';').trim();\n}\n\nexport function defineProperties(...args) {\n  return Object.defineProperties(...args);\n}\n\n/**\n * @param {Object} obj\n * @param {Function} enumFn\n */\nexport function getOwnPropertyNames(obj, enumFn) {\n  const ns = Object.getOwnPropertyNames(obj);\n  if (enumFn) ns.forEach(enumFn);\n  return ns;\n}\n\n/**\n * @param {Object} obj\n * @param {Function} enumFn\n */\nexport function getOwnPropertySymbols(obj, enumFn) {\n  const ss = Object.getOwnPropertySymbols(obj);\n  if (enumFn) ss.forEach(enumFn);\n  return ss;\n}\n\nexport function isPropertyEnumerable(obj, key) {\n  return Object.prototype.propertyIsEnumerable.call(obj, key);\n}\n\nexport function createEmptyObject(o) {\n  return Object.create(o || null);\n}\n\nexport function uid() {\n  return Date.now().toString(32) + Math.floor(Math.random() * 0xffff).toString(32);\n}\n\nexport const raf = window.requestAnimationFrame;\nexport const caf = window.cancelAnimationFrame;\n\nexport function mapObject(obj, fn) {\n  const newObj = {};\n  for (const k in obj) {\n    newObj[k] = fn(obj[k], k);\n  }\n  return newObj;\n}\n\nexport function getOrCreateProperty(obj, property, fn) {\n  let v = obj[property];\n  if (!v) {\n    v = obj[property] = fn();\n  }\n  return v;\n}\n\nexport function getOrCreateValueOfMap(map, key, fn) {\n  let v = map.get(key);\n  if (!v) {\n    v = fn();\n    map.set(key, v);\n  }\n  return v;\n}\n\nexport function getOrCreateMapProperty(obj, property) {\n  return getOrCreateProperty(obj, property, () => new Map());\n}\n\nexport function getOrCreateArrayValueOfMap(map, key) {\n  return getOrCreateValueOfMap(map, key, () => []);\n}\n\nexport function getOrCreateArrayProperty(obj, property) {\n  return getOrCreateProperty(obj, property, () => []);\n}\n","export const STR_DEFAULT = 'default';\nexport const STR_JINGE = 'jinge';\nexport const STR_EMPTY = 'empty';\nexport const STR_LENGTH = 'length';\n\nexport const BEFORE_DESTROY_EVENT_NAME = 'jinge.before-destroy';\nexport const AFTER_RENDER_EVENT_NAME = 'jinge.after-render';\n\n/* eslint camelcase: \"off\" */\n/**\n * Constants below are prepared for code auto generated by compiler.\n */\nexport const HTML_ATTR_checked = 'checked';\nexport const HTML_ATTR_disabled = 'disabled';\nexport const HTML_ATTR_selected = 'selected';\nexport const HTML_ATTR_readOnly = 'readOnly';\nexport const HTML_ATTR_autofocus = 'autofocus';\nexport const HTML_ATTR_autocomplete = 'autocomplete';\nexport const HTML_ATTR_required = 'required';\nexport const HTML_ATTR_controls = 'controls';\nexport const HTML_ATTR_autoplay = 'autoplay';\nexport const HTML_ATTR_draggable = 'draggable';\nexport const HTML_ATTR_multiple = 'multiple';\nexport const HTML_ATTR_muted = 'muted';\nexport const HTML_ATTR_value = 'value';\n","/**\n * A javascript array differencing implementation.\n * Based on the algorithm proposed in [\"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986)](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927).\n *\n * Code bellow is copied from https://github.com/kpdecker/jsdiff/blob/master/src/diff/base.js\n * Modified by Yuhang Ge.\n *\n * NOTICE: This file is not used!\n */\n\nfunction createSeg(type, count, value = null) {\n  return {\n    type, count, value\n  };\n}\n\nfunction extractCommon(basePath, newArr, oldArr, diagonalPath) {\n  const newLen = newArr.length;\n  const oldLen = oldArr.length;\n  let newPos = basePath.newPos;\n  let oldPos = newPos - diagonalPath;\n  let commonCount = 0;\n  while (newPos + 1 < newLen && oldPos + 1 < oldLen && newArr[newPos + 1] === oldArr[oldPos + 1]) {\n    newPos++;\n    oldPos++;\n    commonCount++;\n  }\n\n  if (commonCount) {\n    basePath.components.push(createSeg(0, commonCount));\n  }\n\n  basePath.newPos = newPos;\n  return oldPos;\n}\n\nfunction pushComponent(components, type) {\n  const last = components[components.length - 1];\n  if (last && last.type === type) {\n    // We need to clone here as the component clone operation is just\n    // as shallow array clone\n    components[components.length - 1] = createSeg(type, last.count + 1);\n  } else {\n    components.push(createSeg(type, 1));\n  }\n}\n\nfunction clonePath(path) {\n  return createPath(path.newPos, path.components.slice());\n}\n\nfunction createPath(newPos, components) {\n  return {\n    newPos, components\n  };\n}\n\nfunction buildValues(components, newArr, oldArr, useLongestToken) {\n  const componentLen = components.length;\n  let componentPos = 0;\n  let newPos = 0;\n  let oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    const component = components[componentPos];\n    if (component.type >= 0) {\n      if (component.type <= 0 && useLongestToken) {\n        let value = newArr.slice(newPos, newPos + component.count);\n        value = value.map(function(value, i) {\n          const oldValue = oldArr[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n\n        component.value = value;\n      } else {\n        component.value = newArr.slice(newPos, newPos + component.count);\n      }\n      newPos += component.count;\n\n      // Common case\n      if (component.type <= 0) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = oldArr.slice(oldPos, oldPos + component.count);\n      oldPos += component.count;\n\n      // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n      if (componentPos && components[componentPos - 1].type > 0) {\n        const tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  }\n\n  return components;\n}\n\nexport function diffArray(oldArr, newArr) {\n  const newLen = newArr.length;\n  const oldLen = oldArr.length;\n  const maxEditLength = newLen + oldLen;\n  const bestPath = [createPath(-1, [])];\n\n  // Seed editLength = 0, i.e. the content starts with the same values\n  const oldPos = extractCommon(bestPath[0], newArr, oldArr, 0);\n  if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n    // Identity per the equality and tokenizer\n    return [createSeg(0, newArr.length, newArr)]; // nothing changed.\n  }\n\n  let editLength = 1;\n  // Main worker method. checks all permutations of a given edit length for acceptance.\n  function execEditLength() {\n    for (let diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n      let basePath;\n      const addPath = bestPath[diagonalPath - 1];\n      const removePath = bestPath[diagonalPath + 1];\n      let oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n      if (addPath) {\n        // No one else is going to attempt to use this value, clear it\n        bestPath[diagonalPath - 1] = null;\n      }\n\n      const canAdd = addPath && addPath.newPos + 1 < newLen;\n      const canRemove = removePath && oldPos >= 0 && oldPos < oldLen;\n      if (!canAdd && !canRemove) {\n        // If this path is a terminal then prune\n        bestPath[diagonalPath] = null;\n        continue;\n      }\n\n      // Select the diagonal that we want to branch from. We select the prior\n      // path whose position in the new string is the farthest from the origin\n      // and does not pass the bounds of the diff graph\n      if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n        basePath = clonePath(removePath);\n        pushComponent(basePath.components, -1);\n      } else {\n        basePath = addPath; // No need to clone, we've pulled it from the list\n        basePath.newPos++;\n        pushComponent(basePath.components, 1);\n      }\n\n      oldPos = extractCommon(basePath, newArr, oldArr, diagonalPath);\n\n      // If we have hit the end of both strings, then we are done\n      if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n        return buildValues(basePath.components, newArr, oldArr);\n      } else {\n        // Otherwise track this path as a potential candidate and continue.\n        bestPath[diagonalPath] = basePath;\n      }\n    }\n\n    editLength++;\n  }\n\n  while (editLength <= maxEditLength) {\n    const ret = execEditLength();\n    if (ret) {\n      return ret;\n    }\n  }\n\n  // This should never happen, but we want to be safe.\n  // Return null means nothing changed.\n  return null;\n}\n","\nexport * from './type';\nexport * from './array';\nexport * from './diff';\nexport * from './const';\nexport * from './common';\nexport * from './setimm';\n","/**\n * setImmediate polyfill only for modern browsers\n * Copied from https://github.com/YuzuJS/setImmediate/blob/master/setImmediate.js\n * Simplified by Yuhang-Ge<abeyuhang@gmail.com>\n */\nimport {\n  isUndefined,\n  isFunction,\n  isString\n} from './type';\nimport {\n  assertFail,\n  startsWith,\n  uid\n} from './common';\n\nlet nextHandle = 1; // Spec says greater than zero\nlet tasksByHandle;\nlet currentlyRunningATask = false;\nlet registerImmediate;\n\nfunction setImmediateFallback(callback) {\n  if (!isFunction(callback) || arguments.length > 1) assertFail();\n  tasksByHandle.set(nextHandle, callback);\n  registerImmediate(nextHandle);\n  // console.log('siiii', callback);\n  return nextHandle++;\n}\n\nfunction clearImmediateFallback(handle) {\n  tasksByHandle.delete(handle);\n}\n\nfunction runIfPresent(handle) {\n  // From the spec: 'Wait until any invocations of this algorithm started before this one have completed.'\n  // So if we're currently running a task, we'll need to delay this invocation.\n  if (currentlyRunningATask) {\n    // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n    // 'too much recursion' error.\n    return setTimeout(runIfPresent, 0, handle);\n  }\n  const callback = tasksByHandle.get(handle);\n  // console.log('stttt', handle, callback);\n\n  if (!callback) return;\n  currentlyRunningATask = true;\n  try {\n    callback();\n  } finally {\n    clearImmediateFallback(handle);\n    currentlyRunningATask = false;\n  }\n}\n\nif (isUndefined(window.setImmediate)) {\n  tasksByHandle = new Map();\n  const messagePrefix = 'setImmediate$' + uid() + '$';\n  window.addEventListener('message', event => {\n    if (event.source === window &&\n      isString(event.data) &&\n      startsWith(event.data, messagePrefix)) {\n      runIfPresent(Number(event.data.slice(messagePrefix.length)));\n    }\n  }, false);\n\n  registerImmediate = function(handle) {\n    window.postMessage(messagePrefix + handle, '*');\n  };\n}\n\nexport const setImmediate = window.setImmediate || setImmediateFallback;\nexport const clearImmediate = window.clearImmediate || clearImmediateFallback;\n","export function typeOf(v) {\n  return typeof v;\n}\n\nexport function isObject(v) {\n  return v !== null && typeOf(v) === 'object';\n}\n\nexport function isString(v) {\n  return typeOf(v) === 'string';\n}\n\nexport function isNumber(v) {\n  return typeOf(v) === 'number' && !Number.isNaN(v) && Number.isFinite(v);\n}\n\nexport function isUndefined(v) {\n  return typeOf(v) === 'undefined';\n}\n\nexport function isArray(v) {\n  // const ov = isObject(v) && v.constructor === Array;\n  // const nv = Array.isArray(v);\n  // if (ov !== nv) debugger\n  return Array.isArray(v);\n  // return isObject(v) && (\n  //   v.constructor === Array ||\n  //   Object.prototype.toString.call(v) === '[object Array]'\n  // );\n}\n\nexport function isBoolean(v) {\n  return typeof v === 'boolean' || instanceOf(v, Boolean);\n}\n\nexport function isFunction(v) {\n  return typeOf(v) === 'function';\n}\n\nexport function instanceOf(v, Clazz) {\n  return v instanceof Clazz;\n}\n\nexport function isDOMNode(ele) {\n  return instanceOf(ele, Node);\n}\n\nexport function isPromise(obj) {\n  return isObject(obj) && isFunction(obj.then);\n}\n","import {\n  isObject,\n  isString,\n  Symbol,\n  getOrCreateMapProperty,\n  arrayRemove,\n  getOwnPropertyNames,\n  arrayPushIfNotExist,\n  getOrCreateArrayProperty\n} from '../util';\nimport {\n  config,\n  CFG_VM_DEBUG\n} from '../config';\n\nexport const VM_ATTRS = Symbol('vm_injected_attrs');\nexport const VM_DEBUG_ID = Symbol('id');\nexport const VM_DEBUG_NAME = Symbol('name');\nexport const PROXY = Symbol('wrapper_proxy_of_host');\nexport const VM_ON = Symbol('fn_add_listener');\nexport const VM_OFF = Symbol('fn_remove_listener');\nexport const VM_NOTIFY = Symbol('fn_notify_listener');\n\nexport const NOTIFIABLE = Symbol('notifiable');\nconst HOST = Symbol('host');\nconst PARENTS = Symbol('parents');\nconst LISTENERS_STAR = Symbol('*');\nconst LISTENERS_DBSTAR = Symbol('**');\nconst LISTENERS = Symbol('listeners');\nconst LISTENERS_ID = Symbol('listenrs_id');\nconst LISTENERS_PARENT = Symbol('vm_listeners_parent');\nconst LISTENERS_HANDLERS = Symbol('vm_listeners_handlers');\nconst LISTENERS_IMMS = Symbol('vm_listeners_imms');\n\nexport const ADD_PARENT = Symbol('fn_add_parent');\nexport const REMOVE_PARENT = Symbol('fn_remove_parent');\nexport const SHIFT_PARENT = Symbol('fn_shift_parent');\nexport const DESTROY = Symbol('fn_destroy');\n\nexport function isInnerObj(v) {\n  const clazz = v.constructor;\n  return clazz === RegExp || clazz === Date || clazz === Boolean;\n}\nexport function isViewModel(obj) {\n  return isObject(obj) && !isInnerObj(obj) && (VM_ATTRS in obj);\n}\n\nexport function isPublicProp(v) {\n  return isString(v) && v.charCodeAt(0) !== 95;\n}\n\nclass Node {\n  constructor(parentNode, propertyName) {\n    this[LISTENERS_PARENT] = parentNode;\n    this[LISTENERS_ID] = propertyName;\n    this[LISTENERS] = null;\n    this[LISTENERS_HANDLERS] = null;\n  }\n}\n\nfunction getPropN(v) {\n  if (v === LISTENERS_DBSTAR || v === LISTENERS_STAR || isString(v)) {\n    return v;\n  }\n  return v.toString();\n}\n\nfunction loopCreateNode(vm, props, level = 0) {\n  const propertyName = getPropN(props[level]);\n  const listeners = getOrCreateMapProperty(vm, LISTENERS);\n  let node = listeners.get(propertyName);\n  if (!node) {\n    node = new Node(vm, propertyName);\n    listeners.set(propertyName, node);\n  }\n  if (props.length - 1 === level) {\n    return node;\n  } else {\n    return loopCreateNode(node, props, level + 1);\n  }\n}\n\nfunction loopGetNode(vm, props, level = 0) {\n  const propertyName = getPropN(props[level]);\n  const listeners = vm[LISTENERS];\n  const node = listeners.get(propertyName);\n  if (!node) {\n    return null;\n  }\n  if (props.length - 1 === level) {\n    return node;\n  } else {\n    return loopGetNode(node, props, level + 1);\n  }\n}\n\nfunction loopDelNode(node) {\n  if (!node[LISTENERS_HANDLERS] ||\n    !node[LISTENERS] ||\n    node[LISTENERS_HANDLERS].length > 0 ||\n    node[LISTENERS].size > 0\n  ) {\n    return;\n  }\n  /**\n   * if one node don't have any listener or child, delete it.\n   */\n  const parent = node[LISTENERS_PARENT];\n  const id = node[LISTENERS_ID];\n  node[LISTENERS_PARENT] = null; // unlink parent.\n  parent[LISTENERS].delete(id);\n  loopDelNode(parent);\n}\n\nfunction loopClearNode(node) {\n  const listeners = node[LISTENERS];\n  if (listeners) {\n    listeners.forEach(sn => loopClearNode(sn));\n    listeners.clear();\n  }\n  const handlers = node[LISTENERS_HANDLERS];\n  if (handlers) {\n    handlers.length = 0;\n  }\n  node[LISTENERS] =\n    node[LISTENERS_HANDLERS] = null;\n}\n\nconst _handleTasks = new Map();\nfunction _handleOnce(node, handler, propPath, imms) {\n  const _has = _handleTasks.has(handler);\n  _handleTasks.set(handler, propPath);\n  if (_has) {\n    return;\n  }\n  const imm = setImmediate(() => {\n    arrayRemove(imms, imm);\n    try {\n      handler(_handleTasks.get(handler));\n    } finally {\n      _handleTasks.delete(handler);\n    }\n  });\n  imms.push(imm);\n}\n\nfunction loopHandle(propPath, node, imms) {\n  const handlers = node[LISTENERS_HANDLERS];\n  handlers && handlers.forEach(handler => {\n    imms ? _handleOnce(node, handler, propPath, imms) : handler(propPath);\n  });\n  const listeners = node[LISTENERS];\n  listeners && listeners.forEach(c => {\n    loopHandle(propPath, c, imms);\n  });\n}\n\nfunction loopNotify(vm, props, imms, level = 0) {\n  const listeners = vm[LISTENERS];\n  if (!listeners) return;\n\n  const propertyName = getPropN(props[level]);\n  let node = listeners.get(propertyName);\n  if (node) {\n    if (props.length - 1 === level) {\n      loopHandle(props, node, config[CFG_VM_DEBUG] ? null : imms);\n    } else {\n      loopNotify(node, props, imms, level + 1);\n    }\n  }\n  node = listeners.get(LISTENERS_STAR);\n  if (node) {\n    if (props.length - 1 === level) {\n      loopHandle(props, node, null);\n    } else {\n      loopNotify(node, props, imms, level + 1);\n    }\n  }\n  node = listeners.get(LISTENERS_DBSTAR);\n  if (node) {\n    loopHandle(props, node, null);\n  }\n}\n\nfunction getProps(prop) {\n  return isString(prop) ? (\n    prop.indexOf('.') > 0 ? prop.split('.') : [prop]\n  ) : prop;\n}\n\nexport class ViewModelAttrs {\n  constructor(host) {\n    this[HOST] = host;\n    this[NOTIFIABLE] = true;\n    this[VM_DEBUG_ID] = null;\n    this[VM_DEBUG_NAME] = null;\n    this[PARENTS] = null;\n    this[PROXY] = null;\n    this[LISTENERS] = null;\n    this[LISTENERS_IMMS] = null;\n  }\n\n  [ADD_PARENT](parent, prop) {\n    const pArr = getOrCreateArrayProperty(this, PARENTS);\n    pArr.push([parent, prop]);\n  }\n\n  [REMOVE_PARENT](parent, prop) {\n    const pArr = this[PARENTS];\n    if (!pArr) return;\n    const idx = pArr.findIndex(ps => ps[0] === parent && ps[1] === prop);\n    if (idx >= 0) pArr.splice(idx, 1);\n  }\n\n  [SHIFT_PARENT](parent, prop, delta) {\n    const pArr = this[PARENTS];\n    if (!pArr) return;\n    const ps = pArr.find(ps => ps[0] === parent && ps[1] === prop);\n    if (ps) {\n      ps[1] += delta;\n    }\n  }\n\n  [VM_ON](prop, handler) {\n    const node = loopCreateNode(this, getProps(prop));\n    arrayPushIfNotExist(\n      getOrCreateArrayProperty(node, LISTENERS_HANDLERS),\n      handler\n    );\n  }\n\n  [VM_OFF](prop, handler) {\n    const node = loopGetNode(this, getProps(prop));\n    if (!node) return;\n    const hs = node[LISTENERS_HANDLERS];\n    if (!handler) hs.length = 0; // remove all\n    else arrayRemove(hs, handler);\n\n    loopDelNode(node);\n  }\n\n  [VM_NOTIFY](prop) {\n    if (!this[NOTIFIABLE]) {\n      return;\n    }\n    const props = getProps(prop);\n    if (this[LISTENERS]) {\n      const imms = getOrCreateArrayProperty(this, LISTENERS_IMMS);\n      loopNotify(this, props, imms);\n    }\n    const pArr = this[PARENTS];\n    pArr && pArr.forEach(ps => {\n      ps[0][VM_ATTRS][VM_NOTIFY](\n        [ps[1]].concat(props)\n      );\n    });\n  }\n\n  [DESTROY]() {\n    // mark as non-notifiable\n    this[NOTIFIABLE] = false;\n    // unlink all view model property\n    const obj = this[HOST];\n    getOwnPropertyNames(obj, prop => {\n      obj[prop] = null;\n    });\n    // unlink host\n    this[HOST] = null;\n    // unlink host object wrapper proxy\n    this[PROXY] = null;\n\n    // clear assignment parents\n    const pArr = this[PARENTS];\n    pArr && (pArr.length = 0);\n    this[PARENTS] = null;\n\n    // clear listeners\n    loopClearNode(this);\n  }\n}\n\nexport function vmWatch(vm, prop, handler) {\n  const vmAttrs = vm[VM_ATTRS];\n  if (!vmAttrs) {\n    throw new Error('vmWatch require ViewModel object');\n  }\n  let dbStarIdx = -1;\n  const props = getProps(prop).map((p, i) => {\n    if (p === '**') {\n      dbStarIdx = i;\n      return LISTENERS_DBSTAR;\n    }\n    return p === '*' ? LISTENERS_STAR : p;\n  });\n  if (dbStarIdx >= 0 && dbStarIdx !== props.length - 1) {\n    /**\n     * 'a.b.**' is good.\n     * 'a.b.**.c' is bad.\n     */\n    throw new Error('wizard \"**\" must be last element in path.');\n  }\n  vmAttrs[VM_ON](props, handler);\n}\n\nexport function vmUnwatch(vm, prop, handler) {\n  const vmAttrs = vm[VM_ATTRS];\n  if (!prop) {\n    loopClearNode(vmAttrs);\n  } else {\n    vmAttrs[VM_OFF](prop, handler);\n  }\n}\n","import * as core from './core';\nimport * as proxy from './proxy';\n\nexport {\n  core,\n  proxy\n};\n","import {\n  Symbol,\n  isNumber,\n  isArray,\n  isObject,\n  STR_LENGTH,\n  isFunction,\n  isPromise,\n  isUndefined\n} from '../util';\nimport {\n  isInnerObj,\n  isPublicProp,\n  ViewModelAttrs,\n  VM_ATTRS,\n  PROXY,\n  isViewModel,\n  ADD_PARENT,\n  REMOVE_PARENT,\n  SHIFT_PARENT,\n  VM_NOTIFY,\n  NOTIFIABLE\n} from './core';\n\nexport const VM_SETTER_FN_MAP = Symbol('vm_setter_fn_map');\n\n/**\n * check if property named \"prop\" is setter of instance \"obj\",\n * if it's setter, return setter function, otherwise return null.\n * @param {Object} obj\n * @param {String} prop\n *\n * 检测名称为 \"prop\" 的属性是否是 setter，如果是，返回该 setter 函数，\n * 否则，返回 null。\n * 由于 obj 可能是有继承关系的类的实例，因此需要向上检测继承的类的 prototype。\n */\nfunction getSetterFnIfPropIsSetter(obj, prop) {\n  const map = obj[VM_SETTER_FN_MAP];\n  if (!map.has(prop)) {\n    let clazz = obj.constructor;\n    let desc = Object.getOwnPropertyDescriptor(clazz.prototype, prop);\n    let fn;\n    if (desc) {\n      fn = isFunction(desc.set) ? desc.set : null;\n      map.set(prop, fn);\n      return fn;\n    }\n    // lookup to check parent classes\n    clazz = Object.getPrototypeOf(clazz);\n    while (clazz && clazz.prototype) {\n      desc = Object.getOwnPropertyDescriptor(clazz.prototype, prop);\n      if (desc) {\n        fn = isFunction(desc.set) ? desc.set : null;\n        map.set(prop, fn);\n        return fn;\n      }\n      clazz = Object.getPrototypeOf(clazz);\n    }\n    map.set(prop, null);\n    return null;\n  } else {\n    return map.get(prop);\n  }\n}\n\nfunction notifyPropChanged(vm, prop) {\n  vm[VM_ATTRS][VM_NOTIFY](prop);\n}\n\nfunction __propSetHandler(target, prop, value, setFn) {\n  if (!isPublicProp(prop)) {\n    target[prop] = value;\n    return true;\n  }\n  const oldVal = target[prop];\n  if (oldVal === value && !isUndefined(value)) {\n    return true;\n  }\n  const newValIsVM = isViewModel(value);\n  if (isObject(value) && !isInnerObj(value) && !newValIsVM) {\n    throw new Error('public property of ViewModel must also be ViewModel');\n  }\n  // console.log(`'${prop}' changed from ${store[prop]} to ${value}`);\n  if (isViewModel(oldVal)) {\n    oldVal[VM_ATTRS][REMOVE_PARENT](target, prop);\n  }\n  setFn(target, prop, value);\n  if (newValIsVM) {\n    value[VM_ATTRS][ADD_PARENT](target, prop);\n  }\n  notifyPropChanged(target, prop);\n  return true;\n}\n\nfunction __objectPropSetFn(target, prop, value) {\n  target[prop] = value;\n}\n\nfunction __componentPropSetFn(target, prop, value) {\n  /**\n   * we must ensure `this` in setter function to be `Proxy`\n   *\n   * 首先判断当前赋值的变量名，是否对应了一个 setter 函数，\n   * 如果是 setter 函数，则应该显式地调用，\n   *   并将 `this` 设置为该 target 的包装 Proxy，\n   *   这样才能保正 setter 函数中其它赋值语句能触发 notify。\n   * 如果不是 setter 函数，则简单地使用 target\\[prop\\] 赋值即可。\n   */\n  if (!target[VM_SETTER_FN_MAP]) {\n    console.warn(`call setter \"${prop}\" after destroied, resources such as setInterval maybe not released before destroy. component:`, target);\n    return;\n  }\n  const setterFn = getSetterFnIfPropIsSetter(target, prop);\n  if (setterFn) {\n    setterFn.call(target[VM_ATTRS][PROXY], value);\n  } else {\n    target[prop] = value;\n  }\n}\n\nfunction objectPropSetHandler(target, prop, value) {\n  return __propSetHandler(target, prop, value, __objectPropSetFn);\n}\n\nfunction componentPropSetHandler(target, prop, value) {\n  return __propSetHandler(target, prop, value, __componentPropSetFn);\n}\n\nfunction arrayPropSetHandler(target, prop, value) {\n  if (prop === STR_LENGTH) {\n    return arrayLengthSetHandler(target, value);\n  }\n  return objectPropSetHandler(target, prop, value);\n}\n\nfunction arrayNotifyItems(target, idxStart, idxEnd) {\n  let i = idxStart;\n  if (idxStart > idxEnd) {\n    i = idxEnd;\n    idxEnd = idxStart;\n  }\n  for (; i < idxEnd; i++) {\n    // console.log('npc', i);\n    notifyPropChanged(target, i);\n  }\n}\n\nfunction arrayLengthSetHandler(target, value) {\n  if (!isNumber(value)) throw new Error('bad argument. array length must be validate number.');\n  const oldLen = target.length;\n  if (oldLen > value) {\n    for (let i = value; i < oldLen; i++) {\n      const v = target[i];\n      isViewModel(v) && v[VM_ATTRS][REMOVE_PARENT](target, i);\n    }\n  }\n  target.length = value;\n  // console.log('set .length from', oldLen, 'to', value);\n  if (oldLen !== value) {\n    notifyPropChanged(target, STR_LENGTH);\n    arrayNotifyItems(target, oldLen, value);\n  }\n  return true;\n}\n\nexport const ObjectProxyHandler = {\n  set: objectPropSetHandler\n};\n\nexport const ComponentProxyHandler = {\n  set: componentPropSetHandler\n};\n\nexport const PromiseProxyHandler = {\n  get(target, prop) {\n    if (prop === 'then' || prop === 'catch') {\n      const v = target[prop];\n      return function(...args) {\n        return v.call(target, ...args);\n      };\n    } else {\n      return target[prop];\n    }\n  },\n  set: objectPropSetHandler\n};\n\nfunction _arrayFill(target, v) {\n  target.forEach((it, i) => {\n    if (it === v && !isUndefined(it)) {\n      return;\n    }\n    if (isViewModel(it)) {\n      it[VM_ATTRS][REMOVE_PARENT](target, i);\n    }\n    target[i] = v;\n    if (isViewModel(it)) {\n      it[VM_ATTRS][ADD_PARENT](target, i);\n    }\n    notifyPropChanged(target, i);\n  });\n  return target[VM_ATTRS][PROXY];\n}\n\nfunction _arrayReverseSort(target, fn, arg) {\n  target.forEach((it, i) => {\n    if (isViewModel(it)) {\n      it[VM_ATTRS][ADD_PARENT](target, i);\n    }\n  });\n  target[fn](arg);\n  target.forEach((it, i) => {\n    if (isViewModel(it)) {\n      it[VM_ATTRS][REMOVE_PARENT](parent, i);\n    }\n  });\n  arrayNotifyItems(target, 0, target.length);\n  // return wrapper proxy to ensure `arr.reverse() === arr`\n  return target[VM_ATTRS][PROXY];\n}\n\nfunction _arrayWrapSub(arr, wrapEachItem = false) {\n  const rtn = wrapProxy(arr, true);\n  // handleVMDebug(arr);\n  arr.forEach((it, i) => {\n    if (isViewModel(it)) {\n      it[VM_ATTRS][ADD_PARENT](arr, i);\n    } else if (wrapEachItem) {\n      arr[i] = loopWrapVM(it);\n    }\n  });\n  return rtn;\n}\n\nfunction _arrayShiftOrUnshiftProp(arr, delta) {\n  arr.forEach((el, i) => {\n    if (!isViewModel(el)) return;\n    el[VM_ATTRS][SHIFT_PARENT](arr, i, delta);\n  });\n}\n\nfunction _argAssert(arg, fn) {\n  if (isObject(arg)) {\n    if (!(VM_ATTRS in arg)) {\n      throw new Error(`argument passed to Array.${fn} must be ViewModel if the array is ViewModel`);\n    } else {\n      return true;\n    }\n  } else {\n    return false;\n  }\n}\n\nconst ArrayFns = {\n  splice(target, idx, delCount, ...args) {\n    if (idx < 0) idx = 0;\n    args.forEach((arg, i) => {\n      if (_argAssert(arg, 'splice')) {\n        arg[VM_ATTRS][ADD_PARENT](target, idx + i);\n      }\n    });\n    for (let i = 0; i < delCount; i++) {\n      if (idx + i >= target.length) break;\n      const el = target[idx + i];\n      if (isViewModel(el)) {\n        el[VM_ATTRS][REMOVE_PARENT](target, idx + i);\n      }\n    }\n    const delta = args.length - delCount;\n    if (delta !== 0) {\n      for (let i = idx + delCount; i < target.length; i++) {\n        const el = target[i];\n        if (!isViewModel(el)) continue;\n        el[VM_ATTRS][SHIFT_PARENT](target, i, delta);\n      }\n    }\n    const rtn = _arrayWrapSub(target.splice(idx, delCount, ...args));\n    if (delta !== 0) {\n      notifyPropChanged(target, STR_LENGTH);\n      for (let i = idx; i < target.length; i++) {\n        notifyPropChanged(target, i);\n      }\n    }\n    return rtn;\n  },\n  shift(target) {\n    if (target.length === 0) return target.shift();\n    _arrayShiftOrUnshiftProp(target, -1);\n    const el = target.shift();\n    if (isViewModel(el)) {\n      el[VM_ATTRS][REMOVE_PARENT](target, -1);\n    }\n    notifyPropChanged(target, STR_LENGTH);\n    for (let i = 0; i < target.length + 1; i++) {\n      notifyPropChanged(target, i);\n    }\n    return el;\n  },\n  unshift(target, ...args) {\n    if (args.length === 0) return target.unshift();\n    args.forEach((arg, i) => {\n      if (_argAssert(arg, 'unshift')) {\n        arg[VM_ATTRS][ADD_PARENT](target, i);\n      }\n    });\n    _arrayShiftOrUnshiftProp(target, args.length);\n    const rtn = target.unshift(...args);\n    notifyPropChanged(target, STR_LENGTH);\n    for (let i = 0; i < target.length; i++) {\n      notifyPropChanged(target, i);\n    }\n    return rtn;\n  },\n  pop(target) {\n    if (target.length === 0) {\n      return target.pop();\n    }\n    const el = target.pop();\n    if (isViewModel(el)) {\n      el[VM_ATTRS][REMOVE_PARENT](target, target.length);\n    }\n    notifyPropChanged(target, STR_LENGTH);\n    notifyPropChanged(target, target.length);\n    return el;\n  },\n  push(target, ...args) {\n    if (args.length === 0) return target.push();\n    args.forEach((arg, i) => {\n      if (_argAssert(arg, 'push')) {\n        arg[VM_ATTRS][ADD_PARENT](target, target.length + i);\n      }\n    });\n    const rtn = target.push(...args);\n    notifyPropChanged(target, STR_LENGTH);\n    for (let i = target.length - 1 - args.length; i < target.length; i++) {\n      notifyPropChanged(target, i);\n    }\n    return rtn;\n  },\n  fill(target, v) {\n    _argAssert(v, 'fill');\n    return _arrayFill(target, v);\n  },\n  reverse(target) {\n    return _arrayReverseSort(target, 'reverse');\n  },\n  sort(target, fn) {\n    return _arrayReverseSort(target, 'sort', fn);\n  },\n  concat(target, arr) {\n    _argAssert(arr, 'concat');\n    return _arrayWrapSub(target.concat(arr));\n  },\n  filter(target, fn) {\n    return _arrayWrapSub(target.filter(fn));\n  },\n  slice(target, si, ei) {\n    return _arrayWrapSub(target.slice(si, ei));\n  },\n  map(target, fn) {\n    return _arrayWrapSub(target.map(fn), true);\n  }\n};\n\nexport const ArrayProxyHandler = {\n  get(target, prop) {\n    if (prop in ArrayFns) {\n      const fn = ArrayFns[prop];\n      return function(...args) {\n        return fn(target, ...args);\n      };\n    } else {\n      return target[prop];\n    }\n  },\n  set: arrayPropSetHandler\n};\n\nfunction wrapProp(vm, prop) {\n  const v = vm[prop];\n  if (!isObject(v) || isInnerObj(v)) {\n    return;\n  }\n  if (VM_ATTRS in v) {\n    v[VM_ATTRS][ADD_PARENT](vm, prop);\n    return;\n  }\n  vm[prop] = loopWrapVM(v);\n  v[VM_ATTRS][ADD_PARENT](vm, prop);\n}\n\nfunction wrapProxy(vm, isArr) {\n  const vmAttrs = new ViewModelAttrs(vm);\n  vm[VM_ATTRS] = vmAttrs;\n  const p = new Proxy(vm, isArr ? ArrayProxyHandler : (\n    isPromise(vm) ? PromiseProxyHandler : ObjectProxyHandler\n  ));\n  vmAttrs[PROXY] = p;\n  return p;\n}\n\nfunction loopWrapVM(plainObjectOrArray) {\n  if (isObject(plainObjectOrArray)) {\n    // directly return if alreay is ViewModel or inner object(Date/RegExp/Boolean).\n    if (isInnerObj(plainObjectOrArray) || (VM_ATTRS in plainObjectOrArray)) {\n      return plainObjectOrArray;\n    }\n\n    if (isArray(plainObjectOrArray)) {\n      for (let i = 0; i < plainObjectOrArray.length; i++) {\n        wrapProp(plainObjectOrArray, i);\n      }\n      return wrapProxy(plainObjectOrArray, true);\n    } else {\n      for (const k in plainObjectOrArray) {\n        if (isPublicProp(k)) {\n          wrapProp(plainObjectOrArray, k);\n        }\n      }\n      return wrapProxy(plainObjectOrArray, false);\n    }\n  } else {\n    return plainObjectOrArray;\n  }\n}\n\nexport function wrapViewModel(plainObjectOrArray) {\n  const vm = loopWrapVM(plainObjectOrArray);\n  // if (vm !== plainObjectOrArray) {\n  //   handleVMDebug(plainObjectOrArray);\n  // }\n  return vm;\n}\n\n// function handleVMDebug(vm) {\n//   if (!config[CFG_VM_DEBUG]) {\n//     return;\n//   }\n//   let _di = window._VM_DEBUG;\n//   if (!_di) {\n//     _di = window._VM_DEBUG = {\n//       id: 0, vms: []\n//     };\n//   }\n//   vm[VM_DEBUG_ID] = _di.id++;\n//   // if (isComponent(vm) && !(VM_DEBUG_NAME in vm)) {\n//   //   vm[VM_DEBUG_NAME] = `<${vm.constructor.name}>`;\n//   // }\n//   _di.vms.push(vm);\n// }\n\nexport function wrapComponent(component) {\n  if (component[VM_ATTRS]) {\n    throw new Error('alreay wraped.');\n  }\n  // handleVMDebug(component);\n  const vmAttrs = new ViewModelAttrs(component);\n  component[VM_ATTRS] = vmAttrs;\n  // 初始化时 Component 默认的 NOTIFIABLE 为 false，\n  // 待 RENDER 结束后才修改为 true，用于避免无谓的消息通知。\n  component[NOTIFIABLE] = false;\n  const p = new Proxy(component, ComponentProxyHandler);\n  vmAttrs[PROXY] = p;\n  return p;\n}\n\nexport function wrapAttrs(attrsObj) {\n  for (const k in attrsObj) {\n    if (isPublicProp(k)) {\n      const v = attrsObj[k];\n      if (isObject(v) && !isInnerObj(v) && !(VM_ATTRS in v)) {\n        throw new Error(`value passed to attribute \"${k}\" must be ViewModel.`);\n      }\n    }\n  }\n  const attrs = wrapViewModel(attrsObj);\n  // 初始化时 Component 默认的 NOTIFIABLE 为 false，\n  // 待 RENDER 结束后才修改为 true，用于避免无谓的消息通知。\n  attrs[NOTIFIABLE] = false;\n  return attrs;\n}\n","import {\n  createTextNode as createTextNode_05a71d71, createComment as createComment_05a71d71, createElement as createElement_05a71d71, createElementWithoutAttrs as createElementWithoutAttrs_05a71d71, createSVGElement as createSVGElement_05a71d71, createSVGElementWithoutAttrs as createSVGElementWithoutAttrs_05a71d71, createFragment as createFragment_05a71d71, appendText as appendText_05a71d71, appendChild as appendChild_05a71d71, setText as setText_05a71d71, setAttribute as setAttribute_05a71d71, removeAttribute as removeAttribute_05a71d71, setInputValue as setInputValue_05a71d71, addEvent as addEvent_05a71d71\n} from 'jinge/dom';\nimport {\n  VM_ATTRS as VM_ATTRS_05a71d71, VM_ON as VM_ON_05a71d71, VM_OFF as VM_OFF_05a71d71, VM_NOTIFY as VM_NOTIFY_05a71d71, VM_DEBUG_NAME as VM_DEBUG_NAME_05a71d71\n} from 'jinge/viewmodel/core';\nimport {\n  ON as ON_05a71d71, LISTENERS as LISTENERS_05a71d71\n} from 'jinge/core/messenger';\nimport {\n  CSTYLE_PID as CSTYLE_PID_05a71d71, addParentStyleId as addParentStyleId_05a71d71\n} from 'jinge/core/style';\nimport {\n  assertRenderResults as assertRenderResults_05a71d71, emptyRenderFn as emptyRenderFn_05a71d71, errorRenderFn as errorRenderFn_05a71d71, textRenderFn as textRenderFn_05a71d71, SET_REF_NODE as SET_REF_NODE_05a71d71, CONTEXT as CONTEXT_05a71d71, NON_ROOT_COMPONENT_NODES as NON_ROOT_COMPONENT_NODES_05a71d71, ROOT_NODES as ROOT_NODES_05a71d71, ARG_COMPONENTS as ARG_COMPONENTS_05a71d71, RENDER as RENDER_05a71d71\n} from 'jinge/core/component';\nimport {\n  wrapViewModel as wrapViewModel_05a71d71, wrapAttrs as wrapAttrs_05a71d71\n} from 'jinge/viewmodel/proxy';\nimport {\n  STR_EMPTY as STR_EMPTY_05a71d71, STR_DEFAULT as STR_DEFAULT_05a71d71, arrayEqual as arrayEqual_05a71d71, assignObject as assignObject_05a71d71\n} from 'jinge/util';\nimport {\n  ParameterComponent as ParameterComponent_05a71d71\n} from 'jinge/components/parameter';\nimport * as JINGE_CONSTS_05a71d71 from 'jinge/util/const';\n\nimport { ForComponent as ForComponent_f56ae9d4, IfComponent as IfComponent_1c5c0985 } from 'jinge';\n\nexport default function(component) {\n  const vm_0 = component;\n  return [\n  (() => {\n    const el = createElement_05a71d71(\n      \"h2\",\n      component[CSTYLE_PID_05a71d71],\n      \"Simple Array For-loop\"\n    );\n    component[ROOT_NODES_05a71d71].push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_05a71d71(\n      \"div\",\n      component[CSTYLE_PID_05a71d71],\n      createElementWithoutAttrs_05a71d71(\n        \"p\",\n        ...(() => {\n          const attrs = wrapAttrs_05a71d71({\n            [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<for>\",\n            [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n            loop: null,\n            [ARG_COMPONENTS_05a71d71]: {\n              [STR_DEFAULT_05a71d71]: function(component) {\n                const vm_1 = component;\n                return [\n                ...(() => {\n                  const attrs = wrapAttrs_05a71d71({\n                    [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<if>\",\n                    [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n                    expect: null,\n                    [ARG_COMPONENTS_05a71d71]: {\n                      [STR_DEFAULT_05a71d71]: function(component) {\n                        return [\n                        textRenderFn_05a71d71(component, \"First: \")\n                        ];\n                      }\n                    }\n                  });\n                  const fn_0 = () => {\n                    attrs.expect = wrapViewModel_05a71d71(vm_1.isFirst);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"isFirst\", fn_0, component);\n                  const el = new IfComponent_1c5c0985(attrs);\n                  addParentStyleId_05a71d71(el, component[CSTYLE_PID_05a71d71]);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n                })(),\n                (() => {\n                  const el = createTextNode_05a71d71('');\n                  const fn_0 = () => {\n                    setText_05a71d71(el, vm_1.index);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"index\", fn_0, component);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return el;\n                })(),\n                textRenderFn_05a71d71(component, \": \"),\n                (() => {\n                  const el = createTextNode_05a71d71('');\n                  const fn_0 = () => {\n                    setText_05a71d71(el, vm_1.each);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"each\", fn_0, component);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return el;\n                })(),\n                ...(() => {\n                  const attrs = wrapAttrs_05a71d71({\n                    [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<if>\",\n                    [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n                    expect: null,\n                    [ARG_COMPONENTS_05a71d71]: {\n                      [STR_DEFAULT_05a71d71]: function(component) {\n                        return [\n                        textRenderFn_05a71d71(component, \";\")\n                        ];\n                      }\n                    }\n                  });\n                  const fn_0 = () => {\n                    attrs.expect = wrapViewModel_05a71d71(!vm_1.isLast);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"isLast\", fn_0, component);\n                  const el = new IfComponent_1c5c0985(attrs);\n                  addParentStyleId_05a71d71(el, component[CSTYLE_PID_05a71d71]);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n                })()\n                ];\n              }\n            }\n          });\n          const fn_0 = () => {\n            attrs.loop = wrapViewModel_05a71d71(vm_0.numbers);\n          };\n          fn_0();\n          vm_0[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"numbers\", fn_0, component);\n          const el = new ForComponent_f56ae9d4(attrs);\n          component[NON_ROOT_COMPONENT_NODES_05a71d71].push(el);\n          return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n        })()\n      ),\n      createElementWithoutAttrs_05a71d71(\n        \"div\",\n        (() => {\n          const el = createElementWithoutAttrs_05a71d71(\n            \"button\",\n            \"Test\"\n          );\n          addEvent_05a71d71(el, 'click', function(...args) {vm_0.test(...args)})\n          return el;\n        })(),\n        (() => {\n          const el = createElementWithoutAttrs_05a71d71(\n            \"button\",\n            \"Push Large\"\n          );\n          addEvent_05a71d71(el, 'click', function(...args) {vm_0.push(...args)})\n          return el;\n        })()\n      )\n    );\n    component[ROOT_NODES_05a71d71].push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_05a71d71(\n      \"h2\",\n      component[CSTYLE_PID_05a71d71],\n      \"For & If\"\n    );\n    component[ROOT_NODES_05a71d71].push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_05a71d71(\n      \"div\",\n      component[CSTYLE_PID_05a71d71],\n      createElementWithoutAttrs_05a71d71(\n        \"p\",\n        ...(() => {\n          const attrs = wrapAttrs_05a71d71({\n            [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<for>\",\n            [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n            loop: null,\n            key: \"each\",\n            [ARG_COMPONENTS_05a71d71]: {\n              [STR_DEFAULT_05a71d71]: function(component) {\n                const vm_1 = component;\n                return [\n                ...(() => {\n                  const attrs = wrapAttrs_05a71d71({\n                    [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<if>\",\n                    [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n                    expect: null,\n                    [ARG_COMPONENTS_05a71d71]: {\n                      [STR_DEFAULT_05a71d71]: function(component) {\n                        return [\n                        (() => {\n                          const el = createElement_05a71d71(\n                            \"span\",\n                            component[CSTYLE_PID_05a71d71],\n                            \"odd: \"\n                          );\n                          component[ROOT_NODES_05a71d71].push(el);\n                          return el;\n                        })()\n                        ];\n                      },\n                      ['else']: function(component) {\n                        return [\n                        (() => {\n                          const el = createElement_05a71d71(\n                            \"span\",\n                            component[CSTYLE_PID_05a71d71],\n                            \"even: \"\n                          );\n                          component[ROOT_NODES_05a71d71].push(el);\n                          return el;\n                        })()\n                        ];\n                      }\n                    }\n                  });\n                  const fn_0 = () => {\n                    attrs.expect = wrapViewModel_05a71d71(vm_1.index % 2 === 0);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"index\", fn_0, component);\n                  const el = new IfComponent_1c5c0985(attrs);\n                  addParentStyleId_05a71d71(el, component[CSTYLE_PID_05a71d71]);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n                })(),\n                ...(() => {\n                  const attrs = wrapAttrs_05a71d71({\n                    [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<if>\",\n                    [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n                    expect: null,\n                    [ARG_COMPONENTS_05a71d71]: {\n                      [STR_DEFAULT_05a71d71]: function(component) {\n                        return [\n                        (() => {\n                          const el = createElement_05a71d71(\n                            \"span\",\n                            assignObject_05a71d71({\n                              style: \"margin-right: 10px;\"\n                            }, component[CSTYLE_PID_05a71d71]),\n                            (() => {\n                              const el = createTextNode_05a71d71('');\n                              const fn_0 = () => {\n                                setText_05a71d71(el, vm_1.index);\n                              };\n                              fn_0();\n                              vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"index\", fn_0, component);\n                              return el;\n                            })(),\n                            \": \",\n                            (() => {\n                              const el = createTextNode_05a71d71('');\n                              const fn_0 = () => {\n                                setText_05a71d71(el, vm_1.each);\n                              };\n                              fn_0();\n                              vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"each\", fn_0, component);\n                              return el;\n                            })(),\n                            \";\"\n                          );\n                          component[ROOT_NODES_05a71d71].push(el);\n                          return el;\n                        })()\n                        ];\n                      }\n                    }\n                  });\n                  const fn_0 = () => {\n                    attrs.expect = wrapViewModel_05a71d71(vm_1.each % 2 === 0);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"each\", fn_0, component);\n                  const el = new IfComponent_1c5c0985(attrs);\n                  addParentStyleId_05a71d71(el, component[CSTYLE_PID_05a71d71]);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n                })(),\n                ...(() => {\n                  const attrs = wrapAttrs_05a71d71({\n                    [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<if>\",\n                    [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n                    expect: null,\n                    [ARG_COMPONENTS_05a71d71]: {\n                      [STR_DEFAULT_05a71d71]: function(component) {\n                        return [\n                        (() => {\n                          const el = createElement_05a71d71(\n                            \"span\",\n                            assignObject_05a71d71({\n                              style: \"margin-right: 10px; color: blue;\"\n                            }, component[CSTYLE_PID_05a71d71]),\n                            (() => {\n                              const el = createTextNode_05a71d71('');\n                              const fn_0 = () => {\n                                setText_05a71d71(el, vm_1.each);\n                              };\n                              fn_0();\n                              vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"each\", fn_0, component);\n                              return el;\n                            })()\n                          );\n                          component[ROOT_NODES_05a71d71].push(el);\n                          return el;\n                        })()\n                        ];\n                      }\n                    }\n                  });\n                  const fn_0 = () => {\n                    attrs.expect = wrapViewModel_05a71d71(vm_1.each % 2 === 1);\n                  };\n                  fn_0();\n                  vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"each\", fn_0, component);\n                  const el = new IfComponent_1c5c0985(attrs);\n                  addParentStyleId_05a71d71(el, component[CSTYLE_PID_05a71d71]);\n                  component[ROOT_NODES_05a71d71].push(el);\n                  return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n                })()\n                ];\n              }\n            }\n          });\n          const fn_0 = () => {\n            attrs.loop = wrapViewModel_05a71d71(vm_0.numbers);\n          };\n          fn_0();\n          vm_0[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"numbers\", fn_0, component);\n          const el = new ForComponent_f56ae9d4(attrs);\n          component[NON_ROOT_COMPONENT_NODES_05a71d71].push(el);\n          return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n        })()\n      )\n    );\n    component[ROOT_NODES_05a71d71].push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_05a71d71(\n      \"h2\",\n      component[CSTYLE_PID_05a71d71],\n      \"Key: id\"\n    );\n    component[ROOT_NODES_05a71d71].push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_05a71d71(\n      \"div\",\n      component[CSTYLE_PID_05a71d71],\n      createElementWithoutAttrs_05a71d71(\n        \"p\",\n        createElementWithoutAttrs_05a71d71(\n          \"ul\",\n          ...(() => {\n            const attrs = wrapAttrs_05a71d71({\n              [VM_DEBUG_NAME_05a71d71]: \"attrs_of_<for>\",\n              [CONTEXT_05a71d71]: component[CONTEXT_05a71d71],\n              loop: null,\n              key: \"each.id\",\n              [ARG_COMPONENTS_05a71d71]: {\n                [STR_DEFAULT_05a71d71]: function(component) {\n                  const vm_1 = component;\n                  return [\n                  (() => {\n                    const el = createElement_05a71d71(\n                      \"li\",\n                      component[CSTYLE_PID_05a71d71],\n                      (() => {\n                        const el = createTextNode_05a71d71('');\n                        const fn_0 = () => {\n                          setText_05a71d71(el, vm_1.each.name);\n                        };\n                        fn_0();\n                        vm_1[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"each.name\", fn_0, component);\n                        return el;\n                      })()\n                    );\n                    component[ROOT_NODES_05a71d71].push(el);\n                    return el;\n                  })()\n                  ];\n                }\n              }\n            });\n            const fn_0 = () => {\n              attrs.loop = wrapViewModel_05a71d71(vm_0.persons);\n            };\n            fn_0();\n            vm_0[VM_ATTRS_05a71d71][VM_ON_05a71d71](\"persons\", fn_0, component);\n            const el = new ForComponent_f56ae9d4(attrs);\n            component[NON_ROOT_COMPONENT_NODES_05a71d71].push(el);\n            return assertRenderResults_05a71d71(el[RENDER_05a71d71](component));\n          })()\n        )\n      )\n    );\n    component[ROOT_NODES_05a71d71].push(el);\n    return el;\n  })()\n  ];\n}","\nimport {\n  VM_ATTRS as VM_ATTRS_e163cba0ee,\n  VM_ON as VM_ON_e163cba0ee\n} from 'jinge/viewmodel/core';\nimport {\n  wrapComponent as wrapComponent_e163cba0ee\n} from 'jinge/viewmodel/proxy';\n\nimport {\n  Component,\n  bootstrap,\n  VM\n} from 'jinge';\n\nimport _tpl from './app.html';\n\nlet AUTO_INC = 1000;\n\nclass App extends Component {\n  static get template() {\n    return _tpl;\n  }\n  constructor(args) {\n    const vm_e163cba0ee = super(args);\n    vm_e163cba0ee.INC = 10;\n    vm_e163cba0ee.numbers = VM([\n      0,\n      1,\n      2\n    ]);\n    vm_e163cba0ee.persons = VM([\n      {\n        id: '001',\n        name: 'XiaoGe'\n      },\n      {\n        id: '002',\n        name: 'Jinge'\n      }\n    ]);\n    setInterval(() => {\n      vm_e163cba0ee.numbers.push(AUTO_INC++);\n      vm_e163cba0ee.persons.push(VM({\n        id: Date.now().toString(32),\n        name: Date.now().toString(32)\n      }));\n    }, 3000);\n    return vm_e163cba0ee;\n  }\n  test($evt) {\n    // this.numbers.push(AUTO_INC++);\n    // return;\n    // console.log($evt);\n    // this.numbers = VM([6, 0, 7, 3, 2]);\n    window.__dd = true;\n    this.persons.length = 0;\n  }\n  push() {\n    const tmp = [];\n    for(let i = 0; i < 10000; i++) {\n      tmp.push(AUTO_INC++);\n    }\n    this.numbers.push(...tmp);\n  }\n}\n\nbootstrap(App, document.getElementById('root-app'));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}