{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/class.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/dynamic.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/for.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/hide.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/html.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/i18n.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/if.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/index.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/log.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/components/parameter.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/bootstrap.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/component.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/i18n.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/index.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/messenger.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/render_fns.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/style.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/core/transition.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/index.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/util/array.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/util/common.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/util/dom.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/util/index.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/util/setimm.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/util/type.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/vm/common.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/vm/core.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/vm/index.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/vm/node.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/vm/notify.js","webpack:////Users/geyuhang/workspace/jinge-mvvm/jinge-framework/lib/vm/proxy.js","webpack:///./app.html","webpack:///./index.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEqF;AACb;AACtC;AACqC;AACvE;AACA,QAAQ,mEAAW;AACnB,WAAW,kDAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mCAAmC,yDAAS;AACnD;AACA,qBAAqB,sDAAQ;AAC7B;AACA;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA,wBAAwB,6CAAE;AAC1B;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iEAAgB,WAAW,iEAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iEAAgB,yBAAyB,iEAAgB;AACpF;AACA;AACA,2BAA2B,iEAAgB,WAAW,iEAAgB;AACtE;AACA;AACA,gBAAgB,yDAAW;AAC3B,gBAAgB,yDAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wEAAe;AAC3B;AACA,8BAA8B,wEAAe;AAC7C;AACA;AACA;AACA,2BAA2B,iEAAgB,WAAW,iEAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yDAAW;AAC3B,gBAAgB,yDAAW;AAC3B;AACA;AACA;AACA,2BAA2B,iEAAgB,WAAW,iEAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iEAAgB,YAAY,iEAAgB;AACnE;AACA,YAAY,sDAAQ;AACpB;AACA,YAAY,0DAAY;AACxB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,iC;;;;;;;;;;;;AC3IA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEqF;AACnD;AACiB;AACA;AACnD;AACA;AACA,6BAA6B,kDAAE;AAC/B,kBAAkB,uDAAW;AAC7B,SAAS,kDAAE;AACX,+BAA+B,kDAAE;AACjC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,qCAAqC,kDAAE;AACvC;AACA;AACA;AACA,cAAc,6CAAE;AAChB;AACO,qCAAqC,yDAAS;AACrD;AACA,WAAW,sDAAQ,mBAAmB,mEAAW;AACjD;AACA;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B,YAAY,6CAAE;AACd,qEAAqE,kDAAE;AACvE,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kDAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,4DAAc;AACxD;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE2H;AAC5E;AACX;AAC+C;AAC5E,+BAA+B,yDAAS;AAC/C;AACA;AACA,qCAAqC,6CAAiB;AACtD,UAAU,8DAAW;AACrB;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kDAAE;AACtB;AACA;AACA;AACA,oCAAoC,uDAAK;AACzC,SAAS,kDAAE;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,cAAc,6CAAE;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE,SAAS,gBAAgB,sCAAsC,IAAI;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO,kDAAE;AACT,YAAY,mEAAW;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,sDAAQ;AACpB;AACO,2BAA2B,yDAAS;AAC3C;AACA;AACA;AACA;AACA;AACA,qCAAqC,6CAAiB;AACtD,UAAU,8DAAW;AACrB;AACA,OAAO;AACP;AACA;AACA,YAAY,6CAAE;AACd;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,KAAK;AACzE;AACA,0BAA0B,6CAAE;AAC5B;AACA;AACA;AACA;AACA,eAAe,qDAAO;AACtB;AACA;AACA,eAAe,sDAAQ;AACvB;AACA;AACA;AACA,SAAS;AACT;AACA,wBAAwB,6CAAE;AAC1B,8BAA8B,kDAAE,YAAY,+DAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,sDAAQ;AAC3B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kDAAE;AAC7B,wCAAwC,kDAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qDAAO;AACpB;AACA;AACA;AACA;AACA,iFAAiF,kDAAE,gBAAgB,kDAAE;AACrG;AACA;AACA;AACA;AACA,2BAA2B,kDAAE;AAC7B,aAAa,qDAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kDAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,kDAAE,gBAAgB,kDAAE;AACzG,2BAA2B,2EAAmB;AAC9C,4DAA4D,4DAAc;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kDAAE;AAC1C;AACA;AACA,yBAAyB,qDAAO;AAChC,2BAA2B,kDAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,kDAAE;AAC3B,6BAA6B,kDAAE;AAC/B,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA,6BAA6B,4DAAc;AAC3C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,gBAAgB,yDAAW;AAC3B,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,kDAAE,gBAAgB,kDAAE;AAC7G,YAAY,yDAAW,UAAU,4DAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA,6BAA6B,4DAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kDAAE;AACf;AACA;AACA;AACA,+B;;;;;;;;;;;;AChZA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACD;AACc;AACxC,4BAA4B,2DAAoB;AACvD;AACA,sBAAsB,oDAAE;AACxB;AACA,SAAS;AACT,cAAc,6CAAE;AAChB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gC;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AAEwE;AAC/B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACO,gCAAgC,yDAAS;AAChD;AACA;AACA;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kDAAE;AACvB;AACA;AACA,2BAA2B,kDAAE;AAC7B;AACA;AACA;AACA,4CAA4C,4DAAc;AAC1D;AACA,aAAa,kDAAE;AACf;AACA;AACA,gC;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEqF;AAClC;AACV;AACP;AAC3B,4BAA4B,yDAAS;AAC5C;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA;AACA,yBAAyB,+CAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6CAAE;AACnB,iBAAiB,6CAAE;AACnB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,iBAAiB,6CAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,4DAAc;AAClE;AACA;AACA,mDAAmD,4DAAc;AACjE;AACA;AACA;AACA;AACA,aAAa,kDAAE;AACf,gBAAgB,mEAAW;AAC3B;AACA,SAAS;AACT,aAAa,kDAAE;AACf;AACA,SAAS;AACT;AACA;AACA,yBAAyB;AACzB;AACA;AACA,gC;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEwD;AAC4B;AACb;AACO;AAC9E;AACA,mBAAmB,yDAAS,CAAC,iDAAK;AAClC,SAAS,kDAAE;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,cAAc,sCAAE;AAChB;AACA;AACA;AACA,0BAA0B,kDAAE;AAC5B;AACA;AACA;AACA;AACA,8BAA8B,iEAAgB,WAAW,iEAAgB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kDAAE;AAC9B;AACA;AACA;AACA;AACA,4CAA4C,kDAAE,qBAAqB,kDAAE;AACrE;AACA;AACA;AACA;AACA;AACA,4BAA4B,kDAAE;AAC9B;AACA,mBAAmB,mEAAW;AAC9B;AACA;AACA,qCAAqC,kDAAE;AACvC;AACA,mDAAmD,kDAAE,qBAAqB,kDAAE;AAC5E,sBAAsB,2EAAmB;AACzC,kDAAkD,4DAAc;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,yDAAW;AACf,IAAI,yDAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wEAAe;AACnB;AACA,sBAAsB,wEAAe;AACrC;AACA;AACA;AACA;AACA,eAAe,iEAAgB,YAAY,iEAAgB;AAC3D,IAAI,sDAAQ;AACZ;AACA,IAAI,0DAAY;AAChB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iEAAgB,UAAU,iEAAgB;AACtE;AACA;AACA;AACA;AACA;AACA,kBAAkB,iEAAgB;AAClC;AACA;AACA;AACA;AACA;AACA,uBAAuB,iEAAgB;AACvC;AACA;AACA;AACA;AACA;AACA,uBAAuB,iEAAgB;AACvC;AACA;AACA;AACA,uBAAuB,iEAAgB;AACvC;AACA;AACA;AACA;AACA;AACA,SAAS,mEAAW,WAAW,kDAAE,+BAA+B,kDAAE,sBAAsB,kDAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iEAAgB;AACxC;AACA;AACA,QAAQ,yDAAW;AACnB,QAAQ,yDAAW;AACnB;AACA;AACA;AACA;AACA,gBAAgB,iEAAgB,WAAW,iEAAgB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iEAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yDAAW;AAC3B,gBAAgB,yDAAW;AAC3B;AACA,SAAS;AACT;AACA;AACA;AACO,0BAA0B,yDAAS;AAC1C;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,8BAA8B,yDAAS;AAC9C;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA,yBAAyB,kDAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8B;;;;;;;;;;;;ACjSA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwB;AACF;AACC;AACA;AACF;AACO;AACN;AACC;AACG;AAC1B,iC;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAEoE;AACpE;AACA;AACA;AACO,2BAA2B,yDAAS;AAC3C;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA;AACA;AACA,YAAY,6CAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAEoE;AAClC;AAC3B,iCAAiC,yDAAS;AACjD;AACA;AACA,qCAAqC,6CAAiB;AACtD;AACA;AACA,cAAc,6CAAE;AAChB;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,qC;;;;;;;;;;;;AChBA;AAAA;AAAO;AACP;AACA;AACA,qC;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACmJ;AACjH;AACkC;AACP;AACX;AACL;AACtC;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC;AAChC;AACP;AACO;AACP;AACA;AACO;AACP,SAAS,qDAAO;AAChB;AACA;AACA;AACA;AACO,wBAAwB,oDAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,sDAAQ,aAAa,6CAAE;AACpC;AACA;AACA;AACA;AACA,QAAQ,iEAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uDAAW,GAAG;AACvC,aAAa,sDAAQ,aAAa,6CAAE;AACpC,oBAAoB,uDAAW,YAAY;AAC3C;AACA,iCAAiC,6CAAE;AACnC;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0CAAW;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA,YAAY,yDAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,2DAAa;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA,YAAY,yDAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,8DAAmB;AAC5C;AACA;AACA;AACA,kCAAkC,qDAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,aAAa,wDAAU;AACvB,2CAA2C,WAAW;AACtD;AACA,QAAQ,8CAAY,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAY;AACpB;AACA,YAAY,6DAAe;AAC3B;AACA;AACA,YAAY,4DAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,6CAAE;AACf,yBAAyB,6CAAE;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAY;AACpB;AACA,yBAAyB,6CAAE;AAC3B;AACA;AACA,aAAa,6CAAE;AACf;AACA;AACA;AACA,gBAAgB,4DAAc;AAC9B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qDAAO;AAC3B,oBAAoB,yDAAW;AAC/B;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,6CAAE;AAC/B,aAAa,6CAAE;AACf;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,gJAAgJ;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,wDAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0DAAY;AACvC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,eAAe;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qDAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,sBAAsB;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B;AACA;AACA;AACA,qC;;;;;;;;;;;;ACrdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoD;AACZ;AACxC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACO;AACP;AACA,6CAA6C,uCAAuC,oBAAoB;AACxG,kBAAkB,kBAAkB;AACpC,KAAK,EAAE,GAAG;AACV;AACA;AACA;AACA;AACA,0BAA0B,oDAAS;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,IAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iDAAG;AAC3B;AACA,aAAa,wDAAU;AACvB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,sDAAQ;AACpB;AACA;AACA;AACA,oBAAoB,sDAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wDAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,KAAK,YAAY,IAAI;AACjE;AACA;AACA,YAAY,sDAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA,gC;;;;;;;;;;;;AChKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4B;AACA;AACL;AACK;AACC;AACL;AACK;AAC7B,iC;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAO;AACA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qC;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwD;AACX;AACZ;AAC1B;AACP;AACA,cAAc,6CAAE;AAChB;AACA;AACO;AACP,eAAe,2DAAa;AAC5B,sCAAsC;AACtC,KAAK;AACL;AACA,cAAc,6CAAE;AAChB;AACA;AACO;AACP,eAAe,4DAAc;AAC7B,cAAc,6CAAE;AAChB;AACA;AACO;AACP,eAAe,4DAAc;AAC7B;AACA,yBAAyB,0CAAW;AACpC;AACA;AACA;AACA,wBAAwB,6CAAE;AAC1B;AACA;AACA,sC;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAA6C;AAC7C;AACA,eAAe,2DAAa;AAC5B,kCAAkC,cAAc;AAChD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2DAAa;AACpC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iDAAG,GAAG;AACtC,+BAA+B,uBAAuB,8CAA8C,wBAAwB;AAC5H,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,iC;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AACtC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6B;AACN;AACA;AACF;AACrB,iC;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACtBA;AAAA;AAAA;AACO;AACP;AACA;AACA,kC;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyD;AAClD;AACP,SAAS,sDAAQ;AACjB;AACA;AACA;AACA;AACO;AACP,mCAAmC,sDAAQ;AAC3C;AACO;AACP;AACA;AACA,sBAAsB,sDAAQ;AAC9B,KAAK;AACL;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA,QAAQ,sDAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,QAAQ,sDAAQ;AAChB;AACA;AACA;AACA;AACA;AACA,QAAQ,yDAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yDAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,IAAI,yDAAW;AACf;AACA;AACA,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACO;AACP;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;AC5HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuB;AACC;AACC;AACA;AACH;AACtB,iC;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAC2D;AAC3D;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,SAAS,wDAAU;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,yDAAW;AACf;AACA;AACA;AACA;AACA,YAAY,sDAAQ;AACpB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACO;AACA;AACP,kC;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA,gC;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoE;AAC7D;AACA;AACP;AACA;AACA;AACO;AACP,WAAW,sDAAQ;AACnB;AACO;AACP,WAAW,sDAAQ;AACnB;AACO;AACP,QAAQ,sDAAQ;AAChB;AACA;AACA;AACA;AACA;AACA,QAAQ,yDAAW;AACnB;AACA;AACA;AACA;AACO;AACP,WAAW,sDAAQ,+FAA+F,qDAAO;AACzH;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqE;AACL;AACgB;AAC5B;AAC7C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0CAAE;AACxC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,iEAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4DAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,KAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2DAAa;AACzB;AACA;AACA,qBAAqB,yDAAW,OAAO,iEAAiB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,6BAA6B,oDAAY;AACzC;AACA;AACA;AACA,YAAY,4DAAY;AACxB,YAAY,yDAAW;AACvB;AACA,QAAQ,wDAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iEAAiB;AACxC;AACA,YAAY,0DAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sDAAQ,SAAS,0CAAE;AACxC;AACA;AACA,gBAAgB,4DAAY,GAAG,0CAAE;AACjC,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB,sDAAQ,SAAS,0CAAE;AACpC;AACA;AACA,YAAY,4DAAY,GAAG,0CAAE;AAC7B,SAAS;AACT;AACA,sBAAsB,0CAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qDAAO;AACnC;AACA;AACA;AACA,sBAAsB,wDAAU;AAChC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;ACnMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyB;AACF;AACA;AACE;AACD;AACxB,iC;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACH;AACjC;AACP,yBAAyB,+DAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,yBAAyB,+DAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAY;AACrC;AACA;AACA;AACA;AACA;AACA,gC;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACZ;AAC3C;AACO;AACP;AACA;AACA,QAAQ,4DAAc;AACtB;AACA;AACA;AACO;AACP;AACA;AACA;AACA,gBAAgB,0DAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA,yBAAyB,+DAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0F;AACqB;AACpE;AAC3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0CAAE;AACpB;AACA,YAAY,0CAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wDAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wDAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,0CAAE;AACT;AACA;AACA,SAAS,gEAAgB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yDAAW;AACxC;AACA;AACA,qBAAqB,sDAAQ,YAAY,0DAAU;AACnD;AACA,qBAAqB,0CAAE;AACvB;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA,uBAAuB,KAAK,iBAAiB,YAAY,MAAM,MAAM;AACrE,QAAQ,sDAAQ,aAAa,0CAAE;AAC/B,QAAQ,4DAAY,QAAQ,0CAAE,UAAU,0CAAE;AAC1C;AACA;AACA;AACA,QAAQ,yDAAS,OAAO,0CAAE,UAAU,0CAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0CAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,0CAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,0CAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,0CAAE;AACZ;AACA,qCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA,SAAS,sDAAQ;AACjB;AACA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC;AACA,gBAAgB,2DAAW;AAC3B,gBAAgB,4DAAY,GAAG,0CAAE,UAAU,0CAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,0CAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,YAAY,2DAAW;AACvB,YAAY,yDAAS,IAAI,0CAAE,UAAU,0CAAE;AACvC;AACA,KAAK;AACL;AACA;AACA,YAAY,2DAAW;AACvB,YAAY,4DAAY,IAAI,0CAAE,UAAU,0CAAE;AAC1C;AACA,KAAK;AACL;AACA;AACA,kBAAkB,0CAAE;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2DAAW;AACvB,YAAY,yDAAS,IAAI,0CAAE,OAAO,0CAAE;AACpC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,2DAAW;AACxB;AACA,QAAQ,2DAAW,IAAI,0CAAE,OAAO,0CAAE;AAClC,KAAK;AACL;AACA;AACA,QAAQ,sDAAQ;AAChB,cAAc,0CAAE;AAChB,wDAAwD,GAAG;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yDAAS,KAAK,0CAAE,UAAU,0CAAE;AAC5C;AACA,SAAS;AACT,uBAAuB,cAAc;AACrC;AACA;AACA;AACA,gBAAgB,2DAAW;AAC3B,gBAAgB,4DAAY,IAAI,0CAAE,UAAU,0CAAE;AAC9C;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA,qBAAqB,2DAAW;AAChC;AACA;AACA,gBAAgB,2DAAW,IAAI,0CAAE,UAAU,0CAAE;AAC7C;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB;AAChD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,YAAY,2DAAW;AACvB,YAAY,4DAAY,IAAI,0CAAE,UAAU,0CAAE;AAC1C;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,yDAAS,KAAK,0CAAE,UAAU,0CAAE;AAC5C;AACA,SAAS;AACT;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,YAAY,2DAAW;AACvB,YAAY,4DAAY,IAAI,0CAAE,UAAU,0CAAE;AAC1C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB,yDAAS,KAAK,0CAAE,UAAU,0CAAE;AAC5C;AACA,SAAS;AACT;AACA;AACA,qDAAqD,mBAAmB;AACxE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,6BAA6B,yDAAW;AACxC;AACA;AACA,gBAAgB,2DAAW;AAC3B,gBAAgB,4DAAY,IAAI,0CAAE,UAAU,0CAAE;AAC9C;AACA;AACA,gBAAgB,2DAAW;AAC3B,gBAAgB,yDAAS,GAAG,0CAAE,UAAU,0CAAE;AAC1C;AACA;AACA,SAAS;AACT,sBAAsB,0CAAE;AACxB,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB,uDAAiB;AACxC,yEAAyE,uDAAS;AAClF;AACA;AACA;AACA,SAAS,sDAAQ,WAAW,0DAAU;AACtC;AACA;AACA,UAAU,0CAAE;AACZ;AACA;AACA;AACA,IAAI,yDAAS,OAAO,0CAAE,UAAU,0CAAE;AAClC;AACO;AACP,QAAQ,sDAAQ;AAChB;AACA,YAAY,0DAAU,aAAa,0CAAE;AACrC;AACA;AACA,sBAAsB,qDAAO;AAC7B;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,oBAAoB,gEAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,uBAAuB,uDAAiB;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACO;AACP,QAAQ,0CAAE;AACV;AACA;AACA;AACA,uBAAuB,uDAAiB;AACxC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP,SAAS,sDAAQ;AACjB;AACA;AACA;AACA;AACO;AACP,SAAS,sDAAQ,YAAY,qDAAO;AACpC;AACA;AACA;AACA;AACO;AACP,OAAO,0CAAE;AACT;AACO;AACP,OAAO,0CAAE;AACT;AACA,iC;;;;;;;;;;;;AC3dA;AAAA;AAAiY;AACxS;AAC1E;AACf;AACA;AACA;AACA,eAAe,2DAA0B;AACzC;AACA,gBAAgB,wCAAe;AAC/B;AACA;AACA,cAAc,wCAAe;AAC7B;AACA,GAAG;AACH;AACA,eAAe,2DAA0B;AACzC;AACA,gBAAgB,wCAAe;AAC/B,MAAM,uEAAsC;AAC5C;AACA;AACA;AACA,MAAM,uEAAsC;AAC5C;AACA;AACA,qBAAqB,2DAA0B;AAC/C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,yBAAyB,4DAA2B;AACpD;AACA,gBAAgB,qDAAoB;AACpC;AACA;AACA,mBAAmB,wCAAe,uCAAuC,wCAAe;AACxF;AACA,aAAa;AACb;AACA,UAAU,sDAAqB,iCAAiC,oCAAoC;AACpG;AACA,SAAS;AACT;AACA;AACA,cAAc,wCAAe;AAC7B;AACA,GAAG;AACH;AACA,eAAe,2DAA0B;AACzC;AACA,gBAAgB,wCAAe;AAC/B,MAAM,uEAAsC;AAC5C;AACA;AACA;AACA,MAAM,uEAAsC;AAC5C;AACA;AACA,wBAAwB,mDAAkB;AAC1C,aAAa,wCAAe;AAC5B;AACA,iCAAiC,wCAAe;AAChD,aAAa;AACb;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,eAAe,wCAAe,uCAAuC,wCAAe;AACpF,qBAAqB,uDAA2C;AAChE,oBAAoB,wCAAe;AACnC,iBAAiB,iEAAgC;AACjD,SAAS;AACT;AACA;AACA,cAAc,wCAAe;AAC7B;AACA,GAAG;AACH;AACA,C;;;;;;;;;;;;AClFA;AAAA;AAAA;AAKe;;AAEe;;AAE9B,kBAAkB,+CAAS;AAC3B;AACA,WAAW,iDAAI;AACf;AACA;AACA;AACA,mCAAmC,wCAAiB;AACpD;AACA;AACA;;AAEA,uDAAS","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component, __, isComponent } from '../core/component';\nimport { isObject, removeEvent, addEvent, setImmediate } from '../util';\nimport { $$ } from '../vm/common';\nimport { TransitionStates, getDurationType } from '../core/transition';\nfunction loopOperateClass(el, isAddOperate, domClass) {\n    if (isComponent(el)) {\n        el[__].rootNodes.forEach(ce => loopOperateClass(ce, isAddOperate, domClass));\n    }\n    else if (isAddOperate) {\n        el.classList.add(domClass);\n    }\n    else {\n        el.classList.remove(domClass);\n    }\n}\nexport class ToggleClassComponent extends Component {\n    constructor(attrs) {\n      if (!attrs || !isObject(attrs.class)) {\n        throw new Error('<toggle-class> component require \"class\" attribute to be Object.');\n      }\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      const fn_2_a7743eb1190c = () => {\n        __vm_a7743eb1190c.domClass = attrs.class;\n      };\n      fn_2_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('class', fn_2_a7743eb1190c);\n      const fn_3_a7743eb1190c = () => {\n        __vm_a7743eb1190c.transition = !!attrs.transition;\n      };\n      fn_3_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('transition', fn_3_a7743eb1190c);\n      __vm_a7743eb1190c._t = null;\n      __vm_a7743eb1190c._i = -1;\n      __vm_a7743eb1190c[$$].__watch('class.**', () => {\n        __vm_a7743eb1190c.__updateIfNeed();\n      });\n    }\n    __render() {\n        const rr = super.__render();\n        this.__update(true);\n        return rr;\n    }\n    __beforeDestroy() {\n        this._t = null; // maybe unnecessary\n    }\n    __update(first) {\n        const el = this.transition ? this.__transitionDOM : null;\n        if (el && el.nodeType !== Node.ELEMENT_NODE) {\n            // ignore comment or text-node\n            return;\n        }\n        if (this.transition && !this._t) {\n            this._t = new Map();\n        }\n        const cs = this.domClass;\n        Object.keys(cs).forEach(k => {\n            const v = cs[k];\n            if (!this.transition) {\n                loopOperateClass(this, !!v, k);\n                return;\n            }\n            if (first) {\n                this._t.set(k, [\n                    v ? TransitionStates.ENTERED : TransitionStates.LEAVED,\n                    null // saved onEnd callback\n                ]);\n                if (v) {\n                    el.classList.add(k);\n                }\n                else {\n                    el.classList.remove(k);\n                }\n                return;\n            }\n            const t = this._t.get(k);\n            if (!t) {\n                // eslint-disable-next-line no-console\n                console.error('Unsupport <toogle-class> attribute. see https://todo');\n                return;\n            }\n            const s = t[0];\n            if ((v && s <= TransitionStates.ENTERED) || (!v && s >= TransitionStates.LEAVING)) {\n                return;\n            }\n            if (s === (v ? TransitionStates.LEAVING : TransitionStates.ENTERING)) {\n                el.classList.remove(k + (v ? '-leave-active' : '-enter-active'));\n                el.classList.remove(k + (v ? '-leave' : '-enter'));\n                removeEvent(el, 'transitionend', t[1]);\n                removeEvent(el, 'animationend', t[1]);\n                t[1] = null;\n                this.__notify('transition', v ? 'leave-cancelled' : 'enter-cancelled', k, el);\n            }\n            const classOfStart = k + (v ? '-enter' : '-leave');\n            const classOfActive = k + (v ? '-enter-active' : '-leave-active');\n            el.classList.add(classOfStart);\n            // force render by calling getComputedStyle\n            getDurationType(el);\n            el.classList.add(classOfActive);\n            const tsEndName = getDurationType(el);\n            if (!tsEndName) {\n                el.classList.remove(classOfStart);\n                el.classList.remove(classOfActive);\n                t[0] = v ? TransitionStates.ENTERED : TransitionStates.LEAVED;\n                if (v) {\n                    el.classList.add(k);\n                }\n                else {\n                    el.classList.remove(k);\n                }\n                return;\n            }\n            const onEnd = () => {\n                removeEvent(el, 'transitionend', onEnd);\n                removeEvent(el, 'animationend', onEnd);\n                el.classList.remove(classOfStart);\n                el.classList.remove(classOfActive);\n                t[1] = null;\n                t[0] = v ? TransitionStates.ENTERED : TransitionStates.LEAVED;\n                if (v) {\n                    el.classList.add(k);\n                }\n                else {\n                    el.classList.remove(k);\n                }\n                this.__notify('transition', v ? 'after-enter' : 'after-leave', k, el);\n            };\n            t[0] = v ? TransitionStates.ENTERING : TransitionStates.LEAVING;\n            t[1] = onEnd;\n            addEvent(el, tsEndName, onEnd);\n            this.__notify('transition', v ? 'before-enter' : 'before-leave', k, el);\n            setImmediate(() => {\n                this.__notify('transition', v ? 'enter' : 'leave', k, el);\n            });\n        });\n    }\n}\n//# sourceMappingURL=class.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component, __, isComponent } from '../core/component';\nimport { $$ } from '../vm/common';\nimport { attrs as createAttrs } from '../vm/index';\nimport { createFragment, isObject } from '../util';\nfunction createEl(component) {\n    const Clazz = component._r._component;\n    const pAttrs = component[__].passedAttrs;\n    const attrs = createAttrs({\n        [__]: {\n            context: component[__].context\n        }\n    });\n    for (const attrName in pAttrs) {\n        attrs[attrName] = pAttrs[attrName];\n    }\n    component._currentAttrs = attrs;\n    const el = new Clazz(attrs);\n    const parentStyleIds = component[__].compStylePid;\n    if (parentStyleIds) {\n        el.__addStylePid(parentStyleIds);\n    }\n    return el[$$].proxy;\n}\nexport class DynamicRenderComponent extends Component {\n    constructor(attrs) {\n      if (!isObject(attrs.render) || !isComponent(attrs.render._component)) {\n        throw new Error('<dynamic> component require \"render\" attribute to be object with \"_component\" property.');\n      }\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      __vm_a7743eb1190c._currentAttrs = null;\n      const fn_3_a7743eb1190c = () => {\n        __vm_a7743eb1190c.render = attrs.render;\n      };\n      fn_3_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('render', fn_3_a7743eb1190c);\n      attrs[$$].__watch('*', prop => {\n        __vm_a7743eb1190c._currentAttrs[prop[0]] = __vm_a7743eb1190c[__].passedAttrs[prop[0]];\n      });\n    }\n    get render() {\n        return this._r;\n    }\n    set render(v) {\n        if (this._r === v || this._r._component === v._component)\n            return;\n        this.__updateIfNeed();\n    }\n    __render() {\n        const el = createEl(this);\n        return el.__render();\n    }\n    __update() {\n        const roots = this[__].rootNodes;\n        const el = roots[0];\n        const fd = el.__firstDOM;\n        const pa = fd.parentNode;\n        const newEl = createEl(this);\n        roots[0] = newEl;\n        const nels = newEl.__render();\n        pa.insertBefore(nels.length > 1 ? createFragment(nels) : nels[0], fd);\n        el.__destroy();\n        newEl.__handleAfterRender();\n    }\n}\n//# sourceMappingURL=dynamic.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component, __, isComponent, ComponentStates, assertRenderResults } from '../core/component';\nimport { isViewModel, $$ } from '../vm/common';\nimport { attrs } from '../vm/index';\nimport { isString, isNumber, isArray, createFragment, insertAfter } from '../util';\nexport class ForEachComponent extends Component {\n    constructor(attrs, item, index, isLast) {\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      if (isViewModel(item)) {\n        __vm_a7743eb1190c.each = item;\n      } else {\n        __vm_a7743eb1190c._e = item;\n      }\n      __vm_a7743eb1190c.index = index;\n      __vm_a7743eb1190c.isFirst = index === 0;\n      __vm_a7743eb1190c.isLast = isLast;\n    }\n    get each() {\n        return this._e;\n    }\n    set each(v) {\n        this._e = v;\n    }\n    __render() {\n        return this[__].slots.default(this);\n    }\n}\nfunction createEl(item, i, isLast, itemRenderFn, context, cstyPid) {\n    const el = new ForEachComponent(attrs({\n        [__]: {\n            context,\n            slots: {\n                default: itemRenderFn\n            }\n        }\n    }), item, i, isLast);\n    if (cstyPid) {\n        el.__addStylePid(cstyPid);\n    }\n    return el[$$].proxy;\n}\nfunction appendRenderEach(item, i, isLast, itemRenderFn, roots, context, cstyPid) {\n    const el = createEl(item, i, isLast, itemRenderFn, context, cstyPid);\n    roots.push(el);\n    return el.__render();\n}\n// function _assertVm(item, i) {\n//   if (isObject(item) && !isInnerObj(item) && !(VM_ATTRS in item)) {\n//     throw new Error(`loop item [${i}] of <for> component must be ViewModel.`);\n//   }\n// }\nfunction _prepareKey(item, i, keyMap, keyName) {\n    const key = keyName === 'each' ? item : keyName(item);\n    if (keyMap.has(key)) {\n        // eslint-disable-next-line no-console\n        console.error(`loop items [${i}] and [${keyMap.get(key)}] of <for> component both have key '${key}', dulplicated key may cause update error.`);\n    }\n    keyMap.set(key, i);\n    return key;\n}\nfunction renderItems(items, itemRenderFn, roots, keys, keyName, context, cstyPid) {\n    const result = [];\n    const tmpKeyMap = new Map();\n    items.forEach((item, i) => {\n        // _assertVm(item, i);\n        if (keyName !== 'index') {\n            keys.push(_prepareKey(item, i, tmpKeyMap, keyName));\n        }\n        result.push(...appendRenderEach(item, i, i === items.length - 1, itemRenderFn, roots, context, cstyPid));\n    });\n    return result;\n}\nfunction loopAppend($parent, el) {\n    el[__].rootNodes.forEach(node => {\n        if (isComponent(node)) {\n            loopAppend($parent, node);\n        }\n        else {\n            $parent.appendChild(node);\n        }\n    });\n}\nfunction updateEl(el, i, items) {\n    if (el.isFirst !== (i === 0)) {\n        el.isFirst = i === 0;\n    }\n    if (el.isLast !== (i === items.length - 1)) {\n        el.isLast = (i === items.length - 1);\n    }\n    if (el.index !== i) {\n        el.index = i;\n    }\n    if (el.each !== items[i]) {\n        el.each = items[i];\n    }\n}\nfunction _parseIndexPath(p) {\n    return (isString(p) && p !== 'length' && /^\\d+$/.test(p)) ? Number(p) : p;\n}\nexport class ForComponent extends Component {\n    constructor(attrs) {\n      if (attrs.key && !/^(index|each(.[\\w\\d$_]+)*)$/.test(attrs.key)) {\n        throw new Error('Value of \"key\" attribute of <for> component is invalidate. See https://[todo]');\n      }\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      if (isViewModel(attrs.loop)) {\n        __vm_a7743eb1190c.loop = attrs.loop;\n      } else {\n        __vm_a7743eb1190c._l = attrs.loop;\n      }\n      attrs[$$].__watch('loop', () => {\n        __vm_a7743eb1190c.loop = attrs.loop;\n      });\n      const kn = attrs.key || 'index';\n      __vm_a7743eb1190c._keyName = kn;\n      __vm_a7743eb1190c._length = 0;\n      __vm_a7743eb1190c._keys = null;\n      __vm_a7743eb1190c._waitingUpdate = false;\n      if (kn !== 'index' && kn !== 'each') {\n        __vm_a7743eb1190c._keyName = new Function('each', `return ${ kn }`);\n        const propCount = kn.split('.').length + 1;\n        __vm_a7743eb1190c[$$].__watch('loop.*.' + kn.slice(5), propPath => {\n          if (propPath.length !== propCount || __vm_a7743eb1190c._waitingUpdate) {\n            return;\n          }\n          const items = __vm_a7743eb1190c.loop;\n          if (!isArray(items) || items.length === 0)\n            return;\n          const p = _parseIndexPath(propPath[1]);\n          if (!isNumber(p) || p >= items.length) {\n            return;\n          }\n          __vm_a7743eb1190c._keys[p] = __vm_a7743eb1190c._keyName(items[p]);\n        });\n      }\n      __vm_a7743eb1190c[$$].__watch('loop.*', propPath => {\n        if (__vm_a7743eb1190c[__].state !== ComponentStates.RENDERED || propPath.length !== 2 || __vm_a7743eb1190c._waitingUpdate) {\n          return;\n        }\n        const p = _parseIndexPath(propPath[1]);\n        if (p === 'length') {\n          __vm_a7743eb1190c._waitingUpdate = true;\n          __vm_a7743eb1190c.__updateIfNeed();\n        } else if (isNumber(p)) {\n          __vm_a7743eb1190c._updateItem(p);\n        }\n      });\n    }\n    get loop() {\n        return this._l;\n    }\n    set loop(v) {\n        // console.log('set loop');\n        this._l = v;\n        this._waitingUpdate = true;\n        this.__updateIfNeed();\n    }\n    __render() {\n        var _a;\n        const roots = this[__].rootNodes;\n        const itemRenderFn = (_a = this[__].slots) === null || _a === void 0 ? void 0 : _a.default;\n        if (!itemRenderFn) {\n            roots.push(document.createComment('empty'));\n            return roots;\n        }\n        const items = this.loop;\n        const keyName = this._keyName;\n        if (keyName !== 'index')\n            this._keys = [];\n        if (!isArray(items) || items.length === 0) {\n            roots.push(document.createComment('empty'));\n            return roots;\n        }\n        this._length = items.length;\n        return renderItems(items, itemRenderFn, roots, this._keys, keyName, this[__].context, this[__].compStylePid);\n    }\n    _updateItem(index) {\n        var _a;\n        const items = this.loop;\n        const roots = this[__].rootNodes;\n        if (!isArray(items) || index >= roots.length)\n            return;\n        const keys = this._keys;\n        const item = items[index];\n        const oldEl = roots[index];\n        if (oldEl.each === item) {\n            return;\n        }\n        const itemRenderFn = (_a = this[__].slots) === null || _a === void 0 ? void 0 : _a.default;\n        if (!itemRenderFn)\n            return;\n        // console.log('update item:', index);\n        const keyName = this._keyName;\n        if (keyName !== 'index') {\n            const newKey = keyName === 'each' ? item : keyName(item);\n            const oldKey = keys[index];\n            if (newKey !== oldKey) {\n                const $fd = oldEl.__firstDOM;\n                const newEl = createEl(item, index, oldEl.isLast, itemRenderFn, this[__].context, this[__].compStylePid);\n                const rr = assertRenderResults(newEl.__render());\n                $fd.parentNode.insertBefore(rr.length > 1 ? createFragment(rr) : rr[0], $fd);\n                oldEl.__destroy();\n                roots[index] = newEl;\n                keys[index] = newKey;\n                newEl.__handleAfterRender();\n                // console.log('update item render:', index);\n            }\n            else {\n                oldEl.each = item;\n            }\n        }\n        else {\n            oldEl.each = item;\n        }\n    }\n    __update() {\n        var _a;\n        this._waitingUpdate = false;\n        // console.log('for update');\n        const itemRenderFn = (_a = this[__].slots) === null || _a === void 0 ? void 0 : _a.default;\n        if (!itemRenderFn)\n            return;\n        const newItems = isArray(this.loop) ? this.loop : [];\n        const roots = this[__].rootNodes;\n        const nl = newItems.length;\n        const ol = this._length;\n        // nothing changed, return directly.\n        if (nl === 0 && ol === 0)\n            return;\n        const keyName = this._keyName;\n        // if new length equal 0, clear & render comment.\n        if (nl === 0 && ol > 0) {\n            const fd = roots[0].__firstDOM;\n            const $cmt = document.createComment('empty');\n            fd.parentNode.insertBefore($cmt, fd);\n            for (let i = 0; i < ol; i++) {\n                roots[i].__destroy();\n            }\n            roots.length = 1;\n            roots[0] = $cmt;\n            if (keyName !== 'index') {\n                this._keys.length = 0;\n            }\n            this._length = 0;\n            return;\n        }\n        this._length = nl;\n        const ctx = this[__].context;\n        const cstyPid = this[__].compStylePid;\n        const firstEl = roots[0]; // if ol === 0, firstEl is comment, else is component\n        const $parent = (ol === 0 ? firstEl : firstEl.__firstDOM).parentNode;\n        if (keyName === 'index') {\n            let $f = null;\n            if (ol === 0)\n                roots.length = 0;\n            for (let i = 0; i < nl; i++) {\n                if (i < ol) {\n                    updateEl(roots[i], i, newItems);\n                }\n                else {\n                    if (!$f)\n                        $f = createFragment();\n                    appendRenderEach(newItems[i], i, i === nl - 1, itemRenderFn, roots, ctx, cstyPid).forEach(el => {\n                        $f.appendChild(el);\n                    });\n                }\n            }\n            if ($f) {\n                const $le = ol === 0 ? firstEl : roots[ol - 1].__lastDOM;\n                insertAfter($parent, $f, $le);\n                for (let i = ol; i < nl; i++) {\n                    roots[i].__handleAfterRender();\n                }\n            }\n            if (ol === 0) {\n                $parent.removeChild(firstEl);\n            }\n            if (nl >= ol)\n                return;\n            for (let i = nl; i < ol; i++) {\n                roots[i].__destroy();\n            }\n            roots.splice(nl);\n            return;\n        }\n        const oldKeys = this._keys;\n        if (ol === 0) {\n            roots.length = 0;\n            const rs = renderItems(newItems, itemRenderFn, roots, oldKeys, keyName, this[__].context, this[__].compStylePid);\n            insertAfter($parent, createFragment(rs), firstEl);\n            $parent.removeChild(firstEl);\n            roots.forEach(el => el.__handleAfterRender());\n            return;\n        }\n        const oldKeyMap = new Map();\n        oldKeys.forEach((k, i) => {\n            oldKeyMap.set(k, i);\n        });\n        const newKeys = [];\n        const newKeyMap = new Map();\n        newItems.forEach((item, i) => {\n            // _assertVm(item, i);\n            newKeys.push(_prepareKey(item, i, newKeyMap, keyName));\n        });\n        let oi = 0;\n        let ni = 0;\n        let $lastS = null;\n        const newRoots = [];\n        const oldTags = new Uint8Array(ol);\n        while (oi < ol || ni < nl) {\n            while (oi < ol) {\n                if (oldTags[oi] !== 0) {\n                    oi++;\n                }\n                else if (newKeyMap.has(oldKeys[oi]) && newKeyMap.get(oldKeys[oi]) >= ni) {\n                    if (oi === ol - 1) {\n                        $lastS = roots[oi].__lastDOM.nextSibling;\n                    }\n                    break;\n                }\n                else {\n                    if (oi === ol - 1) {\n                        $lastS = roots[oi].__lastDOM.nextSibling;\n                    }\n                    roots[oi].__destroy();\n                    oi++;\n                }\n            }\n            if (oi >= ol) {\n                let $f = null;\n                const cei = newRoots.length;\n                for (; ni < nl; ni++) {\n                    const el = createEl(newItems[ni], ni, ni === nl - 1, itemRenderFn, ctx, cstyPid);\n                    if (!$f)\n                        $f = createFragment();\n                    el.__render().forEach($n => $f.appendChild($n));\n                    newRoots.push(el);\n                }\n                if ($f) {\n                    if ($lastS) {\n                        $parent.insertBefore($f, $lastS);\n                    }\n                    else {\n                        $parent.appendChild($f);\n                    }\n                    for (let i = cei; i < newRoots.length; i++) {\n                        newRoots[i].__handleAfterRender();\n                    }\n                }\n                break;\n            }\n            const oldKey = oldKeys[oi];\n            let $f = null;\n            let $nes = null;\n            while (ni < nl) {\n                const newKey = newKeys[ni];\n                if (newKey === oldKey)\n                    break;\n                let reuseEl = null;\n                if (oldKeyMap.has(newKey)) {\n                    const oldIdx = oldKeyMap.get(newKey);\n                    if (oldIdx > oi && oldTags[oldIdx] === 0) {\n                        reuseEl = roots[oldIdx];\n                        oldTags[oldIdx] = 1;\n                    }\n                }\n                if (!$f)\n                    $f = createFragment();\n                if (!reuseEl) {\n                    reuseEl = createEl(newItems[ni], ni, ni === nl - 1, itemRenderFn, ctx, cstyPid);\n                    reuseEl.__render().forEach($n => $f.appendChild($n));\n                    if (!$nes)\n                        $nes = [];\n                    $nes.push(reuseEl);\n                }\n                else {\n                    loopAppend($f, reuseEl);\n                    updateEl(reuseEl, ni, newItems);\n                }\n                newRoots.push(reuseEl);\n                ni++;\n            }\n            if (ni >= nl) {\n                throw new Error('unimpossible?!');\n            }\n            const el = roots[oi];\n            $f && $parent.insertBefore($f, el.__firstDOM);\n            $nes && $nes.forEach(el => el.__handleAfterRender());\n            updateEl(el, ni, newItems);\n            newRoots.push(el);\n            oi++;\n            ni++;\n        }\n        this[__].rootNodes = newRoots;\n        this._keys = newKeys;\n    }\n}\n//# sourceMappingURL=for.js.map","import { $$ } from '../vm/common';\nimport { vm } from '../vm/index';\nimport { ToggleClassComponent } from './class';\nexport class HideComponent extends ToggleClassComponent {\n    constructor(attrs) {\n        attrs.class = vm({\n            'jg-hide': attrs.test\n        });\n        attrs[$$].__watch('test', () => {\n            if (attrs.class['jg-hide'] !== attrs.test) {\n                attrs.class['jg-hide'] = attrs.test;\n            }\n        });\n        super(attrs);\n    }\n}\n//# sourceMappingURL=hide.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component, __ } from '../core/component';\nimport { createFragment } from '../util';\nfunction renderHtml(content) {\n    const $d = document.createElement('div');\n    $d.innerHTML = content || '';\n    let cn = $d.childNodes;\n    if (cn.length === 0) {\n        cn = [document.createComment('empty')];\n    }\n    else {\n        cn = [].slice.call(cn); // convert NodeList to Array.\n    }\n    return cn;\n}\nexport class BindHtmlComponent extends Component {\n    constructor(attrs) {\n      if (!('content' in attrs))\n        throw new Error('<bind-html/> require \"content\" attribute');\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      const fn_2_a7743eb1190c = () => {\n        __vm_a7743eb1190c.content = attrs.content;\n      };\n      fn_2_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('content', fn_2_a7743eb1190c);\n    }\n    get content() {\n        return this._c;\n    }\n    set content(v) {\n        if (this._c === v)\n            return;\n        this._c = v;\n        this.__updateIfNeed();\n    }\n    __render() {\n        return (this[__].rootNodes = renderHtml(this._c));\n    }\n    __update() {\n        const roots = this[__].rootNodes;\n        const oldFirstEl = roots[0];\n        const $p = oldFirstEl.parentNode;\n        const newEls = renderHtml(this._c);\n        $p.insertBefore(newEls.length > 1 ? createFragment(newEls) : newEls[0], oldFirstEl);\n        roots.forEach(oldEl => $p.removeChild(oldEl));\n        this[__].rootNodes = newEls;\n    }\n}\n//# sourceMappingURL=html.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component, __, isComponent } from '../core/component';\nimport { i18n as i18nService } from '../core/i18n';\nimport { createFragment } from '../util';\nimport { $$ } from '../vm/common';\nexport class I18nComponent extends Component {\n    constructor(attrs, renderKey, renderVms) {\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      __vm_a7743eb1190c._key = renderKey;\n      __vm_a7743eb1190c._vms = renderVms;\n      __vm_a7743eb1190c.__i18nWatch(__vm_a7743eb1190c._onchange);\n    }\n    __render() {\n        const renderFn = i18nService.__r(this._key, 'components');\n        return renderFn(this, ...this._vms);\n    }\n    _onchange() {\n        this.__updateIfNeed();\n    }\n    __update() {\n        if (this[$$].__related) {\n            this[$$].__related.forEach((hooks, origin) => {\n                hooks.forEach(hook => {\n                    origin.__unwatch(hook.prop, hook.handler);\n                });\n            });\n            this[$$].__related.clear();\n        }\n        let $el = this.__lastDOM;\n        const $parentEl = $el.parentNode;\n        $el = $el.nextSibling;\n        /*\n         * 当前实现下，HANDLE_BEFORE_DESTROY 正好可以销毁子组件/子元素。\n         */\n        this.__handleBeforeDestroy(true);\n        /*\n         * 将新的元素替换到原来的旧的元素的位置。\n         */\n        const els = this.__render();\n        if ($el) {\n            $parentEl.insertBefore(els.length > 1 ? createFragment(els) : els[0], $el);\n        }\n        else {\n            $parentEl.appendChild(els.length > 1 ? createFragment(els) : els[0]);\n        }\n        /**\n         * 对切换后渲染的组件触发 AFTER_RENDER 生命周期。\n         */\n        this[__].rootNodes.forEach(n => {\n            if (isComponent(n))\n                n.__handleAfterRender();\n        });\n        this[__].nonRootCompNodes.forEach(n => {\n            n.__handleAfterRender();\n        });\n    }\n    __beforeDestroy() {\n        this._vms = null; // unlink vms, maybe not necessary\n    }\n}\n//# sourceMappingURL=i18n.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { attrs, $$ } from '../vm';\nimport { __, isComponent, Component, assertRenderResults } from '../core/component';\nimport { TransitionStates, getDurationType } from '../core/transition';\nimport { createFragment, addEvent, setImmediate, removeEvent } from '../util';\nfunction createEl(renderFn, context, parentStyleIds) {\n    const el = new Component(attrs({\n        [__]: {\n            context,\n            slots: {\n                default: renderFn\n            }\n        }\n    }));\n    if (parentStyleIds) {\n        el.__addStylePid(parentStyleIds);\n    }\n    return el[$$].proxy;\n}\nfunction renderSwitch(component) {\n    const value = component._currentValue;\n    const acs = component[__].slots;\n    if (component.transition && acs) {\n        component._transitionMap = new Map();\n        for (const k in acs) {\n            component._transitionMap.set(k, [\n                k === value ? TransitionStates.ENTERED : TransitionStates.LEAVED,\n                null // element\n            ]);\n        }\n        component._previousValue = value;\n        component._onEndHandler = component.onTransitionEnd.bind(component);\n    }\n    const renderFn = acs ? acs[value] : null;\n    const roots = component[__].rootNodes;\n    if (!renderFn) {\n        roots.push(document.createComment('empty'));\n        return roots;\n    }\n    const el = createEl(renderFn, component[__].context, component[__].compStylePid);\n    roots.push(el);\n    return el.__render();\n}\nfunction doUpdate(component) {\n    var _a;\n    const roots = component[__].rootNodes;\n    const el = roots[0];\n    const isComp = isComponent(el);\n    const firstDOM = (isComp ? el.__firstDOM : el);\n    const parentDOM = (isComp ? firstDOM : el).parentNode;\n    const renderFn = (_a = component[__].slots) === null || _a === void 0 ? void 0 : _a[component._currentValue];\n    if (renderFn) {\n        const newEl = createEl(renderFn, component[__].context, component[__].compStylePid);\n        const nodes = assertRenderResults(newEl.__render());\n        parentDOM.insertBefore(nodes.length > 1 ? createFragment(nodes) : nodes[0], firstDOM);\n        roots[0] = newEl;\n    }\n    else {\n        roots[0] = document.createComment('empty');\n        parentDOM.insertBefore(roots[0], firstDOM);\n    }\n    if (isComp) {\n        el.__destroy();\n    }\n    else {\n        parentDOM.removeChild(firstDOM);\n    }\n    renderFn && roots[0].__handleAfterRender();\n    component.__notify('branch-switched', component._branch);\n}\nfunction cancelTs(t, tn, e, component) {\n    const el = t[1];\n    if (el.nodeType !== Node.ELEMENT_NODE) {\n        return;\n    }\n    const onEnd = component._onEndHandler;\n    el.classList.remove(tn + (e ? '-enter' : '-leave'));\n    el.classList.remove(tn + (e ? '-enter-active' : '-leave-active'));\n    removeEvent(el, 'transitionend', onEnd);\n    removeEvent(el, 'animationend', onEnd);\n    component.__notify('transition', e ? 'enter-cancelled' : 'leave-cancelled', el);\n}\nfunction startTs(t, tn, e, component) {\n    const el = t[1];\n    const onEnd = component._onEndHandler;\n    if (el.nodeType !== Node.ELEMENT_NODE) {\n        onEnd();\n        return;\n    }\n    const classOfStart = tn + (e ? '-enter' : '-leave');\n    const classOfActive = tn + (e ? '-enter-active' : '-leave-active');\n    el.classList.add(classOfStart);\n    // force render by calling getComputedStyle\n    getDurationType(el);\n    el.classList.add(classOfActive);\n    const tsEndName = getDurationType(el);\n    if (!tsEndName) {\n        onEnd();\n        return;\n    }\n    t[0] = e ? TransitionStates.ENTERING : TransitionStates.LEAVING;\n    addEvent(el, tsEndName, onEnd);\n    component.__notify('transition', e ? 'before-enter' : 'before-leave', el);\n    setImmediate(() => {\n        component.__notify('transition', e ? 'enter' : 'leave', el);\n    });\n}\nfunction updateSwitchWithTransition(component) {\n    const value = component._currentValue;\n    const pv = component._previousValue;\n    const tn = component.transition;\n    let pt = component._transitionMap.get(pv);\n    if (!pt) {\n        pt = [\n            pv === 'else' ? TransitionStates.LEAVED : TransitionStates.ENTERED,\n            null // element\n        ];\n        component._transitionMap.set(pv, pt);\n    }\n    // debugger;\n    if (pt[0] === TransitionStates.ENTERING) {\n        if (value === pv)\n            return;\n        cancelTs(pt, tn, true, component);\n        startTs(pt, tn, false, component);\n    }\n    else if (pt[0] === TransitionStates.LEAVING) {\n        if (value !== pv)\n            return;\n        cancelTs(pt, tn, false, component);\n        startTs(pt, tn, true, component);\n    }\n    else if (pt[0] === TransitionStates.ENTERED) {\n        pt[1] = component.__transitionDOM;\n        startTs(pt, tn, false, component);\n    }\n    else if (pt[0] === TransitionStates.LEAVED) {\n        pt[1] = component.__transitionDOM;\n        startTs(pt, tn, true, component);\n    }\n}\nfunction updateSwitch(component) {\n    if (!isComponent(component[__].rootNodes[0]) && (!component[__].slots || !component[__].slots[component._currentValue])) {\n        return;\n    }\n    if (component._transitionMap) {\n        updateSwitchWithTransition(component);\n        return;\n    }\n    doUpdate(component);\n}\nfunction updateSwitchOnTransitionEnd(component) {\n    // console.log('on end')\n    const value = component._currentValue;\n    const pv = component._previousValue;\n    const tn = component.transition;\n    const pt = component._transitionMap.get(pv);\n    const e = pt[0] === TransitionStates.ENTERING;\n    const el = pt[1];\n    if (el.nodeType === Node.ELEMENT_NODE) {\n        removeEvent(el, 'transitionend', component._onEndHandler);\n        removeEvent(el, 'animationend', component._onEndHandler);\n        el.classList.remove(tn + (e ? '-enter' : '-leave'));\n        el.classList.remove(tn + (e ? '-enter-active' : '-leave-active'));\n        component.__notify('transition', e ? 'after-enter' : 'after-leave');\n    }\n    pt[0] = e ? TransitionStates.ENTERED : TransitionStates.LEAVED;\n    if (e)\n        return;\n    doUpdate(component);\n    component._previousValue = value;\n    const ct = component._transitionMap.get(value);\n    if (!ct) {\n        return;\n    }\n    const fd = component.__transitionDOM;\n    if (fd.nodeType !== Node.ELEMENT_NODE) {\n        ct[0] = TransitionStates.ENTERED;\n        return;\n    }\n    ct[1] = fd;\n    startTs(ct, tn, true, component);\n}\nfunction destroySwitch(component) {\n    if (component._transitionMap) {\n        component._transitionMap.forEach(ts => {\n            const el = ts[1];\n            if (el) {\n                removeEvent(el, 'transitionend', component._onEndHandler);\n                removeEvent(el, 'animationend', component._onEndHandler);\n            }\n        });\n        component._transitionMap = null;\n    }\n}\nexport class IfComponent extends Component {\n    constructor(attrs) {\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      __vm_a7743eb1190c._currentValue = 'default';\n      __vm_a7743eb1190c._onEndHandler = null;\n      __vm_a7743eb1190c._transitionMap = null;\n      __vm_a7743eb1190c._previousValue = null;\n      const fn_5_a7743eb1190c = () => {\n        __vm_a7743eb1190c.expect = attrs.expect;\n      };\n      fn_5_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('expect', fn_5_a7743eb1190c);\n      const fn_6_a7743eb1190c = () => {\n        __vm_a7743eb1190c.transition = attrs.transition;\n      };\n      fn_6_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('transition', fn_6_a7743eb1190c);\n    }\n    get expect() {\n        return this._currentValue === 'default';\n    }\n    set expect(value) {\n        const v = value ? 'default' : 'else';\n        if (this._currentValue === v)\n            return;\n        this._currentValue = v;\n        this.__updateIfNeed();\n    }\n    get _branch() {\n        return this.expect;\n    }\n    onTransitionEnd() {\n        updateSwitchOnTransitionEnd(this);\n    }\n    __render() {\n        return renderSwitch(this);\n    }\n    __update() {\n        updateSwitch(this);\n    }\n    __beforeDestroy() {\n        destroySwitch(this);\n    }\n}\nexport class SwitchComponent extends Component {\n    constructor(attrs) {\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      __vm_a7743eb1190c._onEndHandler = null;\n      __vm_a7743eb1190c._transitionMap = null;\n      __vm_a7743eb1190c._previousValue = null;\n      __vm_a7743eb1190c._currentValue = null;\n      const fn_5_a7743eb1190c = () => {\n        __vm_a7743eb1190c.test = attrs.test;\n      };\n      fn_5_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('test', fn_5_a7743eb1190c);\n      const fn_6_a7743eb1190c = () => {\n        __vm_a7743eb1190c.transition = attrs.transition;\n      };\n      fn_6_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('transition', fn_6_a7743eb1190c);\n    }\n    get test() {\n        return this._currentValue;\n    }\n    set test(v) {\n        const acs = this[__].slots;\n        if (!acs || !(v in acs)) {\n            v = 'default';\n        }\n        if (this._currentValue === v)\n            return;\n        this._currentValue = v;\n        this.__updateIfNeed();\n    }\n    get _branch() {\n        return this.test;\n    }\n    onTransitionEnd() {\n        updateSwitchOnTransitionEnd(this);\n    }\n    __render() {\n        return renderSwitch(this);\n    }\n    __update() {\n        updateSwitch(this);\n    }\n    __beforeDestroy() {\n        destroySwitch(this);\n    }\n}\n//# sourceMappingURL=if.js.map","export * from './class';\nexport * from './for';\nexport * from './hide';\nexport * from './html';\nexport * from './if';\nexport * from './parameter';\nexport * from './log';\nexport * from './i18n';\nexport * from './dynamic';\n//# sourceMappingURL=index.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component } from '../core/component';\n/**\n * This component is only for development purpose\n */\nexport class LogComponent extends Component {\n    constructor(attrs) {\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      const fn_1_a7743eb1190c = () => {\n        __vm_a7743eb1190c.msg = attrs.msg;\n      };\n      fn_1_a7743eb1190c();\n      attrs[__$$_a7743eb1190c].__watch('msg', fn_1_a7743eb1190c);\n    }\n    set msg(v) {\n        // eslint-disable-next-line no-console\n        console.log(v);\n        this._msg = v;\n    }\n    get msg() {\n        return this._msg;\n    }\n    __render() {\n        return [document.createComment('log placeholder')];\n    }\n}\n//# sourceMappingURL=log.js.map","import {\n  $$ as __$$_a7743eb1190c\n} from '../vm/common';import { Component } from '../core/component';\nimport { $$ } from '../vm/common';\nexport class ParameterComponent extends Component {\n    constructor(attrs, params) {\n      super(attrs);\n      const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n      params.forEach(p => {\n        __vm_a7743eb1190c[p] = attrs[p];\n        attrs[$$].__watch(p, () => {\n          __vm_a7743eb1190c[p] = attrs[p];\n        });\n      });\n    }\n}\n//# sourceMappingURL=parameter.js.map","export function bootstrap(ComponentClazz, dom, attrs) {\n    ComponentClazz.create(attrs).__renderToDOM(dom, dom !== document.body);\n}\n//# sourceMappingURL=bootstrap.js.map","var _a;\nimport { isObject, isArray, arrayRemove, registerEvent, isFunction, clearImmediate, setImmediate, appendChildren, replaceChildren } from '../util';\nimport { $$ } from '../vm/common';\nimport { createComponent, attrs as createAttrs } from '../vm/proxy';\nimport { Messenger, MESSENGER_LISTENERS } from './messenger';\nimport { manager as StyleManager } from './style';\nimport { i18n as i18nService } from './i18n';\nexport var ComponentStates;\n(function (ComponentStates) {\n    ComponentStates[ComponentStates[\"INITIALIZE\"] = 0] = \"INITIALIZE\";\n    ComponentStates[ComponentStates[\"RENDERED\"] = 1] = \"RENDERED\";\n    ComponentStates[ComponentStates[\"WILLDESTROY\"] = 2] = \"WILLDESTROY\";\n    ComponentStates[ComponentStates[\"DESTROIED\"] = 3] = \"DESTROIED\";\n})(ComponentStates || (ComponentStates = {}));\nexport var ContextStates;\n(function (ContextStates) {\n    ContextStates[ContextStates[\"UNTOUCH\"] = 0] = \"UNTOUCH\";\n    ContextStates[ContextStates[\"TOUCHED\"] = 1] = \"TOUCHED\";\n    ContextStates[ContextStates[\"UNTOUCH_FREEZED\"] = 2] = \"UNTOUCH_FREEZED\";\n    ContextStates[ContextStates[\"TOUCHED_FREEZED\"] = 3] = \"TOUCHED_FREEZED\";\n})(ContextStates || (ContextStates = {}));\nexport const __ = Symbol('__');\n/** Bellow is utility functions **/\nexport function isComponent(v) {\n    return __ in v;\n}\nexport function assertRenderResults(renderResults) {\n    if (!isArray(renderResults) || renderResults.length === 0) {\n        throw new Error('Render results of component is empty');\n    }\n    return renderResults;\n}\nexport class Component extends Messenger {\n    /**\n     * ATTENTION!!!\n     *\n     * Don't use constructor directly, use static factory method `create(attrs)` instead.\n     */\n    constructor(attrs) {\n        if (!isObject(attrs) || !($$ in attrs)) {\n            throw new Error('Attributes passed to Component constructor must be ViewModel. See https://[todo]');\n        }\n        const compilerAttrs = attrs[__] || {};\n        super(compilerAttrs.listeners);\n        createComponent(this);\n        this[__] = {\n            passedAttrs: attrs,\n            context: compilerAttrs.context,\n            contextState: ContextStates.UNTOUCH,\n            slots: compilerAttrs.slots,\n            state: ComponentStates.INITIALIZE,\n            rootNodes: [],\n            nonRootCompNodes: [],\n            refs: null,\n            relatedRefs: null,\n            updateNextMap: null,\n            compStylePid: null,\n            deregDOM: null,\n            deregI18N: null\n        };\n    }\n    static create(attrs) {\n        attrs = attrs || createAttrs({});\n        if (!isObject(attrs) || !($$ in attrs)) {\n            attrs = createAttrs(attrs || {});\n        }\n        return (new this(attrs))[$$].proxy;\n    }\n    /**\n     * Helper function to add i18n LOCALE_CHANGE listener.\n     * Return deregister function which will remove event listener.\n     * If you do dot call deregister function, it will be auto called when component is destroied.\n     * @param {Function} listener listener bind to LOCALE_CHANGE event.\n     * @param {Boolean} immediate call listener immediately, useful for component property initialize\n     * @returns {Function} deregister function to remove listener\n     */\n    __i18nWatch(listener, immediate) {\n        let deregs = this[__].deregI18N;\n        if (!deregs) {\n            this[__].deregI18N = deregs = [];\n        }\n        const unwatcher = i18nService.watch(() => {\n            // bind component to listener's function context.\n            listener.call(this);\n        }, immediate);\n        const deregister = () => {\n            unwatcher();\n            arrayRemove(deregs, deregister);\n        };\n        deregs.push(deregister);\n        return deregister;\n    }\n    /**\n     * Helper function to add dom event listener.\n     * Return deregister function which will remove event listener.\n     * If you do dot call deregister function, it will be auto called when component is destroied.\n     * @param {Boolean|Object} capture\n     * @returns {Function} deregister function to remove listener\n     */\n    __domAddListener($el, eventName, listener, capture) {\n        let deregs = this[__].deregDOM;\n        if (!deregs) {\n            this[__].deregDOM = deregs = [];\n        }\n        const lisDeregister = registerEvent($el, eventName, $event => {\n            // bind component to listener's function context.\n            listener.call(this, $event);\n        }, capture);\n        const deregister = () => {\n            lisDeregister();\n            arrayRemove(deregs, deregister);\n        };\n        deregs.push(deregister);\n        return deregister;\n    }\n    __domPassListeners(ignoredEventNames, targetEl) {\n        if (this[__].state !== ComponentStates.RENDERED) {\n            throw new Error('domPassListeners must be applied to component which is rendered.');\n        }\n        const lis = this[MESSENGER_LISTENERS];\n        if (!lis || lis.size === 0) {\n            return;\n        }\n        if (ignoredEventNames && !isArray(ignoredEventNames)) {\n            targetEl = ignoredEventNames;\n            ignoredEventNames = null;\n        }\n        else if (!targetEl) {\n            targetEl = this.__firstDOM;\n        }\n        if (targetEl.nodeType !== Node.ELEMENT_NODE) {\n            return;\n        }\n        lis.forEach((handlers, eventName) => {\n            if (ignoredEventNames && ignoredEventNames.indexOf(eventName) >= 0) {\n                return;\n            }\n            handlers.forEach(handler => {\n                const { opts, fn } = handler;\n                this.__domAddListener(targetEl, eventName, (handler.opts && (handler.opts.stop || handler.opts.prevent)\n                    ? function ($evt) {\n                        opts.stop && $evt.stopPropagation();\n                        opts.prevent && $evt.preventDefault();\n                        // this.domAddListener 会将 this 变成当前组件。所以需要显式地使用 fn.call(this) 来传递组件。\n                        fn.call(this, $evt);\n                    } : fn), handler.opts);\n            });\n        });\n    }\n    /**\n     * Get rendered DOM Node which should be apply transition.\n     *\n     * 返回在 transition 动画时应该被应用到的 DOM 节点。\n     */\n    get __transitionDOM() {\n        const el = this[__].rootNodes[0];\n        return isComponent(el) ? el.__transitionDOM : el;\n    }\n    /**\n     * Get first rendered DOM Node after Component is rendered.\n     *\n     * 按从左往右从上到下的深度遍历，找到的第一个 DOM 节点。\n     */\n    get __firstDOM() {\n        const el = this[__].rootNodes[0];\n        return isComponent(el) ? el.__firstDOM : el;\n    }\n    /**\n     * Get last rendered DOM Node after Component is rendered.\n     *\n     * 按从右往左，从上到下的深度遍历，找到的第一个 DOM 节点（相对于从左到右的顺序是最后一个 DOM 节点）。\n     */\n    get __lastDOM() {\n        const rns = this[__].rootNodes;\n        const el = rns[rns.length - 1];\n        return isComponent(el) ? el.__lastDOM : el;\n    }\n    /**\n     * 对模板进行渲染的函数，也可能是渲染编译器传递进来的默认渲染函数。\n     * 如果子组件需要进行自定义的渲染行为，需要重载该函数。\n     */\n    __render() {\n        const Clazz = this.constructor;\n        let renderFn = Clazz.template; // jinge-loader 已经将 string 转成了 RenderFn，此处强制转换类型以绕开 typescript.\n        if (!renderFn && this[__].slots) {\n            renderFn = this[__].slots.default;\n        }\n        if (!isFunction(renderFn)) {\n            throw new Error(`Template of ${Clazz.name} not found. Forget static getter \"template\"?`);\n        }\n        StyleManager.add(Clazz.style); // jinge-loader 已经将 string 转成了 ComponentStyle，此处强制转换类型以绕开 typescript.\n        return renderFn(this);\n    }\n    /**\n     * Render Component to HTMLElement.\n     * This method is usually used to render the entire application.\n     * See the `bootstrap()` function in `./bootstrap.js`.\n     *\n     * By default, the target element will be replaced(that means deleted).\n     * But you can disable it by pass `replaceMode`=`false`,\n     * which means component append to target as it's children.\n     */\n    __renderToDOM(targetEl, replaceMode = true) {\n        if (this[__].state !== ComponentStates.INITIALIZE) {\n            throw new Error('component has already been rendered.');\n        }\n        const rr = assertRenderResults(this.__render());\n        StyleManager.attch();\n        if (replaceMode) {\n            replaceChildren(targetEl.parentNode, rr, targetEl);\n        }\n        else {\n            appendChildren(targetEl, rr);\n        }\n        this.__handleAfterRender();\n    }\n    __destroy(removeDOM = true) {\n        const comp = this[__];\n        if (comp.state > ComponentStates.WILLDESTROY)\n            return;\n        comp.state = ComponentStates.WILLDESTROY;\n        /*\n         * once component is being destroied,\n         *   we mark component and it's passed-attrs un-notifiable to ignore\n         *   possible messeges occurs in BEFORE_DESTROY lifecycle callback.\n         */\n        this[$$].__notifiable = false;\n        comp.passedAttrs[$$].__notifiable = false;\n        // notify before destroy lifecycle\n        // 需要注意，必须先 NOTIFY 向外通知销毁消息，再执行 BEFORE_DESTROY 生命周期函数。\n        //   因为在 BEFORE_DESTROY 里会销毁外部消息回调函数里可能会用到的属性等资源。\n        this.__notify('before-destroy');\n        this.__beforeDestroy();\n        // destroy children(include child component and html nodes)\n        this.__handleBeforeDestroy(removeDOM);\n        // clear messenger listeners.\n        super.__off();\n        // remove component style\n        StyleManager.remove(this.constructor.style);\n        // destroy attrs passed to constructor\n        comp.passedAttrs[$$].__destroy();\n        comp.passedAttrs = null;\n        // destroy view model\n        this[$$].__destroy();\n        // clear next tick update setImmediate\n        if (comp.updateNextMap) {\n            comp.updateNextMap.forEach(imm => {\n                clearImmediate(imm);\n            });\n            comp.updateNextMap = null;\n        }\n        // destroy related refs:\n        if (comp.relatedRefs) {\n            comp.relatedRefs.forEach(info => {\n                const refs = info.origin[__].refs;\n                if (!refs)\n                    return;\n                const rns = refs.get(info.ref);\n                if (isArray(rns)) {\n                    arrayRemove(rns, info.node || this);\n                }\n                else {\n                    refs.delete(info.ref);\n                }\n            });\n            comp.relatedRefs = null;\n        }\n        // clear all dom event listener and i18n watcher\n        if (comp.deregDOM) {\n            comp.deregDOM.forEach(deregFn => deregFn());\n            comp.deregDOM = null;\n        }\n        if (comp.deregI18N) {\n            comp.deregI18N.forEach(deregFn => deregFn());\n            comp.deregI18N = null;\n        }\n        // clear properties\n        comp.state = ComponentStates.DESTROIED;\n        // unlink all symbol properties. maybe unnecessary.\n        comp.rootNodes = comp.nonRootCompNodes =\n            comp.refs = comp.slots = comp.context = null;\n    }\n    __handleBeforeDestroy(removeDOM = false) {\n        this[__].nonRootCompNodes.forEach(component => {\n            // it's not necessary to remove dom when destroy non-root component,\n            // because those dom nodes will be auto removed when their parent dom is removed.\n            component.__destroy(false);\n        });\n        let $parent;\n        this[__].rootNodes.forEach(node => {\n            if (isComponent(node)) {\n                node.__destroy(removeDOM);\n            }\n            else if (removeDOM) {\n                if (!$parent) {\n                    $parent = node.parentNode;\n                }\n                $parent.removeChild(node);\n            }\n        });\n    }\n    __handleAfterRender() {\n        /*\n         * Set NOTIFIABLE=true to enable ViewModel notify.\n         * Don't forgot to add these code if you override HANDLE_AFTER_RENDER\n         */\n        this[__].passedAttrs[$$].__notifiable = true;\n        this[$$].__notifiable = true;\n        this[__].rootNodes.forEach(n => {\n            if (isComponent(n))\n                n.__handleAfterRender();\n        });\n        this[__].nonRootCompNodes.forEach(n => {\n            if (isComponent(n))\n                n.__handleAfterRender();\n        });\n        this[__].state = ComponentStates.RENDERED;\n        this[__].contextState = this[__].contextState === ContextStates.TOUCHED ? ContextStates.TOUCHED_FREEZED : ContextStates.UNTOUCH_FREEZED; // has been rendered, can't modify context\n        this.__afterRender();\n        this.__notify('after-render');\n    }\n    __updateIfNeed(handler, nextTick = true) {\n        if (this[__].state !== ComponentStates.RENDERED) {\n            return;\n        }\n        if (handler === false) {\n            return this.__update();\n        }\n        if (!isFunction(handler)) {\n            handler = this.__update;\n        }\n        if (!nextTick) {\n            handler.call(this);\n            return;\n        }\n        let ntMap = this[__].updateNextMap;\n        if (!ntMap)\n            ntMap = this[__].updateNextMap = new Map();\n        if (ntMap.has(handler)) {\n            // already in queue.\n            return;\n        }\n        ntMap.set(handler, setImmediate(() => {\n            ntMap.delete(handler);\n            handler.call(this);\n        }));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    __update(first) {\n        // by default, do nothing.\n    }\n    __setContext(key, value, forceOverride = false) {\n        if (this[__].contextState === ContextStates.UNTOUCH_FREEZED || this[__].contextState === ContextStates.TOUCHED_FREEZED) {\n            throw new Error('Can\\'t setContext after component has been rendered. Try put setContext code into constructor.');\n        }\n        if (this[__].contextState === ContextStates.UNTOUCH) {\n            // we copy context to make sure child component do not modify context passed from parent.\n            // we do not copy it by default until setContext function is called, because it unnecessary to waste memory if\n            // child component do not modify the context.\n            this[__].context = Object.assign({}, this[__].context);\n            this[__].contextState = ContextStates.TOUCHED; // has been copied.\n        }\n        if (key in this[__].context) {\n            // override exist may case hidden bug hard to debug.\n            // so we force programmer to pass third argument to\n            //   tell us he/she know what he/she is doing.\n            if (!forceOverride) {\n                throw new Error(`Contenxt with key: ${key.toString()} is exist. Pass third argument forceOverride=true to override it.`);\n            }\n        }\n        this[__].context[key] = value;\n    }\n    __getContext(key) {\n        return this[__].context ? this[__].context[key] : null;\n    }\n    /**\n     * This method is used for compiler generated code.\n     * Do not use it manually.\n     */\n    __setRef(ref, el, relatedComponent) {\n        let rns = this[__].refs;\n        if (!rns) {\n            this[__].refs = rns = new Map();\n        }\n        let elOrArr = rns.get(ref);\n        if (!elOrArr) {\n            rns.set(ref, el);\n        }\n        else if (isArray(elOrArr)) {\n            elOrArr.push(el);\n        }\n        else {\n            elOrArr = [elOrArr, el];\n            rns.set(ref, elOrArr);\n        }\n        const isComp = isComponent(el);\n        if (!isComp && this === relatedComponent) {\n            return;\n        }\n        /**\n         * 如果被 ref: 标记的元素（el）本身就是组件（Component）节点，\n         *   那么 el 自身就是关联组件，el 自身在被销毁时可以执行删除关联 refs 的操作；\n         * 如果 el 是 DOM 节点，则必须将它添加到关联组件（比如 <if>） relatedComponent 里，\n         *   在 relatedComponent 被销毁时执行关联 refs 的删除。\n         */\n        let rbs = (isComp ? el : relatedComponent)[__].relatedRefs;\n        if (!rbs) {\n            (isComp ? el : relatedComponent)[__].relatedRefs = rbs = [];\n        }\n        rbs.push({\n            origin: this,\n            ref,\n            node: isComp ? null : el\n        });\n    }\n    /**\n     * Get child node(or nodes) marked by 'ref:' attribute in template\n     */\n    __getRef(ref) {\n        if (this[__].state !== ComponentStates.RENDERED) {\n            // eslint-disable-next-line no-console\n            console.warn(`Warning: call __getRef before component '${this.constructor.name}' rendered will get nothing. see https://[TODO]`);\n        }\n        return this[__].refs ? this[__].refs.get(ref) : null;\n    }\n    __addStylePid(inheritIds, styleId) {\n        if (!inheritIds && !styleId)\n            return;\n        let ids = this[__].compStylePid;\n        if (!ids) {\n            ids = this[__].compStylePid = Object.create(null);\n        }\n        if (inheritIds) {\n            Object.assign(ids, inheritIds);\n        }\n        if (styleId) {\n            ids[styleId] = '';\n        }\n    }\n    /**\n     * lifecycle hook, called after rendered.\n     */\n    __afterRender() {\n        // lifecycle hook, default do nothing.\n    }\n    /**\n     * lifecycle hook, called before destroy.\n     */\n    __beforeDestroy() {\n        // lifecycle hook, default do nothing.\n    }\n}\n_a = __;\n/**\n * 某些情况下，需要判断一个函数是否是组件的构造函数。添加一个静态成员属性符号用于进行该判断。\n * isComponent 函数既可以判断是否是构造函数（配合 isFunction），又可以判断一个对像是否是组件实例。\n *\n * 示例：\n *\n * ````js\n * import { isComponent, Component } from 'jinge';\n *\n * class A {};\n * class B extends Component {};\n * console.log(isComponent(A)); // false\n * console.log(isComponent(B)); // true\n * ````\n */\nComponent[_a] = true;\n//# sourceMappingURL=component.js.map","import { isString, uid, isFunction } from '../util';\nimport { Messenger } from './messenger';\nconst DEFAULT_FILENAME = 'dist/locale.[locale].js';\n/**\n * convert i18n text template to function\n * @param {String} text i18n formatted text template\n */\nexport function compile(text) {\n    // eslint-disable-next-line no-new-func\n    return new Function('__ctx', `return \\`${text.replace(/`/g, '\\\\`').replace(/\\$\\{\\s*([\\w\\d._$]+)\\s*\\}/g, (m, n) => {\n        return '${ __ctx.' + n + ' }';\n    })}\\`;`);\n}\nfunction defaultFetchFn(locale, filename) {\n    return window.fetch(filename.replace('[locale]', locale)).then(res => res.text());\n}\nclass I18nService extends Messenger {\n    constructor() {\n        super();\n        this.__deps = null;\n        this.__data = null;\n        this.__cache = new Map();\n        this.__key = null;\n        this.__regLoc(window.JINGE_I18N_DATA);\n    }\n    get locale() {\n        return this.__data.locale;\n    }\n    /**\n     * Register i18n render depedent.\n     * This method will be called by compiler generated code, don't call it manully.\n     */\n    __regDep(idx, depent) {\n        if (!this.__deps)\n            this.__deps = [];\n        if (!this.__deps[idx])\n            throw new Error(`conflict at ${idx}`);\n        this.__deps[idx] = depent;\n    }\n    /**\n     * Register locale data, will be called in locale resource script.\n     * Usually you don't need call this method manully.\n     */\n    __regLoc(data) {\n        if (!data || this.__cache.has(data.locale)) {\n            return;\n        }\n        this.__cache.set(data.locale, data);\n        if (!this.__data) {\n            this.__data = data;\n        }\n    }\n    /**\n     * switch to another locale/language\n     * @param {string} locale locale to swtiched\n     * @param {string | Function} filename filename of locale script with full path, or function fetch locale script.\n     */\n    switch(locale, filename = DEFAULT_FILENAME) {\n        if (this.__data.locale === locale) {\n            return;\n        }\n        const data = this.__cache.get(locale);\n        if (!data) {\n            const key = uid();\n            this.__key = key;\n            (isFunction(filename) ? filename(locale) : defaultFetchFn(locale, filename)).then((code) => {\n                // eslint-disable-next-line no-new-func\n                (new Function('jinge', code))({\n                    i18n: this\n                });\n                if (this.__key !== key || this.__data.locale === locale) {\n                    /*\n                      * ignore if callback has been expired.\n                      * 使用闭包的技巧来检测当前回调是否已经过期，\n                      * 即，是否已经有新的 fetchFn 函数的调用。\n                      */\n                    return;\n                }\n                const data = this.__cache.get(locale);\n                this.__data = data;\n                this.__notify('i18n-change', this.locale);\n            });\n        }\n        else {\n            this.__data = data;\n            this.__notify('i18n-change', this.locale);\n        }\n    }\n    __t(key, params) {\n        const dict = this.__data.dictionary;\n        if (!(key in dict)) {\n            return 'i18n_missing';\n        }\n        let text = dict[key];\n        if (isString(text)) {\n            // text.startsWith(\"«\") means reference to another key\n            if (text.charCodeAt(0) === 171) {\n                text = dict[text.substring(1)];\n                if (isString(text)) {\n                    text = compile(text);\n                }\n            }\n            else {\n                text = compile(text);\n            }\n            dict[key] = text;\n        }\n        return text(params);\n    }\n    __r(key, type) {\n        const render = this.__data.render;\n        if (isFunction(render)) {\n            if (!this.__deps) {\n                throw new Error('missing render depedents');\n            }\n            this.__data.render = render(...this.__deps);\n        }\n        const renderDict = render[type];\n        if (!(key in renderDict)) {\n            throw new Error(`missing i18n ${type} for key: ${key}`);\n        }\n        let fn = renderDict[key];\n        if (isString(fn)) {\n            // if fn is string, it's a reference to another key.\n            renderDict[key] = fn = renderDict[fn];\n        }\n        return fn;\n    }\n    /**\n     * Bind listener to LOCALE_CHANGE event,\n     * return a function auto remove this listener\n     * @param {Function} handler a listener bind to change event\n     * @param {Boolean} immediate call listener immediately, default is false.\n     * @returns {Function} a function auto remove listener\n     */\n    watch(listener, immediate) {\n        this.__on('change', listener);\n        if (immediate) {\n            listener(this.locale);\n        }\n        return () => {\n            this.__off('change', listener);\n        };\n    }\n}\n/* Singleton */\nexport const i18n = new I18nService();\n/**\n * Compiler helper function, the first parameter will be convert to i18n dictionary key,\n * and the whole function will be transform to `i18nService._t(key, params)`\n *\n * But after i18n locale resource script had been written, compiler won't transform it,\n * the function will work as text parse util.\n *\n * @param {String|Object} text\n * @param {Object} params\n */\nexport function _t(text, params) {\n    return params ? compile(text)(params) : text;\n}\n//# sourceMappingURL=i18n.js.map","export * from './bootstrap';\nexport * from './component';\nexport * from './i18n';\nexport * from './messenger';\nexport * from './render_fns';\nexport * from './style';\nexport * from './transition';\n//# sourceMappingURL=index.js.map","export const MESSENGER_LISTENERS = Symbol('listeners');\nexport class Messenger {\n    constructor(templateListeners) {\n        this[MESSENGER_LISTENERS] = null;\n        if (templateListeners) {\n            for (const eventName in templateListeners) {\n                const handler = templateListeners[eventName];\n                this.__on(eventName, handler.fn, handler.opts);\n            }\n        }\n    }\n    __notify(eventName, ...args) {\n        if (!this[MESSENGER_LISTENERS])\n            return;\n        const listeners = this[MESSENGER_LISTENERS].get(eventName);\n        if (!listeners)\n            return;\n        listeners.forEach(handler => {\n            handler.fn(...args);\n        });\n    }\n    __on(eventName, eventListener, options) {\n        if (!this[MESSENGER_LISTENERS]) {\n            this[MESSENGER_LISTENERS] = new Map();\n        }\n        let listeners = this[MESSENGER_LISTENERS].get(eventName);\n        if (!listeners) {\n            this[MESSENGER_LISTENERS].set(eventName, listeners = []);\n        }\n        if (listeners.findIndex(it => {\n            return it.fn === eventListener;\n        }) >= 0) {\n            // eslint-disable-next-line no-console\n            console.warn('dulplicated messenger listener', eventName, eventListener);\n            return;\n        }\n        if (options && options.once) {\n            const onceListener = (...args) => {\n                eventListener(...args);\n                this.__off(eventName, eventListener);\n            };\n            listeners.push({\n                fn: onceListener,\n                opts: options\n            });\n        }\n        else {\n            listeners.push({\n                fn: eventListener,\n                opts: options\n            });\n        }\n    }\n    __off(eventName, eventListener) {\n        if (!this[MESSENGER_LISTENERS])\n            return;\n        if (!eventName) {\n            this[MESSENGER_LISTENERS].clear();\n            return;\n        }\n        const listeners = this[MESSENGER_LISTENERS].get(eventName);\n        if (!listeners)\n            return;\n        if (!eventListener) {\n            listeners.length = 0;\n            return;\n        }\n        const idx = listeners.findIndex(it => {\n            return it.fn === eventListener;\n        });\n        listeners.splice(idx, 1);\n    }\n}\n//# sourceMappingURL=messenger.js.map","import { createElement, createTextNode } from '../util';\nimport { i18n as i18nService } from './i18n';\nimport { __ } from './component';\nexport function emptyRenderFn(component) {\n    const el = document.createComment('empty');\n    component[__].rootNodes.push(el);\n    return el;\n}\nexport function errorRenderFn(component) {\n    const el = createElement('span', {\n        style: 'color: red !important;'\n    });\n    el.textContent = 'template parsing failed! please check webpack log.';\n    component[__].rootNodes.push(el);\n    return el;\n}\nexport function textRenderFn(component, txtContent) {\n    const el = createTextNode(txtContent);\n    component[__].rootNodes.push(el);\n    return el;\n}\nexport function i18nRenderFn(component, key, isRoot = false) {\n    const el = createTextNode();\n    const fn = () => {\n        el.textContent = i18nService.__t(key);\n    };\n    fn();\n    component.__i18nWatch(fn);\n    isRoot && component[__].rootNodes.push(el);\n    return el;\n}\n//# sourceMappingURL=render_fns.js.map","import { uid, createElement } from '../util';\nfunction isHideCssExists() {\n    const $e = createElement('span', {\n        style: 'position:absolute;left:-10000px;',\n        class: 'jg-hide'\n    });\n    document.body.appendChild($e);\n    const exist = getComputedStyle($e).getPropertyValue('display') === 'none';\n    document.body.removeChild($e);\n    return exist;\n}\nclass ComponentStyleManager {\n    constructor() {\n        this.m = new Map();\n        this.s = 0;\n    }\n    create(sty) {\n        if (this.s === 0)\n            return;\n        const $style = createElement('style', {\n            type: 'text/css',\n            id: sty.dom\n        });\n        document.head.appendChild($style);\n        if ($style.styleSheet) {\n            $style.styleSheet.cssText = sty.css;\n        }\n        else {\n            $style.textContent = sty.css;\n        }\n    }\n    add(sty) {\n        if (!sty)\n            return;\n        const styleMap = this.m;\n        let info = styleMap.get(sty.id);\n        if (info) {\n            info.refs++;\n            return;\n        }\n        info = {\n            id: sty.id,\n            css: sty.css,\n            dom: `__${sty.id}__`,\n            refs: 1\n        };\n        styleMap.set(sty.id, info);\n        this.create(info);\n    }\n    attch() {\n        if (this.s !== 0) {\n            // eslint-disable-next-line no-console\n            console.warn('component styles already attached.');\n            return;\n        }\n        this.s = 1;\n        if (!isHideCssExists()) {\n            this.create({\n                dom: `__jgsty_${uid()}__`,\n                css: '.jg-hide{display:none!important}.jg-hide.jg-hide-enter,.jg-hide.jg-hide-leave{display:block!important}'\n            });\n        }\n        this.m.forEach(info => {\n            this.create(info);\n        });\n    }\n    remove(sty) {\n        if (!sty)\n            return;\n        const info = this.m.get(sty.id);\n        if (!info)\n            return;\n        info.refs--;\n        if (info.refs > 0) {\n            return;\n        }\n        this.m.delete(info.id);\n        if (this.s === 0) {\n            return;\n        }\n        document.head.removeChild(document.getElementById(info.dom));\n    }\n}\n// singleton\nexport const manager = new ComponentStyleManager();\n//# sourceMappingURL=style.js.map","export var TransitionStates;\n(function (TransitionStates) {\n    TransitionStates[TransitionStates[\"ENTERING\"] = 1] = \"ENTERING\";\n    TransitionStates[TransitionStates[\"ENTERED\"] = 2] = \"ENTERED\";\n    TransitionStates[TransitionStates[\"LEAVING\"] = 3] = \"LEAVING\";\n    TransitionStates[TransitionStates[\"LEAVED\"] = 4] = \"LEAVED\";\n})(TransitionStates || (TransitionStates = {}));\nexport function getDurationType(el) {\n    const cst = getComputedStyle(el);\n    if (cst.getPropertyValue('transition-duration') !== '0s') {\n        return 'transitionend';\n    }\n    else if (cst.getPropertyValue('animation-duration') !== '0s') {\n        return 'animationend';\n    }\n    return null;\n}\nfunction parseDuration(v) {\n    if (/ms$/.test(v)) {\n        return parseInt(v);\n    }\n    else if (/s$/.test(v)) {\n        return parseFloat(v) * 1000;\n    }\n    else {\n        return 0;\n    }\n}\nexport function getDuration(el) {\n    const cst = getComputedStyle(el);\n    let dur = cst.getPropertyValue('transition-duration');\n    if (dur !== '0s') {\n        return {\n            type: 'transitionend',\n            time: parseDuration(dur)\n        };\n    }\n    dur = cst.getPropertyValue('animation-duration');\n    if (dur !== '0s') {\n        return {\n            type: 'animationend',\n            time: parseDuration(dur)\n        };\n    }\n    return {\n        type: null,\n        time: 0\n    };\n}\n//# sourceMappingURL=transition.js.map","export * from './components';\nexport * from './core';\nexport * from './util';\nexport * from './vm';\n//# sourceMappingURL=index.js.map","export function arrayRemove(array, item) {\n    const idx = array.indexOf(item);\n    if (idx < 0)\n        return false;\n    array.splice(idx, 1);\n    return true;\n}\nexport function arrayPushIfNotExist(array, item) {\n    const idx = array.indexOf(item);\n    if (idx >= 0)\n        return;\n    array.push(item);\n}\nexport function arrayEqual(arr1, arr2) {\n    if (arr1.length !== arr2.length)\n        return false;\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i])\n            return false;\n    }\n    return true;\n}\n//# sourceMappingURL=array.js.map","let UID_INC = 0;\nexport function uid() {\n    return Date.now().toString(32) + '-' + Math.floor(Math.random() * 0xffffff).toString(32) + '-' + (UID_INC++).toString(32);\n}\n//# sourceMappingURL=common.js.map","import { isString, isUndefined, isObject } from './type';\nexport function setText($element, text) {\n    if (!isString(text)) {\n        text = JSON.stringify(text);\n    }\n    $element.textContent = text;\n}\nexport function createTextNode(text = '') {\n    return document.createTextNode(isString(text) ? text : JSON.stringify(text));\n}\nexport function createFragment(children) {\n    const f = document.createDocumentFragment();\n    children && children.forEach(n => {\n        f.appendChild(isString(n) ? document.createTextNode(n) : n);\n    });\n    return f;\n}\nexport function appendChildren($parent, children) {\n    $parent.appendChild(createFragment(children));\n}\nexport function replaceChildren($parent, children, oldNode) {\n    $parent.replaceChild(createFragment(children), oldNode);\n}\nexport function removeAttribute($ele, attrName) {\n    if (!attrName)\n        return;\n    if (isObject(attrName)) {\n        for (const attrN in attrName) {\n            removeAttribute($ele, attrN);\n        }\n        return;\n    }\n    return $ele.removeAttribute(attrName);\n}\nexport function setAttribute($ele, attrName, attrValue) {\n    if (!attrName)\n        return;\n    if (isObject(attrName)) {\n        for (const attrN in attrName) {\n            setAttribute($ele, attrN, attrName[attrN]);\n        }\n        return;\n    }\n    if (isUndefined(attrValue) || attrValue === null) {\n        removeAttribute($ele, attrName);\n    }\n    else {\n        $ele.setAttribute(attrName, attrValue);\n    }\n}\nfunction _createEl($el, attrs, children) {\n    if (attrs) {\n        for (const an in attrs) {\n            if (an && !isUndefined(attrs[an])) {\n                setAttribute($el, an, attrs[an]);\n            }\n        }\n    }\n    appendChildren($el, children);\n    return $el;\n}\nexport function createElement(tag, attrs, ...children) {\n    return _createEl(document.createElement(tag), attrs, children);\n}\nexport function createElementWithoutAttrs(tag, ...children) {\n    return createElement(tag, null, ...children);\n}\nexport function createSVGElement(tag, attrs, ...children) {\n    return _createEl(document.createElementNS('http://www.w3.org/2000/svg', tag), attrs, children);\n}\nexport function createSVGElementWithoutAttrs(tag, ...children) {\n    return createSVGElement(tag, null, ...children);\n}\nexport function createElementWithChild(tag, attrs, child) {\n    const $e = createElement(tag, attrs);\n    $e.appendChild(child);\n    return $e;\n}\nexport function insertAfter($parent, newNode, referenceNode) {\n    const rn = referenceNode.nextSibling;\n    if (!rn) {\n        $parent.appendChild(newNode);\n    }\n    else {\n        $parent.insertBefore(newNode, rn);\n    }\n}\n// export function hasClass($ele: Element, className: string): boolean {\n//   return $ele.classList.contains(className);\n// }\n// export function toggleClass($ele: Element, className: string, force?: boolean): boolean {\n//   return $ele.classList.toggle(className, force);\n// }\n// export function addClass($ele: Element, className: string): boolean {\n//   return toggleClass($ele, className, true);\n// }\n// export function removeClass($ele: Element, className: string): boolean {\n//   return toggleClass($ele, className, false);\n// }\n// export function replaceClass($ele: Element, oldClass: string, newClass: string): void {\n//   return $ele.classList.replace(oldClass, newClass);\n// }\nexport function addEvent($element, eventName, handler, capture) {\n    isUndefined(capture) && (capture = eventName.startsWith('touch') ? {\n        capture: false,\n        passive: true\n    } : false);\n    $element.addEventListener(eventName, handler, capture);\n}\nexport function removeEvent($element, eventName, handler) {\n    $element.removeEventListener(eventName, handler);\n}\n/**\n * Add event to DOM element, similar as addEventListener,\n * but return deregister function which will call removeEventListener.\n *\n * @returns {Function} deregister function which will removeEventListener\n */\nexport function registerEvent($element, eventName, handler, capture) {\n    addEvent($element, eventName, handler, capture);\n    return function deregister() {\n        removeEvent($element, eventName, handler);\n    };\n}\n//# sourceMappingURL=dom.js.map","export * from './type';\nexport * from './array';\nexport * from './common';\nexport * from './setimm';\nexport * from './dom';\n//# sourceMappingURL=index.js.map","/**\n * setImmediate polyfill only for modern browsers\n * Copied from https://github.com/YuzuJS/setImmediate/blob/master/setImmediate.js\n * Simplified by Yuhang-Ge<abeyuhang@gmail.com>\n */\nimport { isUndefined, isFunction, isString } from './type';\nlet autoIncrement = 0;\nlet nextHandle = 1; // Spec says greater than zero\nlet tasksByHandle;\nlet currentlyRunningATask = false;\nlet registerImmediate;\nfunction setImmediateFallback(callback) {\n    if (!isFunction(callback) || arguments.length > 1) {\n        throw new Error('setImmediate require callback function.');\n    }\n    tasksByHandle.set(nextHandle, callback);\n    registerImmediate(nextHandle);\n    // console.log('siiii', callback);\n    return nextHandle++;\n}\nfunction clearImmediateFallback(handle) {\n    tasksByHandle.delete(handle);\n}\nfunction runIfPresent(handle) {\n    // From the spec: 'Wait until any invocations of this algorithm started before this one have completed.'\n    // So if we're currently running a task, we'll need to delay this invocation.\n    if (currentlyRunningATask) {\n        // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n        // 'too much recursion' error.\n        setTimeout(runIfPresent, 0, handle);\n        return;\n    }\n    const callback = tasksByHandle.get(handle);\n    // console.log('stttt', handle, callback);\n    if (!callback)\n        return;\n    currentlyRunningATask = true;\n    try {\n        callback();\n    }\n    finally {\n        clearImmediateFallback(handle);\n        currentlyRunningATask = false;\n    }\n}\nif (isUndefined(window.setImmediate)) {\n    tasksByHandle = new Map();\n    const messagePrefix = 'setImmediate$' + (autoIncrement++).toString(32) + '$';\n    window.addEventListener('message', event => {\n        if (event.source === window &&\n            isString(event.data) &&\n            event.data.startsWith(messagePrefix)) {\n            runIfPresent(Number(event.data.slice(messagePrefix.length)));\n        }\n    }, false);\n    registerImmediate = function (handle) {\n        window.postMessage(messagePrefix + handle, '*');\n    };\n}\nexport const setImmediate = window.setImmediate || setImmediateFallback;\nexport const clearImmediate = window.clearImmediate || clearImmediateFallback;\n//# sourceMappingURL=setimm.js.map","export function typeOf(v) {\n    return typeof v;\n}\nexport function isObject(v) {\n    return v !== null && typeOf(v) === 'object';\n}\nexport function isString(v) {\n    return typeOf(v) === 'string';\n}\nexport function isNumber(v) {\n    return typeOf(v) === 'number' && !Number.isNaN(v) && Number.isFinite(v);\n}\nexport function isUndefined(v) {\n    return typeOf(v) === 'undefined';\n}\nexport function isArray(v) {\n    return Array.isArray(v);\n}\nexport function isBoolean(v) {\n    return typeof v === 'boolean' || (v instanceof Boolean);\n}\nexport function isFunction(v) {\n    return typeOf(v) === 'function';\n}\nexport function isPromise(obj) {\n    return isObject(obj) && isFunction(obj.then);\n}\n//# sourceMappingURL=type.js.map","import { isString, isUndefined, isObject, isArray, } from '../util';\nexport const $$ = Symbol('$$');\nexport function isInnerObj(v) {\n    const clazz = v.constructor;\n    return clazz === RegExp || clazz === Date || clazz === Boolean;\n}\nexport function isViewModel(v) {\n    return isObject(v) && ($$ in v);\n}\nexport function isPublicProperty(v) {\n    return isString(v) && v.charCodeAt(0) !== 95;\n}\nexport function getPropertyName(v) {\n    if (isString(v)) {\n        return v;\n    }\n    if (v === null) {\n        return 'null';\n    }\n    if (isUndefined(v)) {\n        return 'undefined';\n    }\n    return v.toString();\n}\nexport function parsePropertyPath(propertyPath) {\n    return isString(propertyPath) ? (propertyPath.indexOf('.') > 0 ? propertyPath.split('.') : [propertyPath]) : (isArray(propertyPath) ? propertyPath : [propertyPath]);\n}\nexport function addParent(child, parent, property) {\n    if (!child.__parents) {\n        child.__parents = [];\n    }\n    child.__parents.push({\n        core: parent,\n        prop: property\n    });\n}\nexport function removeParent(child, parent, property) {\n    if (!child.__parents) {\n        return;\n    }\n    const idx = child.__parents.findIndex(item => {\n        return item.core === parent && item.prop === property;\n    });\n    if (idx >= 0) {\n        child.__parents.splice(idx, 1);\n    }\n}\nexport function shiftParent(child, parent, property, delta) {\n    if (!child.__parents)\n        return;\n    const item = child.__parents.find(it => {\n        return it.core === parent && it.prop === property;\n    });\n    if (item) {\n        item.prop += delta;\n    }\n}\n//# sourceMappingURL=common.js.map","import { arrayRemove, isArray, arrayEqual, isObject } from '../util';\nimport { parsePropertyPath, $$, removeParent, } from './common';\nimport { loopCreateNode, loopGetNode, loopClearNode, deleteNode } from './node';\nimport { handleCancel, loopNotify } from './notify';\nexport class ViewModelCoreImpl {\n    /**\n     * Don't use the constructor. Use createViewModel instead.\n     */\n    constructor(target) {\n        this.__notifiable = true;\n        this.__parents = null;\n        this.__listeners = null;\n        this.__related = null;\n        this.__setters = null;\n        this.target = target;\n        this.proxy = null;\n        Object.defineProperty(target, $$, {\n            value: this,\n            writable: false,\n            configurable: true,\n            enumerable: false\n        });\n    }\n    __watch(propertyPath, handler, related) {\n        propertyPath = parsePropertyPath(propertyPath);\n        const dbStarIdx = propertyPath.indexOf('**');\n        if (dbStarIdx >= 0 && dbStarIdx !== propertyPath.length - 1) {\n            /**\n             * 'a.b.**' is good.\n             * 'a.b.**.c' is bad.\n             */\n            throw new Error('wizard \"**\" must be last element in path.');\n        }\n        const node = loopCreateNode(this, propertyPath);\n        if (!node.__handlers) {\n            node.__handlers = [];\n        }\n        if (node.__handlers.indexOf(handler) < 0) {\n            node.__handlers.push(handler);\n        }\n        if (related && related !== this) {\n            /**\n             * If some child of this component is passed as argument(ie.\n             * use arg:pass attribute) like ng-tranclude in angular 1.x,\n             * the child may contain some messenger listeners not belong to\n             * this component but belong to outer parent.\n             *\n             * When destroy this component, we should also remove messenger listeners\n             *   belong to outer parent to prevent memory leak.\n             * To implement this goal, we maitain VM_RELATED_LISTENERS.\n             * When render view-tree, any messenger listeners belong to outer\n             * parent, will be also linked under VM_RELATED_LISTENERS, then\n             * when we destroy this component, the listeners can also be clear.\n             *\n             * For examle:\n             *\n             * <!-- outer parent: RootApp -->\n             * <div>\n             * <if expect=\"show\">\n             * <Tooltip>\n             * <argument arg:pass=\"default\">\n             * <p>hello, world. my name is ${name}</p>\n             * </argument>\n             * </Tooltip>\n             * </if>\n             * </div>\n             *\n             * when the `show` variable changed from true to false, the\n             * Tooltip component will be destroy. The messenger listener belong\n             * to the outer parent RootApp which watch `name` variable should\n             * also be removed.\n             */\n            related.__addRelated(this, propertyPath, handler);\n        }\n    }\n    __unwatch(propertyPath, handler, related) {\n        if (!propertyPath) {\n            loopClearNode(this);\n            return;\n        }\n        const node = loopGetNode(this, parsePropertyPath(propertyPath));\n        if (!node) {\n            return;\n        }\n        const handlers = node.__handlers;\n        if (!handlers) {\n            return;\n        }\n        if (!handler) { // remove all if second parameter is not provided\n            handlers.forEach(handleCancel);\n            handlers.length = 0;\n        }\n        else {\n            handleCancel(handler);\n            arrayRemove(handlers, handler);\n        }\n        deleteNode(node);\n        if (related && related !== this) {\n            related.__rmRelated(this, propertyPath, handler);\n        }\n    }\n    __notify(propertyPath, immediate = false) {\n        if (!this.__notifiable) {\n            return;\n        }\n        propertyPath = parsePropertyPath(propertyPath);\n        if (this.__listeners) {\n            loopNotify(this, propertyPath, immediate);\n        }\n        const parents = this.__parents;\n        parents && parents.forEach(ps => {\n            const vm = ps.core;\n            if (!vm) {\n                // eslint-disable-next-line no-console\n                console.error('dev-warn-unexpected: parent of ViewModelCore has been destroied but not unlink.');\n                return;\n            }\n            vm.__notify([ps.prop].concat(propertyPath), immediate);\n        });\n    }\n    __destroy() {\n        this.__notifiable = false;\n        this.__parents = null;\n        // clear listeners\n        loopClearNode(this);\n        // unlink wrapper proxy\n        this.proxy = null;\n        if (this.__related) {\n            this.__related.forEach((hooks, origin) => {\n                hooks.forEach(hook => {\n                    origin.__unwatch(hook.prop, hook.handler);\n                });\n            });\n            this.__related = null;\n        }\n        const target = this.target;\n        /*\n         * 解除 ViewModel 之间的 VM_PARENTS 关联。\n         * 使用 getOwnPropertyNames 可以获取所有属性，但无法获取 setter 函数定义的属性。\n         */\n        const sfm = this.__setters;\n        if (sfm) {\n            sfm.forEach((fn, prop) => {\n                if (fn === null) {\n                    return;\n                }\n                const v = target[prop];\n                if (!isObject(v) || !($$ in v)) {\n                    return;\n                }\n                removeParent(v[$$], this, prop);\n            });\n            this.__setters = null;\n        }\n        Object.getOwnPropertyNames(target).forEach(prop => {\n            const v = target[prop];\n            if (!isObject(v) || !($$ in v)) {\n                return;\n            }\n            removeParent(v[$$], this, prop);\n        });\n        // unlink vm target\n        delete target[$$];\n        this.target = null;\n    }\n    __addRelated(origin, propertyPath, handler) {\n        if (!this.__related)\n            this.__related = new Map();\n        let hook = this.__related.get(origin);\n        if (!hook) {\n            this.__related.set(origin, hook = []);\n        }\n        hook.push({\n            prop: propertyPath,\n            handler\n        });\n    }\n    __rmRelated(origin, propertyPath, handler) {\n        if (!this.__related)\n            return;\n        const hook = this.__related.get(origin);\n        if (!hook)\n            return;\n        const isPropArray = isArray(propertyPath);\n        const i = hook.findIndex(it => {\n            return handler === it.handler &&\n                (isPropArray\n                    ? arrayEqual(propertyPath, it.prop)\n                    : propertyPath === it.prop);\n        });\n        if (i >= 0) {\n            hook.splice(i, 1);\n        }\n    }\n}\n//# sourceMappingURL=core.js.map","export * from './common';\nexport * from './core';\nexport * from './node';\nexport * from './notify';\nexport * from './proxy';\n//# sourceMappingURL=index.js.map","import { getPropertyName } from './common';\nimport { handleCancel } from './notify';\nexport function loopCreateNode(parentNode, propertyPath, level = 0) {\n    const propertyName = getPropertyName(propertyPath[level]);\n    if (!parentNode.__listeners) {\n        parentNode.__listeners = new Map();\n    }\n    let node = parentNode.__listeners.get(propertyName);\n    if (!node) {\n        node = {\n            __parent: parentNode,\n            __property: propertyName,\n            __handlers: null,\n            __listeners: null\n        };\n        parentNode.__listeners.set(propertyName, node);\n    }\n    if (propertyPath.length - 1 === level) {\n        return node;\n    }\n    else {\n        return loopCreateNode(node, propertyPath, level + 1);\n    }\n}\nexport function loopGetNode(parentNode, propertyPath, level = 0) {\n    var _a;\n    const propertyName = getPropertyName(propertyPath[level]);\n    if (!propertyName) {\n        return null;\n    }\n    const node = (_a = parentNode.__listeners) === null || _a === void 0 ? void 0 : _a.get(propertyName);\n    if (!node) {\n        return null;\n    }\n    if (propertyPath.length - 1 === level) {\n        return node;\n    }\n    else {\n        return loopGetNode(node, propertyPath, level + 1);\n    }\n}\nexport function deleteNode(node) {\n    if ((node && node.__handlers && node.__handlers.length > 0) ||\n        (node.__listeners && node.__listeners.size > 0)) {\n        return null;\n    }\n    /**\n     * if one node don't have any listener or child, delete it.\n     */\n    const parent = node.__parent;\n    const property = node.__property;\n    node.__parent = null; // unlink parent.\n    parent.__listeners.delete(property);\n    return parent;\n}\nexport function loopClearNode(node) {\n    const listeners = node.__listeners;\n    if (listeners) {\n        // loop clear all child nodes\n        listeners.forEach(sn => loopClearNode(sn));\n        node.__listeners = null;\n    }\n    // destroy all handlers\n    const handlers = node.__handlers;\n    if (handlers) {\n        // clear handler waiting to execute\n        handlers.forEach(handleCancel);\n        node.__handlers = null;\n    }\n    // unlink parent\n    node.__parent = null;\n}\n//# sourceMappingURL=node.js.map","import { setImmediate, clearImmediate } from '../util';\nimport { getPropertyName } from './common';\nconst handleTasks = new Map();\nexport function handleCancel(handler) {\n    const t = handleTasks.get(handler);\n    if (t) {\n        clearImmediate(t.immediate);\n        handleTasks.delete(handler);\n    }\n}\nexport function handleOnce(handler, propertyPath) {\n    if (handleTasks.has(handler)) {\n        return;\n    }\n    const imm = setImmediate(() => {\n        const arg = handleTasks.get(handler);\n        try {\n            handler(arg.propertyPath);\n        }\n        finally {\n            handleTasks.delete(handler);\n        }\n    });\n    handleTasks.set(handler, {\n        immediate: imm,\n        propertyPath: propertyPath\n    });\n}\nexport function loopHandle(propertyPath, node, immediate) {\n    const handlers = node.__handlers;\n    handlers && handlers.forEach(handler => {\n        if (immediate) {\n            handler(propertyPath);\n        }\n        else {\n            handleOnce(handler, propertyPath);\n        }\n    });\n    const listeners = node.__listeners;\n    listeners && listeners.forEach(c => {\n        loopHandle(propertyPath, c, immediate);\n    });\n}\nexport function loopNotify(vm, propertyPath, immediate, level = 0) {\n    const listeners = vm.__listeners;\n    if (!listeners) {\n        return;\n    }\n    const propertyName = getPropertyName(propertyPath[level]);\n    if (!propertyName) {\n        return;\n    }\n    let node = listeners.get(propertyName);\n    if (node) {\n        if (propertyPath.length - 1 === level) {\n            // loopHandle(props, node, config[CFG_VM_DEBUG] ? null : imms);\n            loopHandle(propertyPath, node, immediate);\n        }\n        else {\n            loopNotify(node, propertyPath, immediate, level + 1);\n        }\n    }\n    node = listeners.get('*');\n    if (node) {\n        if (propertyPath.length - 1 === level) {\n            loopHandle(propertyPath, node, true);\n        }\n        else {\n            loopNotify(node, propertyPath, immediate, level + 1);\n        }\n    }\n    node = listeners.get('**');\n    if (node) {\n        loopHandle(propertyPath, node, true);\n    }\n}\n//# sourceMappingURL=notify.js.map","import { isNumber, isArray, isObject, isFunction, isPromise, isUndefined } from '../util';\nimport { addParent, isViewModel, removeParent, shiftParent, isPublicProperty, isInnerObj, $$ } from './common';\nimport { ViewModelCoreImpl } from './core';\n/**\n * check if property named \"prop\" is setter of instance \"obj\",\n * if it's setter, return setter function, otherwise return null.\n * @param {Object} obj\n * @param {String} prop\n *\n * 检测名称为 \"prop\" 的属性是否是 setter，如果是，返回该 setter 函数，\n * 否则，返回 null。\n * 由于 obj 可能是有继承关系的类的实例，因此需要向上检测继承的类的 prototype。\n */\nfunction getSetterFnIfPropIsSetter(obj, prop) {\n    let map = obj[$$].__setters;\n    if (!map) {\n        obj[$$].__setters = map = new Map();\n    }\n    if (!map.has(prop)) {\n        let clazz = obj.constructor;\n        let desc = Object.getOwnPropertyDescriptor(clazz.prototype, prop);\n        let fn;\n        if (desc) {\n            fn = isFunction(desc.set) ? desc.set : null;\n            map.set(prop, fn);\n            return fn;\n        }\n        // lookup to check parent classes\n        clazz = Object.getPrototypeOf(clazz);\n        while (clazz && clazz.prototype) {\n            desc = Object.getOwnPropertyDescriptor(clazz.prototype, prop);\n            if (desc) {\n                fn = isFunction(desc.set) ? desc.set : null;\n                map.set(prop, fn);\n                return fn;\n            }\n            clazz = Object.getPrototypeOf(clazz);\n        }\n        map.set(prop, null);\n        return null;\n    }\n    else {\n        return map.get(prop);\n    }\n}\nfunction notifyPropChanged(vm, prop) {\n    vm[$$].__notify(prop);\n}\nfunction __propSetHandler(target, prop, value, setFn, assertVM = true) {\n    if (!isPublicProperty(prop)) {\n        /**\n         * 如果不强制转成 string，typescript 会报：Type 'symbol' cannot be used as an index type\n         */\n        target[prop] = value;\n        return true;\n    }\n    const oldVal = target[prop];\n    if (oldVal === value && !isUndefined(value)) {\n        return true;\n    }\n    let newValIsVM = isObject(value) && !isInnerObj(value);\n    if (newValIsVM) {\n        newValIsVM = $$ in value;\n        if (assertVM && !newValIsVM) {\n            throw new Error(`public property \"${prop.toString()}\" of ViewModel must also be ViewModel`);\n        }\n    }\n    // console.log(`'${prop}' changed from ${store[prop]} to ${value}`);\n    if (isObject(oldVal) && ($$ in oldVal)) {\n        removeParent(oldVal[$$], target[$$], prop);\n    }\n    setFn(target, prop, value);\n    if (newValIsVM) {\n        addParent(value[$$], target[$$], prop);\n    }\n    notifyPropChanged(target, prop);\n    return true;\n}\nfunction __objectPropSetFn(target, prop, value) {\n    target[prop] = value;\n}\nfunction __componentPropSetFn(target, prop, value) {\n    /**\n     * we must ensure `this` in setter function to be `Proxy`\n     *\n     * 首先判断当前赋值的变量名，是否对应了一个 setter 函数，\n     * 如果是 setter 函数，则应该显式地调用，\n     *   并将 `this` 设置为该 target 的包装 Proxy，\n     *   这样才能保正 setter 函数中其它赋值语句能触发 notify。\n     * 如果不是 setter 函数，则简单地使用 target\\[prop\\] 赋值即可。\n     */\n    const setterFn = getSetterFnIfPropIsSetter(target, prop);\n    if (setterFn) {\n        setterFn.call(target[$$].proxy, value);\n    }\n    else {\n        target[prop] = value;\n    }\n}\nfunction objectPropSetHandler(target, prop, value) {\n    if (!($$ in target)) {\n        // ViewModel has been destroied.\n        return true;\n    }\n    return __propSetHandler(target, prop, value, __objectPropSetFn);\n}\nfunction attrsPropSetHandler(target, prop, value) {\n    if (!($$ in target)) {\n        // ViewModel has been destroied.\n        return true;\n    }\n    return __propSetHandler(target, prop, value, __objectPropSetFn, false);\n}\nfunction componentPropSetHandler(target, prop, value) {\n    if (!($$ in target)) {\n        // eslint-disable-next-line no-console\n        console.warn(`call setter \"${prop.toString()}\" after destroied, resources such as setInterval maybe not released before destroy. component:`, target);\n        return true;\n    }\n    return __propSetHandler(target, prop, value, __componentPropSetFn);\n}\nfunction arrayNotifyItems(target, idxStart, idxEnd) {\n    let i = idxStart;\n    if (idxStart > idxEnd) {\n        i = idxEnd;\n        idxEnd = idxStart;\n    }\n    for (; i < idxEnd; i++) {\n        // console.log('npc', i);\n        notifyPropChanged(target, i);\n    }\n}\nfunction arrayLengthSetHandler(target, value) {\n    if (!isNumber(value)) {\n        throw new Error('bad argument. array length must be validate number.');\n    }\n    const oldLen = target.length;\n    if (oldLen > value) {\n        for (let i = value; i < oldLen; i++) {\n            const v = target[i];\n            if (isViewModel(v)) {\n                removeParent(v[$$], target[$$], i);\n            }\n        }\n    }\n    target.length = value;\n    // console.log('set .length from', oldLen, 'to', value);\n    if (oldLen !== value) {\n        notifyPropChanged(target, 'length');\n        arrayNotifyItems(target, oldLen, value);\n    }\n    return true;\n}\nfunction arrayPropSetHandler(target, prop, value) {\n    if (!($$ in target)) {\n        return true;\n    }\n    if (prop === 'length') {\n        return arrayLengthSetHandler(target, value);\n    }\n    /**\n     * 即便是 arr[0] 这样的取值，在 Proxy 的 set 里面，传递的 property 也是 string 类型，即 \"0\"。\n     * 因此，对数组也使用和对象一致的 objectPropSetHandler 来处理。\n     */\n    return __propSetHandler(target, prop, value, __objectPropSetFn);\n}\nconst ObjectProxyHandler = {\n    set: objectPropSetHandler\n};\nconst PromiseProxyHandler = {\n    get(target, prop) {\n        if (prop === 'then' || prop === 'catch') {\n            const v = target[prop];\n            return function (...args) {\n                return v.call(target, ...args);\n            };\n        }\n        else {\n            return target[prop];\n        }\n    },\n    set: objectPropSetHandler\n};\nfunction _arrayReverseSort(target, fn, arg) {\n    target.forEach((it, i) => {\n        if (isViewModel(it)) {\n            addParent(it[$$], target[$$], i);\n        }\n    });\n    target[fn](arg);\n    target.forEach((it, i) => {\n        if (isViewModel(it)) {\n            removeParent(it[$$], target[$$], i);\n        }\n    });\n    arrayNotifyItems(target, 0, target.length);\n    // return wrapper proxy to ensure `arr.reverse() === arr`\n    return target[$$].proxy;\n}\nfunction wrapSubArray(arr, wrapEachItem = false) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    const rtn = wrapProxy(arr, true);\n    // handleVMDebug(arr);\n    arr.forEach((it, i) => {\n        if (isViewModel(it)) {\n            addParent(it[$$], arr[$$], i);\n        }\n        else if (wrapEachItem) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            arr[i] = createViewModel(it);\n        }\n    });\n    return rtn;\n}\nfunction _arrayShiftOrUnshiftProp(arr, delta) {\n    arr.forEach((el, i) => {\n        if (!isViewModel(el))\n            return;\n        shiftParent(el[$$], arr[$$], i, delta);\n    });\n}\nfunction _argAssert(arg, fn) {\n    if (isObject(arg)) {\n        if (!($$ in arg)) {\n            throw new Error(`argument passed to Array.${fn} must be ViewModel if the array is ViewModel`);\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return false;\n    }\n}\nconst ArrayFns = {\n    splice(target, idx, delCount, ...args) {\n        if (idx < 0)\n            idx = 0;\n        args.forEach((arg, i) => {\n            if (_argAssert(arg, 'splice')) {\n                addParent(arg[$$], target[$$], idx + i);\n            }\n        });\n        for (let i = 0; i < delCount; i++) {\n            if (idx + i >= target.length)\n                break;\n            const el = target[idx + i];\n            if (isViewModel(el)) {\n                removeParent(el[$$], target[$$], idx + i);\n            }\n        }\n        const delta = args.length - delCount;\n        if (delta !== 0) {\n            for (let i = idx + delCount; i < target.length; i++) {\n                const el = target[i];\n                if (!isViewModel(el)) {\n                    continue;\n                }\n                shiftParent(el[$$], target[$$], i, delta);\n            }\n        }\n        const rtn = wrapSubArray(target.splice(idx, delCount, ...args));\n        if (delta !== 0) {\n            notifyPropChanged(target, 'length');\n            for (let i = idx; i < target.length; i++) {\n                notifyPropChanged(target, i);\n            }\n        }\n        return rtn;\n    },\n    shift(target) {\n        if (target.length === 0)\n            return target.shift();\n        _arrayShiftOrUnshiftProp(target, -1);\n        const el = target.shift();\n        if (isViewModel(el)) {\n            removeParent(el[$$], target[$$], -1);\n        }\n        notifyPropChanged(target, 'length');\n        for (let i = 0; i < target.length + 1; i++) {\n            notifyPropChanged(target, i);\n        }\n        return el;\n    },\n    unshift(target, ...args) {\n        if (args.length === 0)\n            return target.unshift();\n        args.forEach((arg, i) => {\n            if (_argAssert(arg, 'unshift')) {\n                addParent(arg[$$], target[$$], i);\n            }\n        });\n        _arrayShiftOrUnshiftProp(target, args.length);\n        const rtn = target.unshift(...args);\n        notifyPropChanged(target, 'length');\n        for (let i = 0; i < target.length; i++) {\n            notifyPropChanged(target, i);\n        }\n        return rtn;\n    },\n    pop(target) {\n        if (target.length === 0) {\n            return target.pop();\n        }\n        const el = target.pop();\n        if (isViewModel(el)) {\n            removeParent(el[$$], target[$$], target.length);\n        }\n        notifyPropChanged(target, 'length');\n        notifyPropChanged(target, target.length);\n        return el;\n    },\n    push(target, ...args) {\n        if (args.length === 0)\n            return target.push();\n        args.forEach((arg, i) => {\n            if (_argAssert(arg, 'push')) {\n                addParent(arg[$$], target[$$], target.length + i);\n            }\n        });\n        const rtn = target.push(...args);\n        notifyPropChanged(target, 'length');\n        for (let i = target.length - 1 - args.length; i < target.length; i++) {\n            notifyPropChanged(target, i);\n        }\n        return rtn;\n    },\n    fill(target, v) {\n        _argAssert(v, 'fill');\n        target.forEach((it, i) => {\n            if (it === v && !isUndefined(it)) {\n                return;\n            }\n            if (isViewModel(it)) {\n                removeParent(it[$$], target[$$], i);\n            }\n            target[i] = v;\n            if (isViewModel(v)) {\n                addParent(v[$$], target[$$], i);\n            }\n            notifyPropChanged(target, i);\n        });\n        return target[$$].proxy;\n    },\n    reverse(target) {\n        return _arrayReverseSort(target, 'reverse');\n    },\n    sort(target, fn) {\n        return _arrayReverseSort(target, 'sort', fn);\n    },\n    concat(target, arr) {\n        _argAssert(arr, 'concat');\n        return wrapSubArray(target.concat(arr));\n    },\n    filter(target, fn) {\n        return wrapSubArray(target.filter(fn));\n    },\n    slice(target, si, ei) {\n        return wrapSubArray(target.slice(si, ei));\n    },\n    map(target, fn) {\n        return wrapSubArray(target.map(fn), true);\n    }\n};\nexport const ArrayProxyHandler = {\n    get(target, prop) {\n        if (prop in ArrayFns) {\n            const fn = ArrayFns[prop];\n            return function (...args) {\n                return fn(target, ...args);\n            };\n        }\n        else {\n            return target[prop];\n        }\n    },\n    set: arrayPropSetHandler\n};\nfunction wrapProxy(target, isArr) {\n    const vmCore = new ViewModelCoreImpl(target);\n    return vmCore.proxy = new Proxy(target, isArr ? ArrayProxyHandler : (isPromise(target) ? PromiseProxyHandler : ObjectProxyHandler));\n}\nfunction wrapProp(parent, child, property) {\n    // const v = vm[property];\n    if (!isObject(child) || isInnerObj(child)) {\n        return;\n    }\n    if (!($$ in child)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        parent[property] = child = createViewModel(child);\n    }\n    addParent(child[$$], parent[$$], property);\n}\nexport function createViewModel(target) {\n    if (isObject(target)) {\n        // directly return if alreay is ViewModel or inner object(Date/RegExp/Boolean).\n        if (isInnerObj(target) || ($$ in target)) {\n            return target;\n        }\n        const isArr = isArray(target);\n        const rtn = wrapProxy(target, isArr);\n        if (isArr) {\n            for (let i = 0; i < target.length; i++) {\n                wrapProp(target, target[i], i);\n            }\n        }\n        else {\n            for (const k in target) {\n                if (isPublicProperty(k)) {\n                    wrapProp(target, target[k], k);\n                }\n            }\n        }\n        return rtn;\n    }\n    else {\n        return target;\n    }\n}\nexport function createAttributes(attributes) {\n    const vmCore = new ViewModelCoreImpl(attributes);\n    // 初始化时默认的 notifiable 为 false，\n    // 待 RENDER 结束后才修改为 true，用于避免无谓的消息通知。\n    vmCore.__notifiable = false;\n    return (vmCore.proxy = new Proxy(attributes, {\n        set: attrsPropSetHandler\n    }));\n}\n// function handleVMDebug(vm) {\n//   if (!config[CFG_VM_DEBUG]) {\n//     return;\n//   }\n//   let _di = window._VM_DEBUG;\n//   if (!_di) {\n//     _di = window._VM_DEBUG = {\n//       id: 0, vms: []\n//     };\n//   }\n//   vm[VM_DEBUG_ID] = _di.id++;\n//   // if (isComponent(vm) && !(VM_DEBUG_NAME in vm)) {\n//   //   vm[VM_DEBUG_NAME] = `<${vm.constructor.name}>`;\n//   // }\n//   _di.vms.push(vm);\n// }\nexport function createComponent(component) {\n    if ($$ in component) {\n        throw new Error('component has alreay been wrapped.');\n    }\n    // handleVMDebug(component);\n    const vmCore = new ViewModelCoreImpl(component);\n    // 初始化时 Component 默认的 VM_NOTIFIABLE 为 false，\n    // 待 RENDER 结束后才修改为 true，用于避免无谓的消息通知。\n    vmCore.__notifiable = false;\n    return vmCore.proxy = new Proxy(component, {\n        set: componentPropSetHandler\n    });\n}\nexport function vm(target) {\n    if (!isObject(target)) {\n        throw new Error('vm() target must be object or array.');\n    }\n    return createViewModel(target);\n}\nexport function attrs(target) {\n    if (!isObject(target) || isArray(target)) {\n        throw new Error('attrs() traget must be plain object.');\n    }\n    return createAttributes(target);\n}\nexport function watch(vm, propertyPath, handler) {\n    vm[$$].__watch(propertyPath, handler);\n}\nexport function unwatch(vm, propertyPath, handler) {\n    vm[$$].__unwatch(propertyPath, handler);\n}\n//# sourceMappingURL=proxy.js.map","import {  createElement as createElement_a7743eb1190c, __ as ___a7743eb1190c, createElementWithoutAttrs as createElementWithoutAttrs_a7743eb1190c, createTextNode as createTextNode_a7743eb1190c, setText as setText_a7743eb1190c, $$ as $$_a7743eb1190c, addEvent as addEvent_a7743eb1190c, attrs as attrs_a7743eb1190c, assertRenderResults as assertRenderResults_a7743eb1190c } from 'jinge';\nimport { BindHtmlComponent as BindHtmlComponent_19c1b8dc4402undefined__as } from 'jinge';\nexport default function(component) {\n  const vm_0 = component;\n  return [\n  (() => {\n    const el = createElement_a7743eb1190c(\n      \"h2\",\n      component[___a7743eb1190c].compStylePid,\n      \"Bind Html\"\n    );\n    component[___a7743eb1190c].rootNodes.push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_a7743eb1190c(\n      \"div\",\n      component[___a7743eb1190c].compStylePid,\n      createElementWithoutAttrs_a7743eb1190c(\n        \"p\",\n        \"Input\"\n      ),\n      createElementWithoutAttrs_a7743eb1190c(\n        \"p\",\n        (() => {\n          const el = createElement_a7743eb1190c(\n            \"textarea\",\n            {\n              cols: \"80\",\n              rows: \"10\"\n            },\n            (() => {\n              const el = createTextNode_a7743eb1190c();\n              const fn_0 = () => {\n                setText_a7743eb1190c(el, vm_0.content);\n              };\n              fn_0();\n              vm_0[$$_a7743eb1190c].__watch([\"content\"], fn_0, component[$$_a7743eb1190c]);\n              return el;\n            })()\n          );\n          addEvent_a7743eb1190c(el, 'input', function(...args) {vm_0.content = args[0].target.value})\n          return el;\n        })()\n      )\n    );\n    component[___a7743eb1190c].rootNodes.push(el);\n    return el;\n  })(),\n  (() => {\n    const el = createElement_a7743eb1190c(\n      \"div\",\n      component[___a7743eb1190c].compStylePid,\n      createElementWithoutAttrs_a7743eb1190c(\n        \"p\",\n        \"Output Html\"\n      ),\n      createElementWithoutAttrs_a7743eb1190c(\n        \"p\",\n        ...(() => {\n          const attrs = attrs_a7743eb1190c({\n            [___a7743eb1190c]: {\n              debugName: \"attrs_of_<bind-html>\",\n              context: component[___a7743eb1190c].context,\n            },\n            content: null\n          });\n          const fn_0 = () => {\n            attrs.content = vm_0.content;\n          };\n          fn_0();\n          vm_0[$$_a7743eb1190c].__watch([\"content\"], fn_0, component[$$_a7743eb1190c]);\n          const el = BindHtmlComponent_19c1b8dc4402undefined__as.create(attrs);\n          component[___a7743eb1190c].nonRootCompNodes.push(el);\n          return assertRenderResults_a7743eb1190c(el.__render());\n        })()\n      )\n    );\n    component[___a7743eb1190c].rootNodes.push(el);\n    return el;\n  })()\n  ];\n}","import {\n  $$ as __$$_a7743eb1190c\n} from 'jinge';import {\n  Component,\n  bootstrap\n} from 'jinge';\n\nimport _tpl from './app.html';\n\nclass App extends Component {\n  static get template() {\n    return _tpl;\n  }\n  constructor(args) {\n    super(args);\n    const __vm_a7743eb1190c = this[__$$_a7743eb1190c].proxy;\n    __vm_a7743eb1190c.content = '<h4>Hello, World!</h4>';\n  }\n}\n\nbootstrap(App, document.getElementById('root-app'));\n"],"sourceRoot":""}