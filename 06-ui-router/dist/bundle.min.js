!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=6)}([function(t,e,n){"use strict";(function(t){n.d(e,"D",(function(){return s})),n.d(e,"q",(function(){return c})),n.d(e,"H",(function(){return l})),n.d(e,"p",(function(){return h})),n.d(e,"l",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"r",(function(){return d})),n.d(e,"x",(function(){return A})),n.d(e,"h",(function(){return g})),n.d(e,"t",(function(){return m})),n.d(e,"s",(function(){return v})),n.d(e,"C",(function(){return y})),n.d(e,"B",(function(){return _})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return w})),n.d(e,"w",(function(){return C})),n.d(e,"b",(function(){return x})),n.d(e,"z",(function(){return E})),n.d(e,"y",(function(){return O})),n.d(e,"m",(function(){return B})),n.d(e,"n",(function(){return T})),n.d(e,"v",(function(){return I})),n.d(e,"u",(function(){return k})),n.d(e,"L",(function(){return V})),n.d(e,"a",(function(){return S})),n.d(e,"c",(function(){return j})),n.d(e,"K",(function(){return R})),n.d(e,"o",(function(){return N})),n.d(e,"A",(function(){return D})),n.d(e,"I",(function(){return P})),n.d(e,"J",(function(){return M})),n.d(e,"f",(function(){return z})),n.d(e,"e",(function(){return U})),n.d(e,"d",(function(){return F})),n.d(e,"G",(function(){return L})),n.d(e,"g",(function(){return $})),n.d(e,"E",(function(){return W})),n.d(e,"F",(function(){return Y}));var r=n(1),i=n(2),o=n(3),a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},s="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||void 0,u=s.angular||{},c=u.fromJson||JSON.parse.bind(JSON),l=u.toJson||JSON.stringify.bind(JSON),h=u.forEach||function(t,e,n){if(Object(r.a)(t))return t.forEach(e,n);Object.keys(t).forEach((function(n){return e(t[n],n)}))},f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)t[r[i]]=n[r[i]]}return t},p=u.equals||H;function d(t){return t}function A(){}function g(t,e,n,r,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(n())};return(r=r||Object.keys(t())).reduce((function(t,n){var r;return t[n]=i?(r=n,function(){return e[r]=o(r),e[r].apply(null,arguments)}):o(n),t}),e)}var m=function(t,e){return f(Object.create(t),e)},v=Object(i.d)((function(t,e){return-1!==t.indexOf(e)}));var y=Object(i.d)((function(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1);return t}));var _=Object(i.d)((function(t,e){return t.push(e),e}));var b=function(t){return t.slice().forEach((function(e){"function"==typeof e&&e(),y(t,e)}))};function w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=f.apply(void 0,a([{}],e.reverse()));return f(r,E(t||{},Object.keys(r)))}var C=function(t,e){return f(t,e)};function x(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function E(t,e){var n={};for(var r in t)-1!==e.indexOf(r)&&(n[r]=t[r]);return n}function O(t,e){return Object.keys(t).filter(Object(i.f)(v(e))).reduce((function(e,n){return e[n]=t[n],e}),{})}function B(t,e){var n=Object(r.a)(t),i=n?[]:{},o=n?function(t){return i.push(t)}:function(t,e){return i[e]=t};return h(t,(function(t,n){e(t,n)&&o(t,n)})),i}function T(t,e){var n;return h(t,(function(t,r){n||e(t,r)&&(n=t)})),n}var I=k;function k(t,e,n){return n=n||(Object(r.a)(t)?[]:{}),h(t,(function(t,r){return n[r]=e(t,r)})),n}var V=function(t){return Object.keys(t).map((function(e){return t[e]}))},S=function(t,e){return t&&e},j=function(t,e){return t||e},R=function(t,e){return t.concat(e)},N=function(t,e){return Object(r.a)(e)?t.concat(e.reduce(N,[])):D(t,e)};function D(t,e){return t.push(e),t}var P=function(t,e){return v(t,e)?t:D(t,e)},M=function(t){return t.reduce(R,[])},z=q;function q(t,e){return void 0===e&&(e="assert failure"),function(n){var i=t(n);if(!i)throw new Error(Object(r.d)(e)?e(n):e);return i}}function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];for(var n=t.reduce((function(t,e){return Math.min(e.length,t)}),9007199254740991),r=[],i=function(e){switch(t.length){case 1:r.push([t[0][e]]);break;case 2:r.push([t[0][e],t[1][e]]);break;case 3:r.push([t[0][e],t[1][e],t[2][e]]);break;case 4:r.push([t[0][e],t[1][e],t[2][e],t[3][e]]);break;default:r.push(t.map((function(t){return t[e]})))}},o=0;o<n;o++)i(o);return r}function F(t,e){var n,i;if(Object(r.a)(e)&&(n=e[0],i=e[1]),!Object(r.l)(n))throw new Error("invalid parameters to applyPairs");return t[n]=i,t}function L(t){return t.length&&t[t.length-1]||void 0}function $(t,e){return e&&Object.keys(e).forEach((function(t){return delete e[t]})),e||(e={}),f(e,t)}function H(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n=typeof t;if(n!==typeof e||"object"!==n)return!1;var o,a,s=[t,e];if(Object(i.a)(r.a)(s))return a=e,(o=t).length===a.length&&U(o,a).reduce((function(t,e){return t&&H(e[0],e[1])}),!0);if(Object(i.a)(r.b)(s))return t.getTime()===e.getTime();if(Object(i.a)(r.k)(s))return t.toString()===e.toString();if(Object(i.a)(r.d)(s))return!0;if([r.d,r.a,r.b,r.k].map(i.c).reduce((function(t,e){return t||!!e(s)}),!1))return!1;var u={};for(var c in t){if(!H(t[c],e[c]))return!1;u[c]=!0}for(var c in e)if(!u[c])return!1;return!0}var W=function(t){return t.catch((function(t){return 0}))&&t},Y=function(t){return W(o.b.$q.reject(t))}}).call(this,n(5))},function(t,e,n){"use strict";n.d(e,"m",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return h})),n.d(e,"l",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return A})),n.d(e,"k",(function(){return g})),n.d(e,"e",(function(){return m})),n.d(e,"j",(function(){return v}));var r=n(2),i=Object.prototype.toString,o=function(t){return function(e){return typeof e===t}},a=o("undefined"),s=Object(r.f)(a),u=function(t){return null===t},c=Object(r.g)(u,a),l=o("function"),h=o("number"),f=o("string"),p=function(t){return null!==t&&"object"==typeof t},d=Array.isArray,A=function(t){return"[object Date]"===i.call(t)},g=function(t){return"[object RegExp]"===i.call(t)};function m(t){if(d(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(Object(r.f)(f)).length||n.filter(Object(r.f)(l)).length)}return l(t)}var v=Object(r.b)(p,Object(r.j)(Object(r.k)("then"),l))},function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"j",(function(){return a})),n.d(e,"k",(function(){return s})),n.d(e,"l",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return A})),n.d(e,"m",(function(){return g})),n.d(e,"i",(function(){return m}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function i(t){return function e(){if(arguments.length>=t.length)return t.apply(this,arguments);var n=Array.prototype.slice.call(arguments);return e.bind.apply(e,r([this],n))}}function o(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.apply(null,[].slice.call(arguments).reverse())}var s=function(t){return function(e){return e&&e[t]}},u=i((function(t,e,n){return n&&n[t]===e})),c=function(t){return a.apply(null,t.split(".").map(s))},l=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}};function h(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)&&e.apply(null,n)}}function f(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)||e.apply(null,n)}}var p=function(t){return function(e){return e.reduce((function(e,n){return e&&!!t(n)}),!0)}},d=function(t){return function(e){return e.reduce((function(e,n){return e||!!t(n)}),!1)}},A=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},g=function(t){return function(){return t}};function m(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(t,e){return e.reduce((function(e,n){return e[n]=(r=t+"."+n+"()",function(){throw new Error("No implementation for "+r+". The framework specific code did not implement this method.")}),e;var r}),{})},i={$q:void 0,$injector:void 0}},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/_bundles/",n(n.s=12)}([function(t,e,n){"use strict";n.r(e),n.d(e,"h",(function(){return s})),n.d(e,"createElement",(function(){return s})),n.d(e,"cloneElement",(function(){return h})),n.d(e,"createRef",(function(){return P})),n.d(e,"Component",(function(){return N})),n.d(e,"render",(function(){return D})),n.d(e,"rerender",(function(){return A})),n.d(e,"options",(function(){return i}));var r=function(){},i={},o=[],a=[];function s(t,e){var n,s,u,c,l=a;for(c=arguments.length;c-- >2;)o.push(arguments[c]);for(e&&null!=e.children&&(o.length||o.push(e.children),delete e.children);o.length;)if((s=o.pop())&&void 0!==s.pop)for(c=s.length;c--;)o.push(s[c]);else"boolean"==typeof s&&(s=null),(u="function"!=typeof t)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(u=!1)),u&&n?l[l.length-1]+=s:l===a?l=[s]:l.push(s),n=u;var h=new r;return h.nodeName=t,h.children=l,h.attributes=null==e?void 0:e,h.key=null==e?void 0:e.key,void 0!==i.vnode&&i.vnode(h),h}function u(t,e){for(var n in e)t[n]=e[n];return t}function c(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function h(t,e){return s(t.nodeName,u(u({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var f=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function d(t){!t._dirty&&(t._dirty=!0)&&1==p.push(t)&&(i.debounceRendering||l)(A)}function A(){for(var t;t=p.pop();)t._dirty&&j(t)}function g(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function m(t){var e=u({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function v(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)c(n,null),c(r,t);else if("class"!==e||i)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var o in n)o in r||(t.style[o]="");for(var o in r)t.style[o]="number"==typeof r[o]&&!1===f.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,_,a):t.removeEventListener(e,_,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var s=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function _(t){return this._listeners[t.type](i.event&&i.event(t)||t)}var b=[],w=0,C=!1,x=!1;function E(){for(var t;t=b.shift();)i.afterMount&&i.afterMount(t),t.componentDidMount&&t.componentDidMount()}function O(t,e,n,r,i,o){w++||(C=null!=i&&void 0!==i.ownerSVGElement,x=null!=t&&!("__preactattr_"in t));var a=function t(e,n,r,i,o){var a=e,s=C;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=n&&(e.nodeValue=n):(a=document.createTextNode(n),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),B(e,!0))),a.__preactattr_=!0,a;var u,c,l=n.nodeName;if("function"==typeof l)return function(t,e,n,r){for(var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,u=s,c=m(e);i&&!u&&(i=i._parentComponent);)u=i.constructor===e.nodeName;return i&&u&&(!r||i._component)?(S(i,c,3,n,r),t=i.base):(o&&!s&&(R(o),t=a=null),i=k(e.nodeName,c,n),t&&!i.nextBase&&(i.nextBase=t,a=null),S(i,c,1,n,r),t=i.base,a&&t!==a&&(a._component=null,B(a,!1))),t}(e,n,r,i);if(C="svg"===l||"foreignObject"!==l&&C,l=String(l),(!e||!g(e,l))&&(u=l,(c=C?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u)).normalizedNodeName=u,a=c,e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),B(e,!0)}var h=a.firstChild,f=a.__preactattr_,p=n.children;if(null==f){f=a.__preactattr_={};for(var d=a.attributes,A=d.length;A--;)f[d[A].name]=d[A].value}return!x&&p&&1===p.length&&"string"==typeof p[0]&&null!=h&&void 0!==h.splitText&&null==h.nextSibling?h.nodeValue!=p[0]&&(h.nodeValue=p[0]):(p&&p.length||null!=h)&&function(e,n,r,i,o){var a,s,u,c,l,h,f,p,d=e.childNodes,A=[],m={},y=0,_=0,b=d.length,w=0,C=n?n.length:0;if(0!==b)for(var x=0;x<b;x++){var E=d[x],O=E.__preactattr_;null!=(T=C&&O?E._component?E._component.__key:O.key:null)?(y++,m[T]=E):(O||(void 0!==E.splitText?!o||E.nodeValue.trim():o))&&(A[w++]=E)}if(0!==C)for(x=0;x<C;x++){var T;if(l=null,null!=(T=(c=n[x]).key))y&&void 0!==m[T]&&(l=m[T],m[T]=void 0,y--);else if(_<w)for(a=_;a<w;a++)if(void 0!==A[a]&&(h=s=A[a],p=o,"string"==typeof(f=c)||"number"==typeof f?void 0!==h.splitText:"string"==typeof f.nodeName?!h._componentConstructor&&g(h,f.nodeName):p||h._componentConstructor===f.nodeName)){l=s,A[a]=void 0,a===w-1&&w--,a===_&&_++;break}l=t(l,c,r,i),u=d[x],l&&l!==e&&l!==u&&(null==u?e.appendChild(l):l===u.nextSibling?v(u):e.insertBefore(l,u))}if(y)for(var x in m)void 0!==m[x]&&B(m[x],!1);for(;_<=w;)void 0!==(l=A[w--])&&B(l,!1)}(a,p,r,i,x||null!=f.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||y(t,r,n[r],n[r]=void 0,C);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||y(t,r,n[r],n[r]=e[r],C)}(a,n.attributes,f),C=s,a}(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--w||(x=!1,o||E()),a}function B(t,e){var n=t._component;n?R(n):(null!=t.__preactattr_&&c(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||v(t),T(t))}function T(t){for(t=t.lastChild;t;){var e=t.previousSibling;B(t,!0),t=e}}var I=[];function k(t,e,n){var r,i=I.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),N.call(r,e,n)):((r=new N(e,n)).constructor=t,r.render=V);i--;)if(I[i].constructor===t)return r.nextBase=I[i].nextBase,I.splice(i,1),r;return r}function V(t,e,n){return this.constructor(t,n)}function S(t,e,n,r,o){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&t.base?d(t):j(t,1,o)),c(t.__ref,t))}function j(t,e,n,r){if(!t._disable){var o,a,s,c=t.props,l=t.state,h=t.context,f=t.prevProps||c,p=t.prevState||l,d=t.prevContext||h,A=t.base,g=t.nextBase,v=A||g,y=t._component,_=!1,C=d;if(t.constructor.getDerivedStateFromProps&&(l=u(u({},l),t.constructor.getDerivedStateFromProps(c,l)),t.state=l),A&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,h)?_=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,h),t.props=c,t.state=l,t.context=h),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!_){o=t.render(c,l,h),t.getChildContext&&(h=u(u({},h),t.getChildContext())),A&&t.getSnapshotBeforeUpdate&&(C=t.getSnapshotBeforeUpdate(f,p));var x,T,I=o&&o.nodeName;if("function"==typeof I){var V=m(o);(a=y)&&a.constructor===I&&V.key==a.__key?S(a,V,1,h,!1):(x=a,t._component=a=k(I,V,h),a.nextBase=a.nextBase||g,a._parentComponent=t,S(a,V,0,h,!1),j(a,1,n,!0)),T=a.base}else s=v,(x=y)&&(s=t._component=null),(v||1===e)&&(s&&(s._component=null),T=O(s,o,h,n||!A,v&&v.parentNode,!0));if(v&&T!==v&&a!==y){var N=v.parentNode;N&&T!==N&&(N.replaceChild(T,v),x||(v._component=null,B(v,!1)))}if(x&&R(x),t.base=T,T&&!r){for(var D=t,P=t;P=P._parentComponent;)(D=P).base=T;T._component=D,T._componentConstructor=D.constructor}}for(!A||n?b.push(t):_||(t.componentDidUpdate&&t.componentDidUpdate(f,p,C),i.afterUpdate&&i.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);w||r||E()}}function R(t){i.beforeUnmount&&i.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?R(n):e&&(null!=e.__preactattr_&&c(e.__preactattr_.ref,null),t.nextBase=e,v(e),I.push(t),T(e)),c(t.__ref,null)}function N(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function D(t,e,n){return O(n,t,{},!1,e,!1)}function P(){return{}}u(N.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=u(u({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),d(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),j(this,2)},render:function(){}});var M={h:s,createElement:s,cloneElement:h,createRef:P,Component:N,render:D,rerender:A,options:i};e.default=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.easing={easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInOutExpo:function(t,e,n,r){return 0==t?e:t==r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0==t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)+e)},easeOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0==t?e:1==(t/=r)?e+n:(o||(o=.3*r),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/o)+n+e)},easeInOutElastic:function(t,e,n,r){var i=1.70158,o=0,a=n;return 0==t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),a<Math.abs(n)?(a=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/o)*.5+n+e)},easeInOutBack:function(t,e,n,r,i){return null==i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(53);e.RENDERER_PRESETS={Tree:{layoutFn:u,sortNodesFn:s,labelRenderFn:p,edgeRenderFn:A},Cluster:{layoutFn:c,sortNodesFn:s,labelRenderFn:p,edgeRenderFn:A},Radial:{layoutFn:l,sortNodesFn:a,labelRenderFn:f,edgeRenderFn:d}};var o=e.RENDERER_PRESETS.Tree;function a(t,e){var n=e.layoutY-t.layoutY;return 0!==n?n:t.layoutX-e.layoutX}function s(t,e){var n=t.layoutY-e.layoutY;return 0!==n?n:t.layoutX-e.layoutX}function u(t){var e=i.hierarchy(t);return h(i.tree()(e))}function c(t){var e=i.hierarchy(t);return h(i.cluster()(e))}function l(t){var e=i.hierarchy(t);i.cluster().size([360,.4]).separation((function(t,e){return(t.parent==e.parent?1:2)/t.depth}))(e).each((function(t){var e,n,r,i,o=(e=t.x,n=t.y,r=(e-90)/180*Math.PI,{x:.5+(i=n)*Math.cos(r),y:.5+i*Math.sin(r)}),a=t.data;a.layoutX=t.x,a.layoutY=t.y,a.x=o.x,a.y=o.y}))}function h(t){return t.each((function(t){t.data.layoutX=t.data.x=t.x,t.data.layoutY=t.data.y=t.y})),t}function f(t,e,n,i){var o=i.baseFontSize,a=i.zoom,s=o*a,u=n.name.split("."),c=u.pop();"**"==c&&(c=u.pop()+".**");var l=n.layoutX||0,h=l<180==!!n.children?"start":"end",f="rotate("+(l<180?l-90:l+90)+"),translate("+("start"===h?15:-15)*a+", 0)";return r.h("text",{className:"name","text-anchor":h,transform:f,"font-size":s}," ",c," ")}function p(t,e,n,i){i.baseRadius;var o=i.baseFontSize,a=(i.baseStrokeWidth,i.baseNodeStrokeWidth,i.zoom),s=o*a,u=n.name.split("."),c=u.pop();"**"==c&&(c=u.pop()+".**");var l="rotate(-15),translate(0, "+-15*a+")";return r.h("text",{className:"name","text-anchor":"middle",transform:l,"font-size":s}," ",c," ")}function d(t,e){var n=e.baseStrokeWidth*e.zoom;return r.h("path",{d:function(t){return"M"+[t.animX,t.animY]+" "+[t._parent.animX,t._parent.animY]}(t),"stroke-width":n,className:"link"})}function A(t,e){var n=e.baseStrokeWidth*e.zoom;return r.h("path",{d:function(t){var e=t.animX,n=t.animY,r=t._parent.animX,i=t._parent.animY,o=(n+i)/2;return"M "+e+" "+n+" C "+e+" "+o+", "+r+" "+o+", "+r+" "+i}(t),"stroke-width":n,className:"link"})}e.DEFAULT_RENDERER={baseRadius:10,baseFontSize:12,baseStrokeWidth:2,baseNodeStrokeWidth:2,zoom:1,layoutFn:o.layoutFn,sortNodesFn:o.sortNodesFn,labelRenderFn:o.labelRenderFn,edgeRenderFn:o.edgeRenderFn},e.BOTTOM_TO_TOP_SORT=a,e.TOP_TO_BOTTOM_SORT=s,e.TREE_LAYOUT=u,e.CLUSTER_LAYOUT=c,e.RADIAL_LAYOUT=l,e.RADIAL_TEXT=f,e.SLANTED_TEXT=p,e.RADIAL_EDGE=d,e.TREE_EDGE=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maxLength=function(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."},e.stringify=function(t){var e=[];return JSON.stringify(t,(function(t,n){return function(t){if("object"==typeof t){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return void 0===(n=t)?"undefined":null===n?"null":"object"==typeof n&&"function"==typeof n.then?"[Promise]":n;var n}(n)})).replace(/\\"/g,'"')}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={current:null,states:[],deregisterFn:null},e.selectState=function(t){var n=e.props.router.stateService,r=t.target.value;r&&n.go(r)},e}return i(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props.router,n=function(){return t.setState({states:e.stateRegistry.get().map((function(t){return t.name}))})};e.stateRegistry.onStatesChanged&&(this.deregisterStateListenerFn=e.stateRegistry.onStatesChanged(n));var r=e.transitionService.onSuccess({},(function(e){return t.setState({current:e.to().name})}));this.setState({current:e.globals.current.name,states:[],deregisterFn:r}),n()},e.prototype.componentWillUnmount=function(){this.state.deregisterFn&&this.state.deregisterFn(),this.deregisterStateListenerFn&&this.deregisterStateListenerFn()},e.prototype.render=function(){return o.h("select",{value:this.state.current||"",onChange:this.selectState,style:{maxWidth:120}},o.h("option",{value:""},"Choose a state"),this.state.states.map((function(t){return o.h("option",{key:t,value:t},t)})))},e}(o.Component);e.StateSelector=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=function(t){return function(e){return!!new RegExp("\\b"+t+"\\b").exec(e.className)}},e.addClass=function(t){return function(e){return e.className=e.className+" "+t}},e.removeClass=function(t){return function(e){return e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}},e.toggleClass=function(t){return function(n){e.hasClass(t)(n)?e.removeClass(t)(n):e.addClass(t)(n)}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(16),u=n(7),c=n(1),l=n(2),h=n(17),f={label:"",highlight:!1,active:!1,future:!1,retained:!1,entered:!1,exited:!1,inactive:!0},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={nodes:[],layout:{}},e.nodes=[],e.unmounted=!1,e.cancelCurrentAnimation=function(){return null},e.doLayoutAnimation=function(){e.cancelCurrentAnimation();var t=e.getNodes();if(t.length){var n=t.filter((function(t){return""===t.name}))[0];e.props.renderer.layoutFn(n),t.filter((function(t){return!t.visible})).forEach((function(t){for(var e=t._parent;e&&!e.visible;)e=e._parent;e&&(t.x=e.x,t.y=e.y)}));var r=e.dimensions(),i=t.map((function(t){return{x:t.animX||e.props.width/2,y:t.animY||e.props.height/2}})).map((function(t){return[t.x,t.y]})).reduce((function(t,e){return t.concat(e)}),[]),o=t.map((function(t){return[(n=t.x,n*r.scaleX+r.offsetX),(e=t.y,e*r.scaleY+r.offsetY)];var e,n})).reduce((function(t,e){return t.concat(e)}),[]);e.cancelCurrentAnimation=u.animatePath(o,i,500,(function(n){for(var r=n.length/2,i=0;i<r&&i<t.length;i++){var o=t[i];o.animX=n[2*i],o.animY=n[2*i+1]}e.setState({nodes:t})}),(function(){return null}),c.easing.easeInOutExpo)}},e.nodeForState=function(t,e){return t.filter((function(t){return t.name===e.name}))[0]},e.updateStates=function(){var t=e.props.router.stateService.get().map((function(t){return t.$$state()})),n=e.nodes.map(Object.getPrototypeOf),r=t.filter((function(t){return-1===n.indexOf(t)})),i=n.filter((function(e){return-1===t.indexOf(e)})),o=e.nodes=e.nodes.slice();(r.length||i.length)&&(r.map((function(t){return h.createStateVisNode(t)})).forEach((function(t){return o.push(t)})),i.map((function(t){return o.filter((function(e){return t.isPrototypeOf(e)}))})).reduce((function(t,e){return t.concat(e)}),[]).forEach((function(t){return o.splice(o.indexOf(t),1)})),o.forEach((function(t){return t._children=[]})),o.forEach((function(t){if(t&&t.parent){var n=e.nodeForState(o,t.parent);n&&(n._children.push(t),t._parent=n)}})),o.forEach((function(t){return t.future=!!t.lazyLoad}))),e.unmounted||e.deregisterStateListenerFn||setTimeout(e.updateStates,1e3),e.setState({nodes:o},e.doLayoutAnimation)},e.updateNodes=function(t){if(e.nodes.map((function(t){return Object.assign(t,f)})).forEach((function(t){return t.future=!!t.lazyLoad})),t){var n=t.treeChanges(),r=function(t){return e.nodeForState(e.nodes,t.state)};n.retained.concat(n.entering).map(r).filter((function(t){return t})).forEach((function(t){return t.entered=!0})),n.retained.map(r).filter((function(t){return t})).forEach((function(t){return t.retained=!0})),n.exiting.map(r).filter((function(t){return t})).forEach((function(t){return t.exited=!0})),n.to.slice(-1).map(r).filter((function(t){return t})).forEach((function(t){t.active=!0,t.label="active"}))}e.setState({nodes:e.nodes},e.doLayoutAnimation)},e}return i(e,t),e.create=function(t,n,r){void 0===r&&(r={}),n||((n=document.createElement("div")).id="uirStateTree");var i=o({},r,{router:t}),s=function(){document.body.appendChild(n),a.render(a.h(e,i),n)};return"interactive"===document.readyState||"complete"===document.readyState?s():document.addEventListener("DOMContentLoaded",s,!1),n},e.prototype.componentDidMount=function(){var t=this,e=this.props.router.stateRegistry,n=this.props.router.transitionService;e.onStatesChanged&&(this.deregisterStateListenerFn=e.onStatesChanged((function(){return t.updateStates()}))),this.updateStates(),this.deregisterHookFn=n.onSuccess({},(function(e){return t.updateNodes(e)})),this.updateNodes();var r=this.props.router.globals.successfulTransitions.peekTail();r&&this.updateNodes(r);var i=this.props.router.globals.transition;i&&i.promise.then((function(){return t.updateNodes(i)}))},e.prototype.componentWillReceiveProps=function(){var t=this.state.nodes;this.setState({nodes:t},this.updateStates)},e.prototype.dimensions=function(){var t={},e=this.props.height||500,n=this.props.width||500;return{radius:15,offsetX:0,offsetY:30,scaleX:t.scaleX||n-0,scaleY:t.scaleY||e-60}},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.deregisterHookFn&&this.deregisterHookFn()},e.prototype.getNodes=function(){return this.nodes.slice().sort(this.props.renderer.sortNodesFn)},e.prototype.render=function(){var t=this,e=this.props.renderer,n=this.getNodes().filter((function(t){return t.visible&&t.animX&&t.animY}));return a.h("div",{className:"statevis"},a.h("svg",{width:this.props.width,height:this.props.height},n.filter((function(t){return!!t.parent})).map((function(t){return e.edgeRenderFn(t,e)})),n.map((function(e){return a.h(s.StateNode,{key:e.name,node:e,router:t.props.router,renderer:t.props.renderer,doLayout:t.doLayoutAnimation.bind(t),x:e.animX,y:e.animY})}))))},e.defaultProps={height:350,width:250,renderer:l.DEFAULT_RENDERER},e}(a.Component);e.StateTree=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(52);e.animatePath=function(t,e,n,o,a,s){void 0===a&&(a=function(){}),void 0===s&&(s=r.easing.easeOutElastic);var u=null,c=i.interpolateArray(e,t),l=function(t){if(-1===n)return a();null==u&&(u=t);var e=t-u,r=1;e<n&&(requestAnimationFrame(l),r=s(e,0,1,n)),o(c(r))};return requestAnimationFrame(l),function(){n=-1}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,c=0,l=[],h=n(28);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function d(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function A(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=n.nc;r&&(t.attrs.nonce=r)}return m(e,t.attrs),d(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function v(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=u||(u=g(e)),r=b.bind(null,n,a,!1),i=b.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),d(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){A(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){A(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}for(t&&f(p(t,e),e),i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function b(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(11),s=n(34),u=n(3),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.tuple,n=e.key,r=e.val,i=t.classes,c=t.modalTitle,l=function(){return a.Modal.show(c,n,r,s.ResolveData)};return o.h("div",{className:i.div},o.h("div",{className:i.key},n,":"),o.h("div",{className:i.val},void 0===r?o.h("span",{className:"uirTranVis_code"},"undefined"):null===r?o.h("span",{className:"uirTranVis_code"},"null"):"string"==typeof r?o.h("span",{className:"uirTranVis_code"},'"',u.maxLength(100,r),'"'):"number"==typeof r||"boolean"==typeof r?o.h("span",{className:"uirTranVis_code"},r.toString()):Array.isArray(r)?o.h("span",{className:"link",onClick:l},"[Array]"):"object"==typeof r?o.h("span",{className:"link",onClick:l},"[Object]"):"function"==typeof r.toString?o.h("span",null,u.maxLength(100,r.toString())):void 0))},e}(o.Component);e.KeyValueRow=c;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={collapseFalsy:!0},e}return i(e,t),e.prototype.makeBuckets=function(t,e){var n=t.map((function(t){return{label:t.label,is:function(e){return e===t.value},value:t.value,count:0,data:{}}})).concat({label:"default",is:function(){return!0},count:0,data:{}});return Object.keys(e).forEach((function(t){var r=n.find((function(n){return n.is(e[t])}));r.data[t]=e[t],r.value=e[t],r.count++})),n},e.prototype.render=function(){var t=this,n=this.props,r=n.data,i=n.classes,a=n.modalTitle,s=this.props.groupedValues||e.falsyGroupDefinitions,u=this.props.enableGroupToggle||!1,l=this.state.collapseFalsy,h=this.makeBuckets(s,r),f=h.find((function(t){return"default"===t.label})),p=h.filter((function(t){return!!t.count&&t!==f})),d=p.reduce((function(t,e){return t+e.count}),0),A=Object.keys(f.data).map((function(t){return{key:t,val:f.data[t]}})),g=p.map((function(t){return{key:Object.keys(t.data).sort().join(", "),val:t.value}})),m=u&&d>1;return o.h("div",{className:"uirTranVis_keysAndValues"},A.map((function(t){return o.h(c,{key:t.key,tuple:t,classes:i,modalTitle:a})})),m&&!!g.length&&o.h("a",{href:"javascript:void(0)",onClick:function(){return t.setState({collapseFalsy:!l})},className:"uirTranVis_keyValue"},l?"show":"hide"," ",d," ",p.map((function(t){return t.label})).join(" or ")," ","parameter values"),(!m||!this.state.collapseFalsy)&&g.map((function(t){return o.h(c,{key:t.key,tuple:t,classes:i,modalTitle:a})})))},e.falsyGroupDefinitions=[{value:void 0,label:"undefined"},{value:null,label:"null"},{value:"",label:"empty string"}],e}(o.Component);e.KeysAndValues=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.componentDidMount=function(){var t=this._ref;setTimeout((function(){var e=t.getElementsByClassName("uir-fade");[].slice.apply(e).forEach((function(t){return t.className+=" in"}))}),35)},e.prototype.render=function(){var t=this;return o.h("div",{ref:function(e){return t._ref=e}},o.h("div",{className:"uirTranVis_modal-backdrop uir-fade",style:{zIndex:1040}}),o.h("div",{tabIndex:-1,className:"uirTranVis_modal uir-fade",style:{zIndex:1050,display:"block"}},o.h("div",{className:"uirTranVis_modal-dialog modal-lg"},o.h("div",{className:"uirTranVis_modal-content"},this.props.children))))},e.show=function(t,e,n,r){var i=document.body.querySelector("#uirTranVis_modal");i||((i=document.createElement("div")).id="uirTranVis_modal",document.body.appendChild(i));var a=function(){return null};o.render(o.h(r,{close:function(){return o.render(o.h(a,null),document.body,i)},modalTitle:t,id:e,value:n}),i)},e}(o.Component);e.Modal=a},function(t,e,n){t.exports=n(13)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(4);e.StateSelector=i.StateSelector;var o=n(14);e.StateVisualizer=o.StateVisualizer;var a=n(6);e.StateTree=a.StateTree;var s=n(29);function u(t){r.render(r.h((function(){return null}),null),document.body,t)}e.TransitionVisualizer=s.TransitionVisualizer,e.visualizer=function(t){return new l(t,{})};var c={state:!0,transition:!0},l=function(){function t(t,e){this.router=t,this.name="visualizer",(e=Object.assign({},c,e)).state&&(this.stateVisualizerEl=o.StateVisualizer.create(t)),e.transition&&(this.transitionVisualizerEl=s.TransitionVisualizer.create(t))}return t.prototype.dispose=function(t){this.stateVisualizerEl&&u(this.stateVisualizerEl),this.transitionVisualizerEl&&u(this.transitionVisualizerEl),this.stateVisualizerEl=null,this.transitionVisualizerEl=null},t}();e.Visualizer=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(15),s=n(6),u=n(18),c=n(25),l=n(2);n(26);var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={height:null,width:null,renderer:l.DEFAULT_RENDERER,minimized:!1},e.deregisterFns=[],e.svgWidth=function(){return e.props.width||e.state.width||350},e.svgHeight=function(){return(e.props.height||e.state.height||250)-25},e}return i(e,t),e.create=function(t,n,r){void 0===r&&(r={}),n||((n=document.createElement("div")).id="uirStateVisualizer");var i=Object.assign({},r,{router:t,minimizeAfter:2500}),a=function(){document.body.appendChild(n),o.render(o.h(e,i),n)};return"interactive"===document.readyState||"complete"===document.readyState?a():document.addEventListener("DOMContentLoaded",a,!1),n},e.prototype.dispose=function(){o.render(o.h((function(){return null}),null),document.body,this.el)},e.prototype.handleRendererChange=function(t){this.setState({renderer:t})},e.prototype.cancelAutoMinimize=function(t){this.minimizeTimeout&&(clearTimeout(this.minimizeTimeout),this.minimizeTimeout=null)},e.prototype.componentWillUnmount=function(){this.deregisterFns.forEach((function(t){return t()}))},e.prototype.draggable=function(t){var e=this.windowEl.querySelector(".uirStateVisControls"),n=this.windowEl.querySelector(".statevis");this.deregisterFns.push(a.draggable(e,a.dragActions.move(this.windowEl))),this.deregisterFns.push(a.draggable(n,a.dragActions.move(this.windowEl)))},e.prototype.componentDidMount=function(){var t=this;this.draggable(!0),this.props.minimizeAfter&&(this.minimizeTimeout=setTimeout((function(){return t.setState({minimized:!0})}),this.props.minimizeAfter))},e.prototype.render=function(){var t=this,e=this.state.minimized;return o.h("div",{ref:function(e){return t.el=e},onMouseDown:this.cancelAutoMinimize.bind(this),onMouseEnter:this.cancelAutoMinimize.bind(this)},o.h(c.StateVisWindow,{minimized:this.state.minimized,ref:function(e){return t.windowEl=e&&e.el||t.windowEl},onResize:function(e){var n=e.width,r=e.height;return t.setState({width:n,height:r})}},o.h("div",{onClick:function(){return t.setState({minimized:!1})},className:"uirStateVisWindowOverlay "+(e?"minimized":"")}),o.h(u.Controls,{router:this.props.router,onRendererChange:this.handleRendererChange.bind(this),onMinimize:function(){return t.setState({minimized:!0})},onClose:function(){return t.dispose()}}),o.h(s.StateTree,{router:this.props.router,width:this.svgWidth(),height:this.svgHeight(),renderer:this.state.renderer})))},e}(o.Component);e.StateVisualizer=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.dragActions={move:function(t){return function(e,n,r){r.initialClientX,r.initialClientY;var i=r.lastClientX,o=r.lastClientY,a=r.newClientX,s=r.newClientY,u=t,c=u.getBoundingClientRect(),l=c.left,h=c.top,f=a-i,p=s-o;u.style.right="auto",u.style.bottom="auto",u.style.left=l+f+"px",u.style.top=h+p+"px"}}},e.draggable=function(t,e){var n=!1,i=0,o=0,a=0,s=0,u=function(r){n=!0,a=i=r.clientX,s=o=r.clientY;var u=function(r){if(n){r.preventDefault();var u=r.clientX,c=r.clientY;e(t,r,{initialClientX:i,initialClientY:o,lastClientX:a,lastClientY:s,newClientX:u,newClientY:c}),a=u,s=c}},c=function(t){n=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",c)};return r.addClass("draggable")(t),t.addEventListener("mousedown",u),function(){return t.removeEventListener("mousedown",u)}}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goTimeout=null,e.handleCollapseClicked=function(t){clearTimeout(e.goTimeout),e.props.node._collapsed=!e.props.node._collapsed,e.props.doLayout()},e.handleGoClicked=function(t){clearTimeout(e.goTimeout);var n=e.props.node.name;n=n.replace(/\.\*\*$/,""),e.goTimeout=setTimeout((function(){return e.props.router.stateService.go(n)}),200)},e}return i(e,t),e.prototype.render=function(){var t=this.props.renderer,e=this.props,n=e.node,r=e.x,i=e.y,a=t.baseRadius,s=t.baseFontSize,u=t.baseNodeStrokeWidth,c=t.zoom,l=a*c,h=s*c,f=u*(n.entered?1.5:1)*c,p=["entered","retained","exited","active","inactive","future","highlight","collapsed"].reduce((function(t,e){return t+(n[e]?" "+e+" ":"")}),""),d=n.collapsed?n.totalDescendents:0;return o.h("g",{transform:"translate("+r+", "+i+")",onClick:this.handleGoClicked,onDblClick:this.handleCollapseClicked},o.h("circle",{className:p,"stroke-width":f,r:l}),n.collapsed?o.h("text",{className:"label","text-anchor":"middle","font-size":h*(d<10?1:.8)},"(",d,")"):"",t.labelRenderFn(r,i,n,t),o.h("text",{className:"label","text-anchor":"middle","font-size":h,transform:"translate(0, "+2*l+")"},n.label))},e}(o.Component);e.StateNode=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createStateVisNode=function(t){var e=Object.create(t);return Object.defineProperty(e,"visible",{get:function(){return!!this.entered||!(this._parent&&(this._parent.collapsed||!this._parent.visible))}}),Object.defineProperty(e,"children",{get:function(){return this._children.filter((function(t){return t.visible}))}}),Object.defineProperty(e,"totalDescendents",{get:function(){return this._children.reduce((function(t,e){return t+e.totalDescendents}),this._children.length)}}),Object.defineProperty(e,"collapsed",{get:function(){return!this.entered&&this._collapsed&&this._children.length}}),e}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(4),s=n(19),u=n(20),c=n(21),l=n(22),h=n(23),f=(n(24),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showRendererPrefs:!1},e}return i(e,t),e.prototype.render=function(){return o.h("div",{style:{width:"100%"}},o.h("div",{className:"uirStateVisControls"},o.h(a.StateSelector,{router:this.props.router}),o.h("div",{style:{marginLeft:"auto",cursor:"pointer"},className:"uirStateVisIcons"},o.h("span",{className:"uirStateVisHover"},o.h(h.Help,{size:"16px"}),o.h("div",{className:"hoverBlock"},o.h("ul",null,o.h("li",null,"Click a node to activate that state."),o.h("li",null,"Select a state from the dropdown to activate that state."),o.h("li",null,"Double click a node to auto-collapse that section of the tree when inactive. Collapsed nodes are displayed with a dotted outline and the count of collapsed children."),o.h("li",null,"Lazy loaded states (including future states) are displayed with a dashed outline.")))),o.h("span",{className:"uirStateVisHover"},o.h(l.Gear,{size:"16px"}),o.h("div",{className:"hoverBlock"},o.h(s.LayoutPrefs,{onRendererChange:this.props.onRendererChange}))),o.h("span",{className:"uirStateVisHover",onClick:this.props.onMinimize},o.h(u.ChevronDown,{size:"16px"}),o.h("div",null,o.h("span",{style:{float:"right"}},"Minimize")),o.h("div",null,"Minimize")),o.h("span",{className:"uirStateVisHover",onClick:this.props.onClose},o.h(c.Close,{size:"16px"}),o.h("div",null,o.h("span",{style:{float:"right"}},"Close"))))))},e}(o.Component));e.Controls=f},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(2),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={renderer:s.DEFAULT_RENDERER,presetName:"Tree"},e}return i(e,t),e.prototype.componentDidMount=function(){this.props.onRendererChange(this.state.renderer)},e.prototype.handleZoom=function(t){var e=t.target,n=parseFloat(e.value),r=o({},this.state.renderer,{zoom:n});this.setState({renderer:r}),this.props.onRendererChange(r)},e.prototype.handleLayout=function(t){var e=t.target.value,n=s.RENDERER_PRESETS[e],r=o({},this.state.renderer,n);this.setState({renderer:r,presetName:e}),this.props.onRendererChange(r)},e.prototype.render=function(){return a.h("div",{className:"uirStateVisLayoutPrefs",style:{display:"flex",flexFlow:"column nowrap"},onMouseDown:function(t){return t.stopPropagation()}},a.h("div",{style:{flex:"1 1 auto",display:"flex",flexFlow:"row nowrap",alignItems:"center"}},a.h("div",null,"Layout:"),a.h("select",{style:{marginLeft:"auto",maxWidth:"100px"},onChange:this.handleLayout.bind(this),value:this.state.presetName},Object.keys(s.RENDERER_PRESETS).map((function(t){return a.h("option",{value:t},t)})))),a.h("div",{style:{flex:"1 1 auto",display:"flex",flexFlow:"row nowrap",alignItems:"center"}},a.h("span",null,"Node size:"),a.h("input",{style:{marginLeft:"auto"},value:""+this.state.renderer.zoom,type:"range",min:"0.3",max:"3.0",step:"0.1",onInput:this.handleZoom.bind(this)}),a.h("span",null,this.state.renderer.zoom,"x")))},e}(a.Component);e.LayoutPrefs=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.ChevronDown=function(t){var e=t.size;return r.h("svg",{width:e,height:e,viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},r.h("path",{d:"M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.Close=function(t){var e=t.size;return r.h("svg",{width:e,height:e,viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},r.h("path",{d:"M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.Gear=function(t){var e=t.size;return r.h("svg",{width:e,height:e,viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},r.h("path",{d:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.Help=function(t){var e=t.size;return r.h("svg",{width:e,height:e,viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},r.h("path",{d:"M1008 1200v160q0 14-9 23t-23 9h-160q-14 0-23-9t-9-23v-160q0-14 9-23t23-9h160q14 0 23 9t9 23zm256-496q0 50-15 90t-45.5 69-52 44-59.5 36q-32 18-46.5 28t-26 24-11.5 29v32q0 14-9 23t-23 9h-160q-14 0-23-9t-9-23v-68q0-35 10.5-64.5t24-47.5 39-35.5 41-25.5 44.5-21q53-25 75-43t22-49q0-42-43.5-71.5t-95.5-29.5q-56 0-95 27-29 20-80 83-9 12-25 12-11 0-19-6l-108-82q-10-7-12-20t5-23q122-192 349-192 129 0 238.5 89.5t109.5 214.5zm-368-448q-130 0-248.5 51t-204 136.5-136.5 204-51 248.5 51 248.5 136.5 204 204 136.5 248.5 51 248.5-51 204-136.5 136.5-204 51-248.5-51-248.5-136.5-204-204-136.5-248.5-51zm768 640q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"}))}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAeklEQVQ4je2PwQmAMBAEpwuJLfkSJQ+txBKsT0RsxQj6uUAMXkTx4cOF+2R39i7w61X1wACYRMZIpo+NDthkJqXEiOdzXWiWgEuUxLAT5qAaWILQDORABozB+wq02h/tySXxZqvB2iXh5uYK1kpuwV6VlDyCvQqZD2sHTn0xdO0A9D4AAAAASUVORK5CYII="},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(5),s=function(t){function e(e){var n=t.call(this,e)||this;return n.deregisterFns=[],n.minimize=function(){var t=n.el,e=t.getBoundingClientRect();n.top=e.top+"px",n.left=e.left+"px",n.right=window.innerWidth-e.right+"px",n.bottom=window.innerHeight-e.bottom+"px",t.style.top="auto",t.style.left="auto",t.style.right=n.right,t.style.bottom=n.bottom;var r=function(){t.style.top="auto",t.style.left="auto",t.style.right=n.right,t.style.bottom=n.bottom,a.toggleClass("minimized")(t),t.removeEventListener("click",r);var e=function(n){var r=t.getBoundingClientRect();t.style.top=r.top+"px",t.style.left=r.left+"px",t.style.right="auto",t.style.bottom="auto",t.removeEventListener("transitionend",e)};t.addEventListener("transitionend",e)};return a.addClass("minimized")(t),setTimeout((function(){return t.style.right=t.style.bottom="0"}),50),r},n.state={unminimize:null},n}return i(e,t),e.prototype.componentWillReceiveProps=function(t){if(this.props.minimized!==t.minimized){var e=this.state.unminimize;e?this.setState({unminimize:null},(function(){return e()})):this.setState({unminimize:this.minimize()})}},e.prototype.componentWillUnmount=function(){this.deregisterFns.forEach((function(t){return t()}))},e.prototype.componentDidMount=function(){"function"==typeof MutationObserver&&this.monitorResizeEvents()},e.prototype.monitorResizeEvents=function(){var t=this,e=this.el.style.width,n=this.el.style.height,r=new MutationObserver((function(r){r.forEach((function(r){if("style"==r.attributeName){var i=r.target,o=i.style.width,a=i.style.height;if(o!==e||a!==n){e=o,n=a;var s=parseInt(o.replace(/px$/,"")),u=parseInt(a.replace(/px$/,""));t.props.onResize({width:s,height:u})}}}))}));r.observe(this.el,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["style"]}),this.deregisterFns.push((function(){return r.disconnect()}))},e.prototype.render=function(){var t=this;return o.h("div",{className:"uirStateVisContainer",ref:function(e){return t.el=e}},this.props.children)},e}(o.Component);e.StateVisWindow=s},function(t,e,n){var r=n(27);"string"==typeof r&&(r=[[t.i,r,""]]),n(9)(r,{hmr:!1,attrs:{nonce:"uiroutervisualizer"},transform:void 0,insertInto:void 0}),r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(8)(!0)).push([t.i,'/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\n#uirStateVisualizer {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 16px;\n    font-family: sans-serif;\n    font-weight: normal;\n    vertical-align: baseline;\n    line-height: 1;\n    display: block;\n    box-sizing: content-box;\n}\n#uirStateVisualizer svg {\n    box-sizing: content-box;\n}\n\n.uirStateVisContainer {\n    z-index: 3;\n    position: fixed;\n    right: 32px;\n    bottom: 64px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: rgba(255, 255, 255, 0.8);\n    transform: scale(1);\n    transform-origin: right bottom;\n    transition: right 0.5s ease, bottom 0.5s ease, transform 0.5s ease;\n    overflow: hidden;\n    resize: both;\n}\n\n.uirStateVisContainer.minimized {\n    cursor: pointer;\n    transform: scale(0.25);\n    z-index: 60;\n}\n\n.uirStateVisContainer:hover {\n    outline: 2px solid rgba(0,0,0,0.35)\n}\n\n.uirStateVisContainer:hover .uirStateVisControls {\n    visibility: visible;\n}\n\n.uirStateVisContainer .uirStateVisControls {\n    visibility: hidden;\n    display: flex;\n    width: 100%;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    flex: 1 0 auto;\n    z-index: 1;\n}\n\n.uirStateVisContainer .uirStateVisControls .uirStateVisIcons span svg {\n    padding: 3px;\n    fill: #777777;\n}\n\n.uirStateVisContainer .uirStateVisControls .uirStateVisIcons span:hover svg {\n    fill: black;\n}\n\n.uirStateVisHover > div {\n    transition: opacity 500ms ease;\n    opacity: 0;\n    height: 0;\n    padding: 0;\n\n    position: absolute;\n    top: 0;\n    right: 0;\n    overflow: hidden;\n\n    margin-top: 26px;\n    font-size: 14px;\n}\n\n.uirStateVisHover > div.hoverBlock {\n    left: 0;\n    border-bottom: none;\n    background: white;\n}\n\n.uirStateVisHover:hover > div.hoverBlock {\n    border-bottom: 2px solid lightgrey;\n}\n\n\n.uirStateVisHover:hover > div {\n    opacity: 1;\n    height: auto;\n}\n\n.uirStateVisHover .uirStateVisLayoutPrefs {\n    padding: 12px 24px;\n}\n\n.uirStateVisContainer .statevis {\n    flex: 1 1 auto;\n    transition: all 1s ease;\n}\n\n.uirStateVisWindowOverlay {\n    display: none;\n}\n\n.minimized .uirStateVisWindowOverlay {\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0; \n    top: 0;\n    bottom: 0;\n    z-index: 10;\n}\n  \n.statevis circle {\n    /*r: 10;*/\n    fill: #fff;\n    stroke: grey;\n    /*stroke-width: 3px;*/\n\n    transition-property: r, fill, stroke, stroke-width;\n    transition-duration: 350ms;\n    transition-timing-function: ease-in-out;\n\n    cursor: pointer;\n}\n\n.statevis text {\n    transition-property: x, y, font-size, stroke, stroke-width;\n    transition-duration: 350ms;\n    transition-timing-function: ease-in-out;\n}\n\n.statevis circle.future {\n    /*r: 10;*/\n    stroke: grey;\n    stroke-dasharray: 7,5;\n    /*stroke-width: 1px;*/\n}\n\n.statevis circle.entered {\n    /*r: 10;*/\n    stroke: black;\n    fill: lightgreen;\n}\n\n.statevis circle.entered:after {\n    content: "<text>Entered</text>"\n}\n\n.statevis circle.active {\n    /*r: 15;*/\n    fill: green;\n    stroke: black;\n}\n\n.statevis circle.collapsed {\n    stroke-dasharray: 2, 2\n}\n\n.statevis text {\n    font-family: sans-serif;\n}\n\n.statevis .link {\n    fill: none;\n    stroke: #ccc;\n    /*stroke-width: 2px;*/\n}\n\n.statevis text.label {\n    fill: grey;\n    alignment-baseline: middle;\n}\n\n\n.draggable {\n    cursor: move;\n}\n\n/*.draggable:hover {*/\n    /*outline: 3px solid rgba(0,0,0,0.15)*/\n/*}*/\n',"",{version:3,sources:["/Users/cthielen/projects/uirouter/visualizer/src/statevis/statevis.css"],names:[],mappings:"AAAA;;;CAGC;;AAED;IACI,SAAS;IACT,UAAU;IACV,SAAS;IACT,eAAe;IACf,uBAAuB;IACvB,mBAAmB;IACnB,wBAAwB;IACxB,cAAc;IACd,cAAc;IACd,uBAAuB;AAC3B;AACA;IACI,uBAAuB;AAC3B;;AAEA;IACI,UAAU;IACV,eAAe;IACf,WAAW;IACX,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,0CAA0C;IAC1C,mBAAmB;IACnB,8BAA8B;IAC9B,kEAAkE;IAClE,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,WAAW;AACf;;AAEA;IACI;AACJ;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,WAAW;IACX,qBAAqB;IACrB,8BAA8B;IAC9B,cAAc;IACd,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,8BAA8B;IAC9B,UAAU;IACV,SAAS;IACT,UAAU;;IAEV,kBAAkB;IAClB,MAAM;IACN,QAAQ;IACR,gBAAgB;;IAEhB,gBAAgB;IAChB,eAAe;AACnB;;AAEA;IACI,OAAO;IACP,mBAAmB;IACnB,iBAAiB;AACrB;;AAEA;IACI,kCAAkC;AACtC;;;AAGA;IACI,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,cAAc;IACd,uBAAuB;AAC3B;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,MAAM;IACN,SAAS;IACT,WAAW;AACf;;AAEA;IACI,SAAS;IACT,UAAU;IACV,YAAY;IACZ,qBAAqB;;IAErB,kDAAkD;IAClD,0BAA0B;IAC1B,uCAAuC;;IAEvC,eAAe;AACnB;;AAEA;IACI,0DAA0D;IAC1D,0BAA0B;IAC1B,uCAAuC;AAC3C;;AAEA;IACI,SAAS;IACT,YAAY;IACZ,qBAAqB;IACrB,qBAAqB;AACzB;;AAEA;IACI,SAAS;IACT,aAAa;IACb,gBAAgB;AACpB;;AAEA;IACI;AACJ;;AAEA;IACI,SAAS;IACT,WAAW;IACX,aAAa;AACjB;;AAEA;IACI;AACJ;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,UAAU;IACV,YAAY;IACZ,qBAAqB;AACzB;;AAEA;IACI,UAAU;IACV,0BAA0B;AAC9B;;;AAGA;IACI,YAAY;AAChB;;AAEA,qBAAqB;IACjB,sCAAsC;AAC1C,IAAI",file:"statevis.css",sourcesContent:['/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\n#uirStateVisualizer {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 16px;\n    font-family: sans-serif;\n    font-weight: normal;\n    vertical-align: baseline;\n    line-height: 1;\n    display: block;\n    box-sizing: content-box;\n}\n#uirStateVisualizer svg {\n    box-sizing: content-box;\n}\n\n.uirStateVisContainer {\n    z-index: 3;\n    position: fixed;\n    right: 32px;\n    bottom: 64px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: rgba(255, 255, 255, 0.8);\n    transform: scale(1);\n    transform-origin: right bottom;\n    transition: right 0.5s ease, bottom 0.5s ease, transform 0.5s ease;\n    overflow: hidden;\n    resize: both;\n}\n\n.uirStateVisContainer.minimized {\n    cursor: pointer;\n    transform: scale(0.25);\n    z-index: 60;\n}\n\n.uirStateVisContainer:hover {\n    outline: 2px solid rgba(0,0,0,0.35)\n}\n\n.uirStateVisContainer:hover .uirStateVisControls {\n    visibility: visible;\n}\n\n.uirStateVisContainer .uirStateVisControls {\n    visibility: hidden;\n    display: flex;\n    width: 100%;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    flex: 1 0 auto;\n    z-index: 1;\n}\n\n.uirStateVisContainer .uirStateVisControls .uirStateVisIcons span svg {\n    padding: 3px;\n    fill: #777777;\n}\n\n.uirStateVisContainer .uirStateVisControls .uirStateVisIcons span:hover svg {\n    fill: black;\n}\n\n.uirStateVisHover > div {\n    transition: opacity 500ms ease;\n    opacity: 0;\n    height: 0;\n    padding: 0;\n\n    position: absolute;\n    top: 0;\n    right: 0;\n    overflow: hidden;\n\n    margin-top: 26px;\n    font-size: 14px;\n}\n\n.uirStateVisHover > div.hoverBlock {\n    left: 0;\n    border-bottom: none;\n    background: white;\n}\n\n.uirStateVisHover:hover > div.hoverBlock {\n    border-bottom: 2px solid lightgrey;\n}\n\n\n.uirStateVisHover:hover > div {\n    opacity: 1;\n    height: auto;\n}\n\n.uirStateVisHover .uirStateVisLayoutPrefs {\n    padding: 12px 24px;\n}\n\n.uirStateVisContainer .statevis {\n    flex: 1 1 auto;\n    transition: all 1s ease;\n}\n\n.uirStateVisWindowOverlay {\n    display: none;\n}\n\n.minimized .uirStateVisWindowOverlay {\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0; \n    top: 0;\n    bottom: 0;\n    z-index: 10;\n}\n  \n.statevis circle {\n    /*r: 10;*/\n    fill: #fff;\n    stroke: grey;\n    /*stroke-width: 3px;*/\n\n    transition-property: r, fill, stroke, stroke-width;\n    transition-duration: 350ms;\n    transition-timing-function: ease-in-out;\n\n    cursor: pointer;\n}\n\n.statevis text {\n    transition-property: x, y, font-size, stroke, stroke-width;\n    transition-duration: 350ms;\n    transition-timing-function: ease-in-out;\n}\n\n.statevis circle.future {\n    /*r: 10;*/\n    stroke: grey;\n    stroke-dasharray: 7,5;\n    /*stroke-width: 1px;*/\n}\n\n.statevis circle.entered {\n    /*r: 10;*/\n    stroke: black;\n    fill: lightgreen;\n}\n\n.statevis circle.entered:after {\n    content: "<text>Entered</text>"\n}\n\n.statevis circle.active {\n    /*r: 15;*/\n    fill: green;\n    stroke: black;\n}\n\n.statevis circle.collapsed {\n    stroke-dasharray: 2, 2\n}\n\n.statevis text {\n    font-family: sans-serif;\n}\n\n.statevis .link {\n    fill: none;\n    stroke: #ccc;\n    /*stroke-width: 2px;*/\n}\n\n.statevis text.label {\n    fill: grey;\n    alignment-baseline: middle;\n}\n\n\n.draggable {\n    cursor: move;\n}\n\n/*.draggable:hover {*/\n    /*outline: 3px solid rgba(0,0,0,0.15)*/\n/*}*/\n'],sourceRoot:""}])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(30),s=n(1),u=n(7);n(41);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deregisterFns=[],e.state={transitions:[],pointerEvents:"auto"},e.cancelPreviousAnim=null,e.onMouseMove=function(t){var n=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-t.clientY<65?"auto":"none";e.state.pointerEvents!=n&&e.setState({pointerEvents:n})},e}return i(e,t),e.create=function(t,n,r){void 0===r&&(r={}),n||((n=document.createElement("div")).id="uirTransitionVisualizer");var i=Object.assign({},r,{router:t}),a=function(){document.body.appendChild(n),o.render(o.h(e,i),n)};return"interactive"===document.readyState||"complete"===document.readyState?a():document.addEventListener("DOMContentLoaded",a,!1),n},e.prototype.componentDidMount=function(){var t=this,e=this.props.router.transitionService.onBefore({},(function(e){t.setState({transitions:t.state.transitions.concat(e)});var n=t._div.children[0];setTimeout((function(){var e=n.scrollWidth-n.clientWidth+200;t.cancelPreviousAnim&&t.cancelPreviousAnim();var r=[e],i=[n.scrollLeft],o=t.props.maximumTransitions;t.cancelPreviousAnim=u.animatePath(r,i,750,(function(t){return n.scrollLeft=t[0]}),(function(){var e=t.state.transitions;e.length<=o||t.setState({transitions:e.slice(e.length-o)})}),s.easing.easeInOutCubic)}),25)}));this.deregisterFns.push(e),document.body.addEventListener("mousemove",this.onMouseMove),this.deregisterFns.push((function(){return document.body.removeEventListener("mousemove",t.onMouseMove)}))},e.prototype.componentWillUnmount=function(){for(;this.deregisterFns.length;)this.deregisterFns.pop()()},e.prototype.render=function(){var t=this,e=this.state.pointerEvents;return o.h("div",{ref:function(e){return t._div=e}},o.h("div",{className:"uirTranVis_history",style:{pointerEvents:e}},this.state.transitions.map((function(t){return o.h("div",{key:t.$id,className:"uirTranVis_transition"},o.h(a.TransitionView,{transition:t}),o.h("div",{style:{minWidth:"18em",border:"1px solid transparent"}}))})),o.h("div",{style:{width:"200px",height:"1px"}})))},e.defaultProps={router:null,maximumTransitions:15},e}(o.Component);e.TransitionVisualizer=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(31),s=n(39),u=n(3),c=n(40),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transitionPromise=null,e.state={status:"running",message:null,rejection:null,pinned:!1,expanded:!1,open:!1,deregisterFunctions:[]},e.togglePin=function(){return e.setState({pinned:!e.state.pinned})},e.toggleExpand=function(){return e.setState({expanded:!e.state.expanded})},e.open=function(){return e.setState({open:!0})},e.close=function(){return e.setState({open:!1})},e}return i(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props.transition,n=function(e){t.transitionPromise.isCanceled||t.setState({message:e})},r=function(t){return t.name||"(root)"},i=[];i.push(e.onStart({},(function(){return n("Starting...")}),{priority:1e4})),i.push(e.onExit({},(function(t,e){return n("Exiting "+r(e))}),{priority:1e4})),i.push(e.onRetain({},(function(t,e){return n("Retained "+r(e))}),{priority:1e4})),i.push(e.onEnter({},(function(t,e){return n("Entering "+r(e))}),{priority:1e4})),i.push(e.onFinish({},(function(){return n("Finishing...")}))),this.setState({deregisterFunctions:i}),this.transitionPromise=c.makeCancelable(e.promise),this.transitionPromise.promise.then((function(){return t.setState({status:"success",message:null})}),(function(e){if(!e||!e.isCanceled){var n="error",r=null;if(e){r=e&&e.message;var i=e&&e.type;if(2==i&&!0===e.redirected){n="redirected";var o=e.detail,a=o.name(),s=JSON.stringify(o.params());r=u.maxLength(100,a+"("+s)+")"}5==i&&(n="ignored",r="All states and parameters in the To and From paths are identical.")}t.setState({status:n,rejection:r,message:null})}}))},e.prototype.componentWillUnmount=function(){this.transitionPromise.cancel(),this.state.deregisterFunctions&&this.state.deregisterFunctions.forEach((function(t){return t()}))},e.prototype.render=function(){return o.h("div",{onMouseEnter:this.open,onMouseLeave:this.close},o.h(a.TransitionPopover,{transition:this.props.transition,status:this.state.status,rejection:this.state.rejection,pinned:this.state.pinned,expanded:this.state.expanded,open:this.state.open,togglePinned:this.togglePin,toggleExpand:this.toggleExpand}),o.h(s.BreadcrumbArrow,{transition:this.props.transition,status:this.state.status,message:this.state.message,toggleExpand:this.toggleExpand}))},e}(o.Component);e.TransitionView=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(32),s=n(33),u=n(36),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this;return this.props.open||this.props.pinned?o.h("div",{className:"uirTranVis_transitionDetail uirTranVis_panel panel-default "+(t.props.pinned?"pin ":"")+(t.props.expanded?"expand ":"")+(t.props.open?"showDetail ":"")},o.h(a.PopoverHeading,{transition:this.props.transition,pinned:this.props.pinned,expanded:this.props.expanded,togglePinned:this.props.togglePinned,toggleExpand:this.props.toggleExpand}),o.h("div",{className:"uirTranVis_panelBody"},o.h(s.TransSummary,{trans:this.props.transition,status:this.props.status,rejection:this.props.rejection}),o.h("hr",null),o.h(u.NodePaths,{transition:this.props.transition})),o.h("div",{className:"uirTranVis_downArrow"})):null},e}(o.Component);e.TransitionPopover=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){return o.h("div",{className:"uirTranVis_panelHeading uirTranVis_heading"},o.h("div",{style:{cursor:"pointer"},onClick:this.props.togglePinned},o.h("i",{className:"uir-icon uir-icon-thumb-tack "+(this.props.pinned?"":"uir-rotate-35")})),o.h("h3",{className:"uirTranVis_panelTitle"},"Transition #",this.props.transition.$id),o.h("div",{style:{cursor:"pointer"},onClick:this.props.toggleExpand},o.h("i",{className:"uir-icon uirTranVis_tooltipRight "+(this.props.expanded?"uir-icon-toggle-on":"uir-icon-toggle-off")})))},e}(o.Component);e.PopoverHeading=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(10),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){return o.h("div",{className:"uirTranVis_transSummary"},o.h("div",{className:"uirTranVis_summaryData"},o.h("span",null,"From:"),o.h("strong",null,this.props.trans.from().name||"(root)")),o.h("div",{className:"uirTranVis_summaryData"},o.h("span",null,"To:"),o.h("strong",null,this.props.trans.to().name||"(root)")),o.h("div",{className:"uirTranVis_summaryData"},o.h("span",null,"Result:"),o.h("div",null,o.h("strong",null,this.props.status),this.props.rejection?o.h("span",null,": ",this.props.rejection):null)),o.h("div",{className:"uirTranVis_summaryHeading"},"Parameter Values:"),o.h("div",null,o.h(a.KeysAndValues,{groupedValues:a.KeysAndValues.falsyGroupDefinitions,enableGroupToggle:!0,data:this.props.trans.params(),modalTitle:"Parameter value",classes:{div:"uirTranVis_keyValue",key:"",val:""}})))},e}(o.Component);e.TransSummary=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(11),s=n(35),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.close=function(){return e.props.close()},e}return i(e,t),e.prototype.render=function(){return o.h("div",null,o.h(a.Modal,null,o.h("div",{className:"uirTranVis_modal-header uir-resolve-header"},o.h("div",{style:{fontSize:"20px"}},this.props.modalTitle,": ",this.props.id),o.h("button",{className:"uirTranVis_btn uirTranVis_btnXs uirTranVis_btnPrimary",onClick:this.close},o.h("i",{className:"uir-icon uir-iconw-close"}))),o.h("div",{className:"uirTranVis_modalBody"},o.h(s.Pretty,{data:this.props.value})),o.h("div",{className:"uirTranVis_modalFooter"},o.h("button",{className:"uirTranVis_btn uirTranVis_btnPrimary",onClick:this.close},"Close"))))},e}(o.Component);e.ResolveData=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preStyle={display:"block",padding:"10px 30px",margin:"0"},e.state={show:!0},e}return i(e,t),e.prototype.toggle=function(){this.setState({show:!this.state.show})},e.prototype.render=function(){return o.h("div",null,!!this.state.show&&o.h("pre",{style:this.preStyle},JSON.stringify(this.props.data,null,2)))},e}(o.Component);e.Pretty=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(37),s=n(38),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={retained:[],enterExit:[]},e}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props.transition,e=Object.assign({},t.treeChanges());["entering","exiting","retained"].forEach((function(t){return e[t]=e[t].filter((function(t){return!!t.state.name}))}));for(var n=function(t,n){var r=e[t][n];return r?r.state.name:""},r=function(e,r,i){return t.$id+"."+n(e,i)+"-"+n(r,i)},i=e.retained.map((function(t,e){return{key:r("retained","retained",e),to:t,toType:"retain",from:t,fromType:"retain"}})),o=[],a=Math.max(e.exiting.length,e.entering.length),s=0;s<a;s++)o.push({key:r("exiting","entering",s),to:e.entering[s],toType:e.entering[s]&&"enter",from:e.exiting[s],fromType:e.exiting[s]&&"exit"});this.setState({retained:i,enterExit:o})},e.prototype.render=function(){var t=this,e=this.state.retained||[],n=this.state.enterExit||[],r=n.filter((function(t){return!!t.toType})).length-1;return o.h("table",{className:"uirTranVis_paths"},o.h("thead",null,o.h("tr",null,o.h("th",null,"From Path"),o.h("th",null,"To Path"))),o.h("tbody",null,e.map((function(e){return o.h("tr",{key:e.key},o.h("td",{className:e.fromType,colSpan:2},o.h(a.NodeDetail,{trans:t.props.transition,node:e.from,type:e.fromType})))})),n.map((function(e,n){return o.h("tr",{key:e.key},o.h("td",{colSpan:2},o.h("div",{className:"uirTranVis_Row"},o.h("div",{className:""+e.fromType},e.fromType?o.h("div",{className:"uirTranVis_nodeContent"},o.h(a.NodeDetail,{trans:t.props.transition,node:e.from,type:e.fromType}),o.h(s.FlowArrow,{bottom:"V",top:n?"V":e.toType?"RU":"AU"})):null),o.h("div",{className:""+e.toType},e.toType?o.h("div",{className:"uirTranVis_nodeContent"},o.h(s.FlowArrow,{top:n?"V":e.fromType?"RD":"V",bottom:n==r?"AD":"V"}),o.h(a.NodeDetail,{trans:t.props.transition,node:e.to,type:e.toType})):null))))}))))},e}(o.Component);e.NodePaths=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(3),s=n(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.stateName=function(){var t=this.props.node,e=t&&t.state&&t.state.name;return""===e&&(e="(root)"),e&&e.split(".").reverse()[0]},e.prototype.params=function(){var t=this.props.node;return t&&t.paramSchema.reduce((function(e,n){return e[n.id]=t.paramValues[n.id],e}),{})},e.prototype.resolves=function(){var t=this.props.node,e=["$stateParams","$transition$","$state$",this.props.trans.constructor];return t&&t.resolvables.filter((function(t){return-1===e.indexOf(t.token)})).reduce((function(t,e){var n;return t[(n=e.token,"string"==typeof n?n:a.maxLength(30,a.stringify(n)))]=e.data,t}),{})},e.prototype.render=function(){if(!this.props.node)return null;var t=this.params(),e=this.resolves();return this.props.node?o.h("div",{className:"uirTranVis_nodeDetail"},o.h("div",{className:"uirTranVis_heading"},o.h("div",{className:"uirTranVis_nowrap uirTranVis_deemphasize"},"(",this.props.type," state)"),o.h("div",{className:"uirTranVis_stateName"},this.stateName())),!!Object.keys(t).length&&o.h("div",{className:"params"},o.h("div",{className:"uirTranVis_paramsLabel uirTranVis_deemphasize"},"Parameter values"),o.h(s.KeysAndValues,{data:this.params(),classes:{div:"uirTranVis_keyValue"},modalTitle:"Parameter value"})),!!Object.keys(e).length&&o.h("div",{className:"params resolve"},o.h("div",{className:"uirTranVis_resolveLabel uirTranVis_deemphasize"},"Resolved data"),o.h(s.KeysAndValues,{data:this.resolves(),classes:{div:"uirTranVis_keyValue"},modalTitle:"Resolved value"}))):null},e}(o.Component);e.NodeDetail=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.height=1e3,e.renderCurve=function(){return o.h("path",{stroke:"white","stroke-width":"20",fill:"none",d:"M50 "+e.height+" V 70 Q50 20, 100 20 Q150 20, 150 70 V "+e.height})},e.renderVerticalLine=function(){return o.h("svg",{viewBox:"0 70 100 "+(e.height-70),className:"flowArrowSvg"},e.renderCurve())},e.renderCurveRU=function(){return o.h("svg",{viewBox:"0 0 100 "+e.height,className:"flowArrowSvg top"},e.renderCurve())},e.renderCurveRD=function(){return o.h("svg",{viewBox:"100 0 100 "+e.height,className:"flowArrowSvg top"},e.renderCurve())},e.renderArrowU=function(){return o.h("svg",{viewBox:"0 0 100 "+e.height,className:"flowArrowSvg top"},o.h("path",{stroke:"white","stroke-width":"20",fill:"none",d:"M50 "+e.height+" V 20 "}),o.h("polygon",{fill:"white",stroke:"white","stroke-width":"20",points:"50,20 35,40 65,40"}))},e.renderArrowD=function(){return o.h("svg",{viewBox:"0 0 100 "+e.height,className:"flowArrowSvg bottom"},o.h("path",{stroke:"white","stroke-width":"20",fill:"none",d:"M50 0 V "+(e.height-20)}),o.h("polygon",{fill:"white",stroke:"white","stroke-width":"20",points:"50,"+(e.height-20)+" 35,"+(e.height-40)+" 65,"+(e.height-40)}))},e}return i(e,t),e.prototype.render=function(){var t=this,e=function(e){switch(e){case"V":return t.renderVerticalLine();case"RU":return t.renderCurveRU();case"RD":return t.renderCurveRD();case"AU":return t.renderArrowU();case"AD":return t.renderArrowD();default:return null}};return o.h("div",{className:"flowArrowCell"},o.h("div",{style:{overflow:"hidden",position:"relative",flex:"1"}},e(this.props.top)),o.h("div",{style:{overflow:"hidden",position:"relative",flex:"1"}},e(this.props.bottom)))},e}(o.Component);e.FlowArrow=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(){return e.props.toggleExpand()},e}return i(e,t),e.prototype.iconClass=function(){return{running:"uir-icon uir-spin uir-iconw-spinner",success:"uir-icon uir-iconw-check",redirected:"uir-icon uir-iconw-share",ignored:"uir-icon uir-iconw-circle-o",error:"uir-icon uir-iconw-close"}[this.props.status]},e.prototype.render=function(){return this.props.transition?o.h("div",{className:this.props.status+" uirTranVis_historyEntry",onClick:this.handleClick},o.h("div",{className:"uirTranVis_historyEntrySummary"},o.h("div",{className:"uirTranVis_transId"},this.props.transition.$id),o.h("div",{className:"uirTranVis_status"},this.props.status,this.props.message?o.h("span",null,": ",this.props.message):null),o.h("div",{className:"uirTranVis_transName"},o.h("i",{className:this.iconClass()}),o.h("span",null,this.props.transition.to().name)))):null},e}(o.Component);e.BreadcrumbArrow=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeCancelable=function(t){var e=!1,n={promise:new Promise((function(n,r){t.then((function(t){return e?r({isCanceled:!0}):n(t)}),(function(t){return r(e?{isCanceled:!0}:t)}))})),isCanceled:!1,cancel:function(){n.isCanceled=e=!0}};return n}},function(t,e,n){var r=n(42);"string"==typeof r&&(r=[[t.i,r,""]]),n(9)(r,{hmr:!1,attrs:{nonce:"uiroutervisualizer"},transform:void 0,insertInto:void 0}),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(8)(!0);var r=n(43),i=r(n(44)),o=r(n(45)),a=r(n(46)),s=r(n(47)),u=r(n(48)),c=r(n(49)),l=r(n(50)),h=r(n(51));e.push([t.i,"/*\n    .uirTranVis_history is the breadcrumbs and transition details block.\n    It fills the footer of the screen, and scrolls horizontally.\n    Mouse clicks should pass through to the elements underneath.\n*/\n\n.uirTranVis_history {\n    display: flex;\n    align-items: flex-end;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    padding: 0 16px;\n    overflow-x: scroll;\n    z-index: 50;\n    /* disable mouse clicks, hover, etc, for the overall div */\n    pointer-events: none;\n}\n\n.uirTranVis_history > * {\n    /* Enable mouse for any sub-elements (the breadcrumb elemetns and detail elements) */\n    pointer-events: all;\n    flex: 0 0 auto;\n}\n\n/*  workaround for modal screen, and chrome and safari not allowing it to be\n    visible outside the .uirTranVis_history overflow while the .uirTranVis_history div is scrolled */\n.fullScreen .uirTranVis_history {\n    top: 0;\n}\n\n/* A single history entry (breadcrumb) arrow looking thing */\n.uirTranVis_history .uirTranVis_historyEntry {\n    position: relative;\n    text-align: center;\n    padding: 12px 30px;\n    margin-bottom: 6px;\n    margin-right: 6px;\n    color: #000;\n    cursor: pointer;\n}\n\n\n/* History entry arrow CSS */\n.uirTranVis_history .uirTranVis_historyEntry:before,.uirTranVis_historyEntry:after {\n    content: '';\n    position: absolute;\n    background: darkgrey;\n    left: 0;\n    height: 50.2%; /* +0.2% so firefox doesn't render a white line down the center */\n    width: 100%;\n    border: 1px solid black;\n    box-sizing: border-box;\n    z-index: -1;\n}\n\n.uirTranVis_history .uirTranVis_historyEntry:before {\n    top: 0;\n    border-bottom: 0;\n    -webkit-transform: skew(40deg, 0deg);\n    -ms-transform: skew(40deg, 0deg);\n    transform: skew(40deg, 0deg);\n}\n\n.uirTranVis_history .uirTranVis_historyEntry:after {\n    bottom: 0;\n    border-top: 0;\n    -webkit-transform: skew(-40deg, 0deg);\n    -ms-transform: skew(-40deg, 0deg);\n    transform: skew(-40deg, 0deg);\n}\n\n/*.uirTranVis_historyEntry::before height: 51% (|| ::after) */\n\n/* Styling for breadcrumb contents */\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary {\n    color: white;\n    white-space: nowrap;\n    font-size: small;\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_transId {\n    position: absolute;\n    top: 3px;\n    left: 10px;\n    font-size: smaller;\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_status {\n    position: absolute;\n    bottom: 3px;\n    left: 10px;\n    font-size: smaller;\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_transName {\n    font-weight: bold;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_transName span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    direction: rtl;\n}\n\n.uirTranVis_transSummary {\n    margin: 8px 0;\n}\n.uirTranVis_transSummary .uirTranVis_summaryHeading {\n    background-color: #f5f5f5;\n    margin: 8px -16px;\n    padding: 4px 16px;\n}\n.uirTranVis_transSummary .uirTranVis_summaryData {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: baseline;\n}\n.uirTranVis_transSummary .uirTranVis_summaryData span {\n    min-width: 60px;\n    text-align: right;\n    padding-right: 6px;\n}\n.uirTranVis_transSummary .uirTranVis_summaryData strong {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    direction: rtl;\n}\n\n.uirTranVis_history .uirTranVis_code {\n    padding: 0px 2px;\n    color: black;\n    background: #e6e6e6;\n    margin: 0;\n    font-family: monospace;\n}\n\n/* breadcrumb/history entry color coding */\n.uirTranVis_history .uirTranVis_historyEntry:before,.uirTranVis_historyEntry:after {\n    background: #737373;\n}\n.uirTranVis_history .uirTranVis_historyEntry:hover:before,.uirTranVis_historyEntry:hover:after {\n    background: #a6a6a6;\n}\n\n.uirTranVis_history .uirTranVis_historyEntry.success:before,.uirTranVis_historyEntry.success:after {\n    background: #45803b;\n}\n.uirTranVis_history .uirTranVis_historyEntry.success:hover:before,.uirTranVis_historyEntry.success:hover:after {\n    background: #19a600;\n}\n\n\n.uirTranVis_history .uirTranVis_historyEntry.error:before,.uirTranVis_historyEntry.error:after {\n    background: #bf1f1d;\n}\n.uirTranVis_history .uirTranVis_historyEntry.error:hover:before,.uirTranVis_historyEntry.error:hover:after {\n    background: #e62622;\n}\n\n\n.uirTranVis_history .uirTranVis_historyEntry.ignored:before,.uirTranVis_historyEntry.ignored:after {\n    background: #e68b05;\n}\n.uirTranVis_history .uirTranVis_historyEntry.ignored:hover:before,.uirTranVis_historyEntry.ignored:hover:after {\n    background: #ff9808;\n}\n\n.uirTranVis_history .uirTranVis_historyEntry.redirected:before,.uirTranVis_historyEntry.redirected:after {\n    background: #e68b05;\n}\n.uirTranVis_history .uirTranVis_historyEntry.redirected:hover:before,.uirTranVis_historyEntry.redirected:hover:after {\n    background: #ff9808;\n}\n\n.uirTranVis_history .uirTranVis_keyValue {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n}\n\n.uirTranVis_history .uirTranVis_keyValue + .uirTranVis_keyValue {\n    margin-top: 3px;\n}\n\n\n\n\n/* The transition detail popover (when hovering over a breadcrumb) */\n.uirTranVis_transitionDetail {\n    border: 1px solid lightgrey;\n    font-size: small;\n    transition: box-shadow 0.5s ease,  border 1.0s ease\n}\n\n/* Pointer element points from the uirTranVis_transitionDetail to the breadcrumb */\n.uirTranVis_transitionDetail .uirTranVis_downArrow {\n    position: relative;\n    width: 100%;\n    bottom: -10px;\n    margin-bottom: 10px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_downArrow:before, .uirTranVis_transitionDetail .uirTranVis_downArrow:after {\n    content: \"\";\n    position: absolute;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    top: 100%;\n    left: 50%;\n    margin-left: -10px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_downArrow:before {\n    border-top: 10px solid lightgray;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_downArrow:after{\n    border-top: 10px solid white;\n    margin-top: -1px;\n    z-index: 1;\n}\n\n\n/* The layout and styling of the transition detail popover */\n/*.uirTranVis_transitionDetail .panel-heading {*/\n    /*text-align: center;*/\n/*}*/\n\n.uirTranVis_transitionDetail table {\n    border-collapse: collapse;\n}\n\n.uirTranVis_transitionDetail th {\n    text-align: center;\n    font-size: small;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_heading {\n    display: flex;\n    flex-flow: row-reverse nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_heading > *  {\n    flex: 0 1 auto;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_heading > * i {\n    transition: all 0.5s ease;\n}\n\n.uirTranVis_transitionDetail table.uirTranVis_paths {\n    width: 100%;\n}\n\n.uirTranVis_transitionDetail table.uirTranVis_paths td {\n    color: white;\n    border: 0;\n    font-size: small;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_transSummary .uirTranVis_keyValue > div:nth-child(2){\n    padding-left: 8px;\n    font-weight: normal;\n}\n\n\n.uirTranVis_transitionDetail td {\n    padding: 0;\n}\n\n.uirTranVis_transitionDetail td .flowArrowCell {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: stretch;\n    justify-content: space-between;\n    width: 12px;\n    transition: width 0.25s ease;\n    height: auto;\n    flex: 0 0 auto;\n}\n.uirTranVis_transitionDetail.expand td .flowArrowCell { width: 24px; }\n\n.uirTranVis_transitionDetail .exit  .flowArrowSvg          { right: 0; }\n.uirTranVis_transitionDetail .enter .flowArrowSvg          { left: 0; }\n.uirTranVis_transitionDetail        .flowArrowSvg.bottom   { bottom: 0 }\n.uirTranVis_transitionDetail        .flowArrowSvg.top      { top: 0 }\n.uirTranVis_transitionDetail        .flowArrowSvg {\n    position: absolute;\n    width: 100%;\n    height: auto;\n    transition: width 0.25s ease;\n}\n\n/* color code path elements by retained/exited/entered */\n.uirTranVis_transitionDetail .retain {\n    background-color: #737273;\n}\n\n.uirTranVis_transitionDetail .exit {\n    background-color: #7c1010;\n}\n\n.uirTranVis_transitionDetail .enter {\n    background-color: #31592a;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_deemphasize {\n    color: #eaeaea;\n    font-size: x-small;\n}\n\n/* Styling for parameter values and resolve values */\n.uirTranVis_transitionDetail .params {\n    background-color: rgba(255,255,255,0.15);\n    padding: 0;\n    opacity: 0;\n    overflow: hidden;\n    transition: opacity 1s ease;\n    max-height: 0;\n}\n\n.uirTranVis_transitionDetail.expand .params {\n    display: block;\n    border-radius: 4px;\n    box-shadow: 1px 1px 2px black;\n    padding: 8px;\n    max-height: 250px;\n    overflow-y: auto;\n    opacity: 1;\n    margin: 8px 0;\n}\n\n.uirTranVis_transitionDetail.pin {\n    box-shadow: 4px 4px 12px rgba(0,0,0,0.3);\n    border: 1px solid black;\n}\n\n.uirTranVis_transitionDetail.pin .uirTranVis_downArrow:before {\n    border-top-color: black;\n}\n\n\n/* When showing expanded details, put space between path elements */\n.uirTranVis_transitionDetail.expand table.uirTranVis_paths td {\n    max-height: 100px;\n    vertical-align: top;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_Row {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: stretch;\n    min-width: 400px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_Row > div {\n    flex: 1 0 50%;\n    min-width: 0;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_nodeContent {\n    display: flex;\n    flex-flow: row nowrap;\n    min-height: 16px;\n    transition: min-height 0.25s ease;\n}\n\n.uirTranVis_transitionDetail.expand .uirTranVis_nodeContent {\n    height: 100%;\n    min-height: 65px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_nodeDetail {\n    flex: 1 1 auto;\n    padding: 3px 7px;\n    min-width: 0;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_stateName {\n    font-weight: bolder;\n    margin-right: 16px;\n    margin-left: 0;\n}\n.uirTranVis_transitionDetail .enter .uirTranVis_stateName {\n    margin-right: 0;\n    margin-left: 16px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_nowrap {\n    white-space: nowrap;\n}\n\n.uirTranVis_history .uirTranVis_paramsLabel,\n.uirTranVis_history .uirTranVis_resolveLabel {\n    color: white;\n    margin-top: -8px;\n    text-align: center;\n    font-weight: bold;\n}\n\n\nspan.link {\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n\n.uirTranVis_tooltipRight {\n    display: inline;\n    position: relative;\n    transition: all 1.5s ease;\n}\n\n.uirTranVis_tooltipRight:after {\n    color: rgba(0,0,0,0);\n    text-decoration: none;\n    transition: all 1.5s ease;\n}\n\n.uirTranVis_tooltipRight:hover:after {\n    bottom: 0;\n    color: rgba(0,0,0,0.5);\n    content: attr(title);\n    display: block;\n    position: absolute;\n    white-space: nowrap;\n    font-size: smaller;\n}\n\n\n\n/* Bootstrap stuff */\n\n.uirTranVis_modal .uirTranVis_btnPrimary {\n    color: #fff;\n    background-color: #337ab7;\n    border-color: #2e6da4;\n}\n\n.uirTranVis_modal .uirTranVis_btn {\n    display: inline-block;\n    padding: 6px 12px;\n    margin-bottom: 0;\n    font-size: 14px;\n    font-weight: normal;\n    line-height: 1.42857143;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    background-image: none;\n    border: 1px solid transparent;\n    border-radius: 4px;\n}\n\n.uirTranVis_modal .uirTranVis_btnXs, .uirTranVis_btnGroupXs > .uirTranVis_btn {\n    padding: 1px 5px;\n    font-size: 12px;\n    line-height: 1.5;\n    border-radius: 3px;\n}\n\n.uirTranVis_transition {\n    max-width: 550px;\n}\n\n.uirTranVis_transitionDetail span.link {\n    color: white;\n}\n\n.uirTranVis_history *:not(.fa):not(pre):not(.uirTranVis_code) {\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.uirTranVis_transitionDetail .enter .uirTranVis_heading {\n    flex-flow: row nowrap;\n}\n.uirTranVis_transitionDetail .uirTranVis_heading {\n    display: flex;\n    flex-flow: row-reverse nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n}\n\n.uirTranVis_transitionDetail .retain .uirTranVis_heading {\n    justify-content: center;\n}\n\n.uirTranVis_panel {\n    margin-bottom: 20px;\n    background-color: #fff;\n    border: 1px solid lightgrey;\n    border-radius: 4px;\n    -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .05);\n    box-shadow: 0 1px 1px rgba(0, 0, 0, .05);\n}\n\n.uirTranVis_panelHeading {\n    color: #333;\n    background-color: #f5f5f5;\n    border-color: #ddd;\n\n    padding: 10px 16px;\n    border-bottom: 1px solid transparent;\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n}\n\n.uirTranVis_panelTitle {\n    margin-top: 0;\n    margin-bottom: 0;\n    font-size: 16px;\n    color: inherit;\n}\n\n.uirTranVis_panelBody {\n    padding: 0 16px;\n}\n\n\n\n\n\n/* Styles go here */\n.uir-fade {\n    opacity: 0;\n    -webkit-transition: opacity .15s linear;\n    -o-transition: opacity .15s linear;\n    transition: opacity .15s linear;\n}\n\n.uir-fade.in {\n    opacity: 1;\n}\n\n.uirTranVis_modal-backdrop {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1040;\n    background-color: #000;\n}\n\n.uirTranVis_modal-backdrop.in {\n    filter: alpha(opacity=50);\n    opacity: .5;\n}\n\n.uirTranVis_modal {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1050;\n    display: block;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    outline: 0;\n}\n\n\n.uirTranVis_modal-dialog {\n    position: relative;\n    width: auto;\n    margin: 10px;\n}\n\n.uirTranVis_modal-content {\n    position: relative;\n    background-color: #fff;\n    -webkit-background-clip: padding-box;\n    background-clip: padding-box;\n    border: 1px solid #999;\n    border: 1px solid rgba(0, 0, 0, .2);\n    border-radius: 6px;\n    outline: 0;\n    -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, .5);\n    box-shadow: 0 3px 9px rgba(0, 0, 0, .5);\n}\n\n.uirTranVis_modal-header {\n    padding: 16px;\n    border-bottom: 1px solid #e5e5e5;\n}\n\n.uir-resolve-header {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    background-color: cornflowerblue;\n}\n\n.uirTranVis_modalBody {\n    color: black;\n    position: relative;\n    padding: 16px;\n}\n\n.uirTranVis_modalFooter {\n    padding: 16px;\n    text-align: right;\n    border-top: 1px solid #e5e5e5;\n}\n\n.uir-icon {\n    display: inline-block;\n    height: 16px; width: 16px;\n    margin: 4px;\n    background-size: cover;\n    background-position: 0 0;\n}\n\n.uir-spin {\n    animation: uirspin 2s infinite;\n    transform: rotate(0deg);\n}\n\n.uir-rotate-35 {\n    transform: rotate(35deg);\n    opacity: 0.5;\n}\n\n@keyframes uirspin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n\n.uir-iconw-spinner       { background-image: url("+i+"); }\n.uir-iconw-check         { background-image: url("+o+"); }\n.uir-iconw-circle-o      { background-image: url("+a+"); }\n.uir-iconw-share         { background-image: url("+s+"); }\n.uir-iconw-close         { background-image: url("+u+"); }\n\n.uir-icon-thumb-tack     { background-image: url("+c+"); }\n.uir-icon-toggle-on      { background-image: url("+l+"); }\n.uir-icon-toggle-off     { background-image: url("+h+"); }\n","",{version:3,sources:["/Users/cthielen/projects/uirouter/visualizer/src/transition/transitionVisualizer.css"],names:[],mappings:"AAAA;;;;CAIC;;AAED;IACI,aAAa;IACb,qBAAqB;IACrB,eAAe;IACf,OAAO;IACP,SAAS;IACT,QAAQ;IACR,eAAe;IACf,kBAAkB;IAClB,WAAW;IACX,0DAA0D;IAC1D,oBAAoB;AACxB;;AAEA;IACI,oFAAoF;IACpF,mBAAmB;IACnB,cAAc;AAClB;;AAEA;oGACoG;AACpG;IACI,MAAM;AACV;;AAEA,4DAA4D;AAC5D;IACI,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,iBAAiB;IACjB,WAAW;IACX,eAAe;AACnB;;;AAGA,4BAA4B;AAC5B;IACI,WAAW;IACX,kBAAkB;IAClB,oBAAoB;IACpB,OAAO;IACP,aAAa,EAAE,iEAAiE;IAChF,WAAW;IACX,uBAAuB;IACvB,sBAAsB;IACtB,WAAW;AACf;;AAEA;IACI,MAAM;IACN,gBAAgB;IAChB,oCAAoC;IACpC,gCAAgC;IAChC,4BAA4B;AAChC;;AAEA;IACI,SAAS;IACT,aAAa;IACb,qCAAqC;IACrC,iCAAiC;IACjC,6BAA6B;AACjC;;AAEA,6DAA6D;;AAE7D,oCAAoC;AACpC;IACI,YAAY;IACZ,mBAAmB;IACnB,gBAAgB;AACpB;AACA;IACI,kBAAkB;IAClB,QAAQ;IACR,UAAU;IACV,kBAAkB;AACtB;AACA;IACI,kBAAkB;IAClB,WAAW;IACX,UAAU;IACV,kBAAkB;AACtB;AACA;IACI,iBAAiB;IACjB,aAAa;IACb,qBAAqB;IACrB,mBAAmB;IACnB;AACJ;AACA;IACI,gBAAgB;IAChB,uBAAuB;IACvB,cAAc;AAClB;;AAEA;IACI,aAAa;AACjB;AACA;IACI,yBAAyB;IACzB,iBAAiB;IACjB,iBAAiB;AACrB;AACA;IACI,aAAa;IACb,qBAAqB;IACrB,qBAAqB;AACzB;AACA;IACI,eAAe;IACf,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,gBAAgB;IAChB,uBAAuB;IACvB,cAAc;AAClB;;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,mBAAmB;IACnB,SAAS;IACT,sBAAsB;AAC1B;;AAEA,0CAA0C;AAC1C;IACI,mBAAmB;AACvB;AACA;IACI,mBAAmB;AACvB;;AAEA;IACI,mBAAmB;AACvB;AACA;IACI,mBAAmB;AACvB;;;AAGA;IACI,mBAAmB;AACvB;AACA;IACI,mBAAmB;AACvB;;;AAGA;IACI,mBAAmB;AACvB;AACA;IACI,mBAAmB;AACvB;;AAEA;IACI,mBAAmB;AACvB;AACA;IACI,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,qBAAqB;IACrB,8BAA8B;IAC9B,qBAAqB;AACzB;;AAEA;IACI,eAAe;AACnB;;;;;AAKA,oEAAoE;AACpE;IACI,2BAA2B;IAC3B,gBAAgB;IAChB;AACJ;;AAEA,kFAAkF;AAClF;IACI,kBAAkB;IAClB,WAAW;IACX,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,WAAW;IACX,kBAAkB;IAClB,mCAAmC;IACnC,oCAAoC;IACpC,SAAS;IACT,SAAS;IACT,kBAAkB;AACtB;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,4BAA4B;IAC5B,gBAAgB;IAChB,UAAU;AACd;;;AAGA,4DAA4D;AAC5D,gDAAgD;IAC5C,sBAAsB;AAC1B,IAAI;;AAEJ;IACI,yBAAyB;AAC7B;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,6BAA6B;IAC7B,8BAA8B;IAC9B,qBAAqB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,YAAY;IACZ,SAAS;IACT,gBAAgB;AACpB;;AAEA;IACI,iBAAiB;IACjB,mBAAmB;AACvB;;;AAGA;IACI,UAAU;AACd;;AAEA;IACI,aAAa;IACb,wBAAwB;IACxB,oBAAoB;IACpB,8BAA8B;IAC9B,WAAW;IACX,4BAA4B;IAC5B,YAAY;IACZ,cAAc;AAClB;AACA,wDAAwD,WAAW,EAAE;;AAErE,6DAA6D,QAAQ,EAAE;AACvE,6DAA6D,OAAO,EAAE;AACtE,6DAA6D,UAAU;AACvE,6DAA6D,OAAO;AACpE;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,4BAA4B;AAChC;;AAEA,wDAAwD;AACxD;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,cAAc;IACd,kBAAkB;AACtB;;AAEA,oDAAoD;AACpD;IACI,wCAAwC;IACxC,UAAU;IACV,UAAU;IACV,gBAAgB;IAChB,2BAA2B;IAC3B,aAAa;AACjB;;AAEA;IACI,cAAc;IACd,kBAAkB;IAClB,6BAA6B;IAC7B,YAAY;IACZ,iBAAiB;IACjB,gBAAgB;IAChB,UAAU;IACV,aAAa;AACjB;;AAEA;IACI,wCAAwC;IACxC,uBAAuB;AAC3B;;AAEA;IACI,uBAAuB;AAC3B;;;AAGA,mEAAmE;AACnE;IACI,iBAAiB;IACjB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,qBAAqB;IACrB,8BAA8B;IAC9B,oBAAoB;IACpB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,qBAAqB;IACrB,gBAAgB;IAChB,iCAAiC;AACrC;;AAEA;IACI,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,kBAAkB;IAClB,cAAc;AAClB;AACA;IACI,eAAe;IACf,iBAAiB;AACrB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;;IAEI,YAAY;IACZ,gBAAgB;IAChB,kBAAkB;IAClB,iBAAiB;AACrB;;;AAGA;IACI,eAAe;IACf,0BAA0B;AAC9B;;;AAGA;IACI,eAAe;IACf,kBAAkB;IAClB,yBAAyB;AAC7B;;AAEA;IACI,oBAAoB;IACpB,qBAAqB;IACrB,yBAAyB;AAC7B;;AAEA;IACI,SAAS;IACT,sBAAsB;IACtB,oBAAoB;IACpB,cAAc;IACd,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;AACtB;;;;AAIA,oBAAoB;;AAEpB;IACI,WAAW;IACX,yBAAyB;IACzB,qBAAqB;AACzB;;AAEA;IACI,qBAAqB;IACrB,iBAAiB;IACjB,gBAAgB;IAChB,eAAe;IACf,mBAAmB;IACnB,uBAAuB;IACvB,kBAAkB;IAClB,mBAAmB;IACnB,sBAAsB;IACtB,8BAA8B;IAC9B,0BAA0B;IAC1B,eAAe;IACf,yBAAyB;IACzB,sBAAsB;IACtB,qBAAqB;IACrB,iBAAiB;IACjB,sBAAsB;IACtB,6BAA6B;IAC7B,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,yCAAyC;AAC7C;;AAEA;IACI,qBAAqB;AACzB;AACA;IACI,aAAa;IACb,6BAA6B;IAC7B,8BAA8B;IAC9B,qBAAqB;AACzB;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,mBAAmB;IACnB,sBAAsB;IACtB,2BAA2B;IAC3B,kBAAkB;IAClB,gDAAgD;IAChD,wCAAwC;AAC5C;;AAEA;IACI,WAAW;IACX,yBAAyB;IACzB,kBAAkB;;IAElB,kBAAkB;IAClB,oCAAoC;IACpC,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,cAAc;AAClB;;AAEA;IACI,eAAe;AACnB;;;;;;AAMA,mBAAmB;AACnB;IACI,UAAU;IACV,uCAAuC;IACvC,kCAAkC;IAClC,+BAA+B;AACnC;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,eAAe;IACf,MAAM;IACN,QAAQ;IACR,SAAS;IACT,OAAO;IACP,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,yBAAyB;IACzB,WAAW;AACf;;AAEA;IACI,eAAe;IACf,MAAM;IACN,QAAQ;IACR,SAAS;IACT,OAAO;IACP,aAAa;IACb,cAAc;IACd,gBAAgB;IAChB,iCAAiC;IACjC,UAAU;AACd;;;AAGA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,sBAAsB;IACtB,oCAAoC;IACpC,4BAA4B;IAC5B,sBAAsB;IACtB,mCAAmC;IACnC,kBAAkB;IAClB,UAAU;IACV,+CAA+C;IAC/C,uCAAuC;AAC3C;;AAEA;IACI,aAAa;IACb,gCAAgC;AACpC;;AAEA;IACI,aAAa;IACb,qBAAqB;IACrB,8BAA8B;IAC9B,gCAAgC;AACpC;;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,6BAA6B;AACjC;;AAEA;IACI,qBAAqB;IACrB,YAAY,EAAE,WAAW;IACzB,WAAW;IACX,sBAAsB;IACtB,wBAAwB;AAC5B;;AAEA;IACI,8BAA8B;IAC9B,uBAAuB;AAC3B;;AAEA;IACI,wBAAwB;IACxB,YAAY;AAChB;;AAEA;IACI,KAAK,uBAAuB,EAAE;IAC9B,OAAO,yBAAyB,EAAE;AACtC;;;AAGA,2BAA2B,+CAAsD,EAAE;AACnF,2BAA2B,+CAAoD,EAAE;AACjF,2BAA2B,+CAAuD,EAAE;AACpF,2BAA2B,+CAAoD,EAAE;AACjF,2BAA2B,+CAAoD,EAAE;;AAEjF,2BAA2B,+CAAuD,EAAE;AACpF,2BAA2B,+CAAsD,EAAE;AACnF,2BAA2B,+CAAuD,EAAE",file:"transitionVisualizer.css",sourcesContent:['/*\n    .uirTranVis_history is the breadcrumbs and transition details block.\n    It fills the footer of the screen, and scrolls horizontally.\n    Mouse clicks should pass through to the elements underneath.\n*/\n\n.uirTranVis_history {\n    display: flex;\n    align-items: flex-end;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    padding: 0 16px;\n    overflow-x: scroll;\n    z-index: 50;\n    /* disable mouse clicks, hover, etc, for the overall div */\n    pointer-events: none;\n}\n\n.uirTranVis_history > * {\n    /* Enable mouse for any sub-elements (the breadcrumb elemetns and detail elements) */\n    pointer-events: all;\n    flex: 0 0 auto;\n}\n\n/*  workaround for modal screen, and chrome and safari not allowing it to be\n    visible outside the .uirTranVis_history overflow while the .uirTranVis_history div is scrolled */\n.fullScreen .uirTranVis_history {\n    top: 0;\n}\n\n/* A single history entry (breadcrumb) arrow looking thing */\n.uirTranVis_history .uirTranVis_historyEntry {\n    position: relative;\n    text-align: center;\n    padding: 12px 30px;\n    margin-bottom: 6px;\n    margin-right: 6px;\n    color: #000;\n    cursor: pointer;\n}\n\n\n/* History entry arrow CSS */\n.uirTranVis_history .uirTranVis_historyEntry:before,.uirTranVis_historyEntry:after {\n    content: \'\';\n    position: absolute;\n    background: darkgrey;\n    left: 0;\n    height: 50.2%; /* +0.2% so firefox doesn\'t render a white line down the center */\n    width: 100%;\n    border: 1px solid black;\n    box-sizing: border-box;\n    z-index: -1;\n}\n\n.uirTranVis_history .uirTranVis_historyEntry:before {\n    top: 0;\n    border-bottom: 0;\n    -webkit-transform: skew(40deg, 0deg);\n    -ms-transform: skew(40deg, 0deg);\n    transform: skew(40deg, 0deg);\n}\n\n.uirTranVis_history .uirTranVis_historyEntry:after {\n    bottom: 0;\n    border-top: 0;\n    -webkit-transform: skew(-40deg, 0deg);\n    -ms-transform: skew(-40deg, 0deg);\n    transform: skew(-40deg, 0deg);\n}\n\n/*.uirTranVis_historyEntry::before height: 51% (|| ::after) */\n\n/* Styling for breadcrumb contents */\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary {\n    color: white;\n    white-space: nowrap;\n    font-size: small;\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_transId {\n    position: absolute;\n    top: 3px;\n    left: 10px;\n    font-size: smaller;\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_status {\n    position: absolute;\n    bottom: 3px;\n    left: 10px;\n    font-size: smaller;\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_transName {\n    font-weight: bold;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center\n}\n.uirTranVis_historyEntry .uirTranVis_historyEntrySummary .uirTranVis_transName span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    direction: rtl;\n}\n\n.uirTranVis_transSummary {\n    margin: 8px 0;\n}\n.uirTranVis_transSummary .uirTranVis_summaryHeading {\n    background-color: #f5f5f5;\n    margin: 8px -16px;\n    padding: 4px 16px;\n}\n.uirTranVis_transSummary .uirTranVis_summaryData {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: baseline;\n}\n.uirTranVis_transSummary .uirTranVis_summaryData span {\n    min-width: 60px;\n    text-align: right;\n    padding-right: 6px;\n}\n.uirTranVis_transSummary .uirTranVis_summaryData strong {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    direction: rtl;\n}\n\n.uirTranVis_history .uirTranVis_code {\n    padding: 0px 2px;\n    color: black;\n    background: #e6e6e6;\n    margin: 0;\n    font-family: monospace;\n}\n\n/* breadcrumb/history entry color coding */\n.uirTranVis_history .uirTranVis_historyEntry:before,.uirTranVis_historyEntry:after {\n    background: #737373;\n}\n.uirTranVis_history .uirTranVis_historyEntry:hover:before,.uirTranVis_historyEntry:hover:after {\n    background: #a6a6a6;\n}\n\n.uirTranVis_history .uirTranVis_historyEntry.success:before,.uirTranVis_historyEntry.success:after {\n    background: #45803b;\n}\n.uirTranVis_history .uirTranVis_historyEntry.success:hover:before,.uirTranVis_historyEntry.success:hover:after {\n    background: #19a600;\n}\n\n\n.uirTranVis_history .uirTranVis_historyEntry.error:before,.uirTranVis_historyEntry.error:after {\n    background: #bf1f1d;\n}\n.uirTranVis_history .uirTranVis_historyEntry.error:hover:before,.uirTranVis_historyEntry.error:hover:after {\n    background: #e62622;\n}\n\n\n.uirTranVis_history .uirTranVis_historyEntry.ignored:before,.uirTranVis_historyEntry.ignored:after {\n    background: #e68b05;\n}\n.uirTranVis_history .uirTranVis_historyEntry.ignored:hover:before,.uirTranVis_historyEntry.ignored:hover:after {\n    background: #ff9808;\n}\n\n.uirTranVis_history .uirTranVis_historyEntry.redirected:before,.uirTranVis_historyEntry.redirected:after {\n    background: #e68b05;\n}\n.uirTranVis_history .uirTranVis_historyEntry.redirected:hover:before,.uirTranVis_historyEntry.redirected:hover:after {\n    background: #ff9808;\n}\n\n.uirTranVis_history .uirTranVis_keyValue {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n}\n\n.uirTranVis_history .uirTranVis_keyValue + .uirTranVis_keyValue {\n    margin-top: 3px;\n}\n\n\n\n\n/* The transition detail popover (when hovering over a breadcrumb) */\n.uirTranVis_transitionDetail {\n    border: 1px solid lightgrey;\n    font-size: small;\n    transition: box-shadow 0.5s ease,  border 1.0s ease\n}\n\n/* Pointer element points from the uirTranVis_transitionDetail to the breadcrumb */\n.uirTranVis_transitionDetail .uirTranVis_downArrow {\n    position: relative;\n    width: 100%;\n    bottom: -10px;\n    margin-bottom: 10px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_downArrow:before, .uirTranVis_transitionDetail .uirTranVis_downArrow:after {\n    content: "";\n    position: absolute;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    top: 100%;\n    left: 50%;\n    margin-left: -10px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_downArrow:before {\n    border-top: 10px solid lightgray;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_downArrow:after{\n    border-top: 10px solid white;\n    margin-top: -1px;\n    z-index: 1;\n}\n\n\n/* The layout and styling of the transition detail popover */\n/*.uirTranVis_transitionDetail .panel-heading {*/\n    /*text-align: center;*/\n/*}*/\n\n.uirTranVis_transitionDetail table {\n    border-collapse: collapse;\n}\n\n.uirTranVis_transitionDetail th {\n    text-align: center;\n    font-size: small;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_heading {\n    display: flex;\n    flex-flow: row-reverse nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_heading > *  {\n    flex: 0 1 auto;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_heading > * i {\n    transition: all 0.5s ease;\n}\n\n.uirTranVis_transitionDetail table.uirTranVis_paths {\n    width: 100%;\n}\n\n.uirTranVis_transitionDetail table.uirTranVis_paths td {\n    color: white;\n    border: 0;\n    font-size: small;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_transSummary .uirTranVis_keyValue > div:nth-child(2){\n    padding-left: 8px;\n    font-weight: normal;\n}\n\n\n.uirTranVis_transitionDetail td {\n    padding: 0;\n}\n\n.uirTranVis_transitionDetail td .flowArrowCell {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: stretch;\n    justify-content: space-between;\n    width: 12px;\n    transition: width 0.25s ease;\n    height: auto;\n    flex: 0 0 auto;\n}\n.uirTranVis_transitionDetail.expand td .flowArrowCell { width: 24px; }\n\n.uirTranVis_transitionDetail .exit  .flowArrowSvg          { right: 0; }\n.uirTranVis_transitionDetail .enter .flowArrowSvg          { left: 0; }\n.uirTranVis_transitionDetail        .flowArrowSvg.bottom   { bottom: 0 }\n.uirTranVis_transitionDetail        .flowArrowSvg.top      { top: 0 }\n.uirTranVis_transitionDetail        .flowArrowSvg {\n    position: absolute;\n    width: 100%;\n    height: auto;\n    transition: width 0.25s ease;\n}\n\n/* color code path elements by retained/exited/entered */\n.uirTranVis_transitionDetail .retain {\n    background-color: #737273;\n}\n\n.uirTranVis_transitionDetail .exit {\n    background-color: #7c1010;\n}\n\n.uirTranVis_transitionDetail .enter {\n    background-color: #31592a;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_deemphasize {\n    color: #eaeaea;\n    font-size: x-small;\n}\n\n/* Styling for parameter values and resolve values */\n.uirTranVis_transitionDetail .params {\n    background-color: rgba(255,255,255,0.15);\n    padding: 0;\n    opacity: 0;\n    overflow: hidden;\n    transition: opacity 1s ease;\n    max-height: 0;\n}\n\n.uirTranVis_transitionDetail.expand .params {\n    display: block;\n    border-radius: 4px;\n    box-shadow: 1px 1px 2px black;\n    padding: 8px;\n    max-height: 250px;\n    overflow-y: auto;\n    opacity: 1;\n    margin: 8px 0;\n}\n\n.uirTranVis_transitionDetail.pin {\n    box-shadow: 4px 4px 12px rgba(0,0,0,0.3);\n    border: 1px solid black;\n}\n\n.uirTranVis_transitionDetail.pin .uirTranVis_downArrow:before {\n    border-top-color: black;\n}\n\n\n/* When showing expanded details, put space between path elements */\n.uirTranVis_transitionDetail.expand table.uirTranVis_paths td {\n    max-height: 100px;\n    vertical-align: top;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_Row {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: stretch;\n    min-width: 400px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_Row > div {\n    flex: 1 0 50%;\n    min-width: 0;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_nodeContent {\n    display: flex;\n    flex-flow: row nowrap;\n    min-height: 16px;\n    transition: min-height 0.25s ease;\n}\n\n.uirTranVis_transitionDetail.expand .uirTranVis_nodeContent {\n    height: 100%;\n    min-height: 65px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_nodeDetail {\n    flex: 1 1 auto;\n    padding: 3px 7px;\n    min-width: 0;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_stateName {\n    font-weight: bolder;\n    margin-right: 16px;\n    margin-left: 0;\n}\n.uirTranVis_transitionDetail .enter .uirTranVis_stateName {\n    margin-right: 0;\n    margin-left: 16px;\n}\n\n.uirTranVis_transitionDetail .uirTranVis_nowrap {\n    white-space: nowrap;\n}\n\n.uirTranVis_history .uirTranVis_paramsLabel,\n.uirTranVis_history .uirTranVis_resolveLabel {\n    color: white;\n    margin-top: -8px;\n    text-align: center;\n    font-weight: bold;\n}\n\n\nspan.link {\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n\n.uirTranVis_tooltipRight {\n    display: inline;\n    position: relative;\n    transition: all 1.5s ease;\n}\n\n.uirTranVis_tooltipRight:after {\n    color: rgba(0,0,0,0);\n    text-decoration: none;\n    transition: all 1.5s ease;\n}\n\n.uirTranVis_tooltipRight:hover:after {\n    bottom: 0;\n    color: rgba(0,0,0,0.5);\n    content: attr(title);\n    display: block;\n    position: absolute;\n    white-space: nowrap;\n    font-size: smaller;\n}\n\n\n\n/* Bootstrap stuff */\n\n.uirTranVis_modal .uirTranVis_btnPrimary {\n    color: #fff;\n    background-color: #337ab7;\n    border-color: #2e6da4;\n}\n\n.uirTranVis_modal .uirTranVis_btn {\n    display: inline-block;\n    padding: 6px 12px;\n    margin-bottom: 0;\n    font-size: 14px;\n    font-weight: normal;\n    line-height: 1.42857143;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    background-image: none;\n    border: 1px solid transparent;\n    border-radius: 4px;\n}\n\n.uirTranVis_modal .uirTranVis_btnXs, .uirTranVis_btnGroupXs > .uirTranVis_btn {\n    padding: 1px 5px;\n    font-size: 12px;\n    line-height: 1.5;\n    border-radius: 3px;\n}\n\n.uirTranVis_transition {\n    max-width: 550px;\n}\n\n.uirTranVis_transitionDetail span.link {\n    color: white;\n}\n\n.uirTranVis_history *:not(.fa):not(pre):not(.uirTranVis_code) {\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.uirTranVis_transitionDetail .enter .uirTranVis_heading {\n    flex-flow: row nowrap;\n}\n.uirTranVis_transitionDetail .uirTranVis_heading {\n    display: flex;\n    flex-flow: row-reverse nowrap;\n    justify-content: space-between;\n    align-items: baseline;\n}\n\n.uirTranVis_transitionDetail .retain .uirTranVis_heading {\n    justify-content: center;\n}\n\n.uirTranVis_panel {\n    margin-bottom: 20px;\n    background-color: #fff;\n    border: 1px solid lightgrey;\n    border-radius: 4px;\n    -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .05);\n    box-shadow: 0 1px 1px rgba(0, 0, 0, .05);\n}\n\n.uirTranVis_panelHeading {\n    color: #333;\n    background-color: #f5f5f5;\n    border-color: #ddd;\n\n    padding: 10px 16px;\n    border-bottom: 1px solid transparent;\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n}\n\n.uirTranVis_panelTitle {\n    margin-top: 0;\n    margin-bottom: 0;\n    font-size: 16px;\n    color: inherit;\n}\n\n.uirTranVis_panelBody {\n    padding: 0 16px;\n}\n\n\n\n\n\n/* Styles go here */\n.uir-fade {\n    opacity: 0;\n    -webkit-transition: opacity .15s linear;\n    -o-transition: opacity .15s linear;\n    transition: opacity .15s linear;\n}\n\n.uir-fade.in {\n    opacity: 1;\n}\n\n.uirTranVis_modal-backdrop {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1040;\n    background-color: #000;\n}\n\n.uirTranVis_modal-backdrop.in {\n    filter: alpha(opacity=50);\n    opacity: .5;\n}\n\n.uirTranVis_modal {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1050;\n    display: block;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    outline: 0;\n}\n\n\n.uirTranVis_modal-dialog {\n    position: relative;\n    width: auto;\n    margin: 10px;\n}\n\n.uirTranVis_modal-content {\n    position: relative;\n    background-color: #fff;\n    -webkit-background-clip: padding-box;\n    background-clip: padding-box;\n    border: 1px solid #999;\n    border: 1px solid rgba(0, 0, 0, .2);\n    border-radius: 6px;\n    outline: 0;\n    -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, .5);\n    box-shadow: 0 3px 9px rgba(0, 0, 0, .5);\n}\n\n.uirTranVis_modal-header {\n    padding: 16px;\n    border-bottom: 1px solid #e5e5e5;\n}\n\n.uir-resolve-header {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    background-color: cornflowerblue;\n}\n\n.uirTranVis_modalBody {\n    color: black;\n    position: relative;\n    padding: 16px;\n}\n\n.uirTranVis_modalFooter {\n    padding: 16px;\n    text-align: right;\n    border-top: 1px solid #e5e5e5;\n}\n\n.uir-icon {\n    display: inline-block;\n    height: 16px; width: 16px;\n    margin: 4px;\n    background-size: cover;\n    background-position: 0 0;\n}\n\n.uir-spin {\n    animation: uirspin 2s infinite;\n    transform: rotate(0deg);\n}\n\n.uir-rotate-35 {\n    transform: rotate(35deg);\n    opacity: 0.5;\n}\n\n@keyframes uirspin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n\n.uir-iconw-spinner       { background-image: url("../../images/w/16/spinner.png"); }\n.uir-iconw-check         { background-image: url("../../images/w/16/check.png"); }\n.uir-iconw-circle-o      { background-image: url("../../images/w/16/circle-o.png"); }\n.uir-iconw-share         { background-image: url("../../images/w/16/share.png"); }\n.uir-iconw-close         { background-image: url("../../images/w/16/close.png"); }\n\n.uir-icon-thumb-tack     { background-image: url("../../images/16/thumb-tack.png"); }\n.uir-icon-toggle-on      { background-image: url("../../images/16/toggle-on.png"); }\n.uir-icon-toggle-off     { background-image: url("../../images/16/toggle-off.png"); }\n'],sourceRoot:""}])},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABCElEQVQ4ja2SMU4CYRCF34Db6RISmi04gCZacgDuYElDYcFZLLWx1c4b6BE0sbaysBEh0aCdm3w2szKQ/1cTmGSz+795897Mzm/KBGCSjv14bWbkuDmBCcuY5HitUNAGxsDQoSrwKuAAeATegVHKcexuX0AFdIELf7rAVejoranbCRpPkmpJU0kfZvYp6SQYvARu/F7pogJ2M7k94BS4BPbXkwYUSdW0WOFb+gFugVeg94/iHjADbqTlFlh7/6mzwt14hK0E0AHugbNfOOfAHVA2WLwHpaRDhdman2pmc4cGko4kdSQtUg79Rt3nnPl2CsdKoB9rYgcys+dwrCU9eEe15xdJ503iGzoj4fOiDj0FAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAc0lEQVQ4jeXQuwmAQBCE4SvEOwOtwjK0KEEQDOzORyD28Rt4wnLoPYwEJ935Jlil/hUgB0agfItXzuyAScFG4Cu1WyqAAdARuHOxBjZ7nIFM4MWLbbFxShNQRWEx0uJPH/Osp5Ew9ozE45uRdCxGdLj1hRzpQwNP2Cwv6wAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAzElEQVQ4jaWTPQ7CMAyFnzkL7IUNRtoDlPugSkxciwlWFrr0CHCGfgw4qGrTFBVLUST7+fnnJdKfZjEnYJLWkpbuaiTdzYxJRuAA1AytBsqp5BPQesIFOPu5uK8FqlTlFngCeSSeAy/HlP2gddreJzrMHfPwPX0Dm9B2csYPNoyTSdLC/WHb1ykCSTe/V12C2RYIGr93P+RsezmDJQ4U6OCK6BI9GGR8jchYjMrYAVU/PKRjckCg9Bb79ohVjn4mJ8rkUklqzOyerDzX3pD9HgkYdWTVAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAA0UlEQVQ4jb2SvQ4BQRSFz/WXSESF0G6j8g7iAXQa4QE0ai+ip9ZIRDTeQUGjUJJ4BUs+hdlkbVixEqeZyZ05352ZM9K/BCyAzi+AA3AFuuF65s3mvKSqpLKkoivnJaUlTQHfzGZRUw4YAGvgQrz8p+sAFWDzwfQK0gwAyy/NAEfAE+AlNNeD7r3IscZAC6gB2UgKz2aXQsnNb5LaZraKSfMkqWVm+/AD9h15HmMUMAp3Di80HGAYB3inlJltJe0knRMB3DjR45clE1AAvMSAX3QHLbpPOaoNWa0AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAlElEQVQ4jd3QMQqDQBhEYU8kpBZio41pTBov5B31IEFEhC+NkkU2a7pABrYZeI+dP8v+L7ggj/Q5LmdwgxkT6qCvt25GkxKM3pk2cIf3jClBi+UgCeEF7dmM2/bVYxbck3Ag6SOC/lv4imdEMKE6g6vI5uNNPkswHODH9kLJkBJ0WHc46HfJiu5sRoki0hcok/BP8gJcS0AygPBo+gAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAArElEQVQ4jbXSPQ5BQRiF4cdfZQWXpdgBW1LZjaugsgoqDdFfKpVEQ2huMcb9E3GSU8yXM2/OZD5+VKtglmCMTjR/YI1THTTFs8TzJq0myHDBLbic5c0aKc29CQBpUbDdlFimvwJ6ub9SHyvcff7AHcs8U6pZwcXYs6onjBq0fMvEm5hgEJwXOGAazDLBNnYjwMn7qu5wxLasTgyItce5KlAHOOBak6lUgmFV4AV5rTJf7ROKuAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAApUlEQVQ4jcXSPQrCQBQE4E9B8Rg2gmW0UvEyegQP41XsDWirheDPIbQRtBAtTEACu4opMrDFsjPvvZl9VI1a4d5BF60A/4Y9TsWHPtZ4Bs4DG6Q4Y4VeLh7hGhEv0P5o1sQsKzSQjRMSL9EI2JngKCJ+YhwQ885vFytwRz1SAObfCD+htIVYiKlwiFMcYKjkN0LivRyxRdpmE10ybpL7+MTfq1wdXiIXWWLHZLTUAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAA4UlEQVQ4jcXSsUoDURAF0JPFDWmsrOxshBQKwcqI+Re3ttLCT/AP9FsEI2gW0wqSJUEb/YKk0ybEYp+wbHbXwiIXXvFm7p2Zd+exabRK93100anhf2OG93KBI9wE8QTbOESEZ3wFXgcHmOIcL3CCOS7QLnTbwx0eEBfibVwGzbEwTlIzcowRripyCd4gs+5FEaf4rIi3kEV4xKqhwBi72CnFV3iKGoTFTo346wkDfNQUziK5q2c14hjXuK3IJdiCvuY1Dn+JAWtrhJ7crAVSvGIpNyrFfThp4IyD5v9fefP4AeEQL7aw+eK/AAAAAElFTkSuQmCC"},function(t,e,n){"use strict";n.r(e);var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),A=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new C((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?y(parseInt(e[1],16)):(e=h.exec(t))?new C(e[1],e[2],e[3],1):(e=f.exec(t))?new C(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?_(e[1],e[2],e[3],e[4]):(e=d.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=A.exec(t))?x(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?x(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?y(m[t]):"transparent"===t?new C(NaN,NaN,NaN,0):null}function y(t){return new C(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new C(t,e,n,r)}function b(t){return t instanceof o||(t=v(t)),t?new C((t=t.rgb()).r,t.g,t.b,t.opacity):new C}function w(t,e,n,r){return 1===arguments.length?b(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function x(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,r)}function E(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=v(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new O(s,u,c,t.opacity)}(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function B(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(o,v,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),r(C,w,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(O,E,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new C(B(t>=240?t-240:t+120,i,r),B(t,i,r),B(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var T=Math.PI/180,I=180/Math.PI,k=.95047,V=1.08883,S=6/29,j=3*S*S;function R(t){if(t instanceof D)return new D(t.l,t.a,t.b,t.opacity);if(t instanceof F){var e=t.h*T;return new D(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof C||(t=b(t));var n=q(t.r),r=q(t.g),i=q(t.b),o=P((.4124564*n+.3575761*r+.1804375*i)/k),a=P((.2126729*n+.7151522*r+.072175*i)/1);return new D(116*a-16,500*(o-a),200*(a-P((.0193339*n+.119192*r+.9503041*i)/V)),t.opacity)}function N(t,e,n,r){return 1===arguments.length?R(t):new D(t,e,n,null==r?1:r)}function D(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function P(t){return t>.008856451679035631?Math.pow(t,1/3):t/j+4/29}function M(t){return t>S?t*t*t:j*(t-4/29)}function z(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof F)return new F(t.h,t.c,t.l,t.opacity);t instanceof D||(t=R(t));var e=Math.atan2(t.b,t.a)*I;return new F(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new F(t,e,n,null==r?1:r)}function F(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(D,N,i(o,{brighter:function(t){return new D(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new D(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=1*M(t),new C(z(3.2404542*(e=k*M(e))-1.5371385*t-.4985314*(n=V*M(n))),z(-.969266*e+1.8760108*t+.041556*n),z(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),r(F,U,i(o,{brighter:function(t){return new F(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new F(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return R(this).rgb()}}));var L=-.14861,$=1.78277,H=-.29227,W=-.90649,Y=1.97294,Q=Y*W,G=Y*$,X=$*H-W*L;function K(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof J)return new J(t.h,t.s,t.l,t.opacity);t instanceof C||(t=b(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(X*r+Q*e-G*n)/(X+Q-G),o=r-i,a=(Y*(n-i)-H*o)/W,s=Math.sqrt(a*a+o*o)/(Y*i*(1-i)),u=s?Math.atan2(a,o)*I-120:NaN;return new J(u<0?u+360:u,s,i,t.opacity)}(t):new J(t,e,n,null==r?1:r)}function J(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Z(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}r(J,K,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new J(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new J(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*T,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new C(255*(e+n*(L*r+$*i)),255*(e+n*(H*r+W*i)),255*(e+n*(Y*r)),this.opacity)}}));var tt=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Z((n-r/e)*e,a,i,o,s)}},et=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Z((n-r/e)*e,i,o,a,s)}},nt=function(t){return function(){return t}};function rt(t,e){return function(n){return t+n*e}}function it(t,e){var n=e-t;return n?rt(t,n>180||n<-180?n-360*Math.round(n/360):n):nt(isNaN(t)?e:t)}function ot(t,e){var n=e-t;return n?rt(t,n):nt(isNaN(t)?e:t)}var at=function t(e){var n=function(t){return 1==(t=+t)?ot:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):nt(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=w(t)).r,(e=w(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ot(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function st(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=w(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var ut,ct,lt,ht,ft=st(tt),pt=st(et),dt=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=bt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},At=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},gt=function(t,e){return e-=t=+t,function(n){return t+e*n}},mt=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=bt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},vt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yt=new RegExp(vt.source,"g"),_t=function(t,e){var n,r,i,o=vt.lastIndex=yt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=vt.exec(t))&&(r=yt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:gt(n,r)})),o=yt.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},bt=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?nt(e):("number"===r?gt:"string"===r?(n=v(e))?(e=n,at):_t:e instanceof v?at:e instanceof Date?At:Array.isArray(e)?dt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?mt:gt)(t,e)},wt=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Ct=function(t,e){var n=it(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},xt=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Et=180/Math.PI,Ot={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bt=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Et,skewX:Math.atan(u)*Et,scaleX:a,scaleY:s}};function Tt(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:gt(t,i)},{i:u-2,x:gt(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:gt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:gt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:gt(t,n)},{i:s-2,x:gt(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var It=Tt((function(t){return"none"===t?Ot:(ut||(ut=document.createElement("DIV"),ct=document.documentElement,lt=document.defaultView),ut.style.transform=t,t=lt.getComputedStyle(ct.appendChild(ut),null).getPropertyValue("transform"),ct.removeChild(ut),t=t.slice(7,-1).split(","),Bt(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),kt=Tt((function(t){return null==t?Ot:(ht||(ht=document.createElementNS("http://www.w3.org/2000/svg","g")),ht.setAttribute("transform",t),(t=ht.transform.baseVal.consolidate())?(t=t.matrix,Bt(t.a,t.b,t.c,t.d,t.e,t.f)):Ot)}),", ",")",")"),Vt=Math.SQRT2;function St(t){return((t=Math.exp(t))+1/t)/2}var jt=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,h=u-o,f=l*l+h*h;if(f<1e-12)r=Math.log(c/a)/Vt,n=function(t){return[i+t*l,o+t*h,a*Math.exp(Vt*t*r)]};else{var p=Math.sqrt(f),d=(c*c-a*a+4*f)/(2*a*2*p),A=(c*c-a*a-4*f)/(2*c*2*p),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(A*A+1)-A);r=(m-g)/Vt,n=function(t){var e,n=t*r,s=St(g),u=a/(2*p)*(s*(e=Vt*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*l,o+u*h,a*s/St(Vt*n+g)]}}return n.duration=1e3*r,n};function Rt(t){return function(e,n){var r=t((e=E(e)).h,(n=E(n)).h),i=ot(e.s,n.s),o=ot(e.l,n.l),a=ot(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var Nt=Rt(it),Dt=Rt(ot);function Pt(t,e){var n=ot((t=N(t)).l,(e=N(e)).l),r=ot(t.a,e.a),i=ot(t.b,e.b),o=ot(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Mt(t){return function(e,n){var r=t((e=U(e)).h,(n=U(n)).h),i=ot(e.c,n.c),o=ot(e.l,n.l),a=ot(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var zt=Mt(it),qt=Mt(ot);function Ut(t){return function e(n){function r(e,r){var i=t((e=K(e)).h,(r=K(r)).h),o=ot(e.s,r.s),a=ot(e.l,r.l),s=ot(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var Ft=Ut(it),Lt=Ut(ot);function $t(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var Ht=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"interpolate",(function(){return bt})),n.d(e,"interpolateArray",(function(){return dt})),n.d(e,"interpolateBasis",(function(){return tt})),n.d(e,"interpolateBasisClosed",(function(){return et})),n.d(e,"interpolateDate",(function(){return At})),n.d(e,"interpolateDiscrete",(function(){return wt})),n.d(e,"interpolateHue",(function(){return Ct})),n.d(e,"interpolateNumber",(function(){return gt})),n.d(e,"interpolateObject",(function(){return mt})),n.d(e,"interpolateRound",(function(){return xt})),n.d(e,"interpolateString",(function(){return _t})),n.d(e,"interpolateTransformCss",(function(){return It})),n.d(e,"interpolateTransformSvg",(function(){return kt})),n.d(e,"interpolateZoom",(function(){return jt})),n.d(e,"interpolateRgb",(function(){return at})),n.d(e,"interpolateRgbBasis",(function(){return ft})),n.d(e,"interpolateRgbBasisClosed",(function(){return pt})),n.d(e,"interpolateHsl",(function(){return Nt})),n.d(e,"interpolateHslLong",(function(){return Dt})),n.d(e,"interpolateLab",(function(){return Pt})),n.d(e,"interpolateHcl",(function(){return zt})),n.d(e,"interpolateHclLong",(function(){return qt})),n.d(e,"interpolateCubehelix",(function(){return Ft})),n.d(e,"interpolateCubehelixLong",(function(){return Lt})),n.d(e,"piecewise",(function(){return $t})),n.d(e,"quantize",(function(){return Ht}))},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function o(t,e){return Math.max(t,e.y)}n.r(e);var a=function(){var t=r,e=1,n=1,a=!1;function s(r){var s,u=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(i,0)/t.length}(n),e.y=function(t){return 1+t.reduce(o,0)}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)}));var c=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),h=c.x-t(c,l)/2,f=l.x+t(l,c)/2;return r.eachAfter(a?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-h)/(f-h)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return s.separation=function(e){return arguments.length?(t=e,s):t},s.size=function(t){return arguments.length?(a=!1,e=+t[0],n=+t[1],s):a?null:[e,n]},s.nodeSize=function(t){return arguments.length?(a=!0,e=+t[0],n=+t[1],s):a?[e,n]:null},s};function s(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function u(t,e){var n,r,i,o,a,s=new f(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=c);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new f(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(h)}function c(t){return t.children}function l(t){t.data=t.data.data}function h(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function f(t){this.data=t,this.depth=this.height=0,this.parent=null}f.prototype=u.prototype={constructor:f,count:function(){return this.eachAfter(s)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return u(this).eachBefore(l)}};var p=Array.prototype.slice,d=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(p.call(t))).length,o=[];r<i;)e=t[r],n&&m(n,e)?++r:(n=y(o=A(o,e)),r=0);return n};function A(t,e){var n,r;if(v(e,t))return[e];for(n=0;n<t.length;++n)if(g(e,t[n])&&v(_(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(g(_(t[n],t[r]),e)&&g(_(t[n],e),t[r])&&g(_(t[r],e),t[n])&&v(b(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function g(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function m(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function v(t,e){for(var n=0;n<e.length;++n)if(!m(t,e[n]))return!1;return!0}function y(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return _(t[0],t[1]);case 3:return b(t[0],t[1],t[2])}var e}function _(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(r+a+c/h*l)/2,r:(h+i+s)/2}}function b(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=r-a,p=r-c,d=i-s,A=i-l,g=u-o,m=h-o,v=r*r+i*i-o*o,y=v-a*a-s*s+u*u,_=v-c*c-l*l+h*h,b=p*d-f*A,w=(d*_-A*y)/(2*b)-r,C=(A*g-d*m)/b,x=(p*y-f*_)/(2*b)-i,E=(f*m-p*g)/b,O=C*C+E*E-1,B=2*(o+w*C+x*E),T=w*w+x*x-o*o,I=-(O?(B+Math.sqrt(B*B-4*O*T))/(2*O):T/B);return{x:r+w+C*I,y:i+x+E*I,r:I}}function w(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function C(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function x(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function E(t){this._=t,this.next=null,this.previous=null}function O(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,c,l,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;w(n,e,r=t[2]),e=new E(e),n=new E(n),r=new E(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){w(e._,n._,r=t[s]),r=new E(r),u=n.next,c=e.previous,l=n._.r,h=e._.r;do{if(l<=h){if(C(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(C(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=x(e);(r=r.next)!==n;)(a=x(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=d(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var B=function(t){return O(t),t};function T(t){if("function"!=typeof t)throw new Error;return t}function I(){return 0}var k=function(t){return function(){return t}};function V(t){return Math.sqrt(t.value)}var S=function(){var t=null,e=1,n=1,r=I;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(j(t)).eachAfter(R(r,.5)).eachBefore(N(1)):i.eachBefore(j(V)).eachAfter(R(I,1)).eachAfter(R(r,i.r/Math.min(e,n))).eachBefore(N(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:T(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:k(+t),i):r},i};function j(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function R(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=O(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function N(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var D=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},P=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},M=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&P(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(D),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},z={depth:-1},q={};function U(t){return t.id}function F(t){return t.parentId}var L=function(){var t=U,e=F;function n(n){var r,i,o,a,s,u,c,l=n.length,p=new Array(l),d={};for(i=0;i<l;++i)r=n[i],s=p[i]=new f(r),null!=(u=t(r,i,n))&&(u+="")&&(d[c="$"+(s.id=u)]=c in d?q:s);for(i=0;i<l;++i)if(s=p[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(a=d["$"+u]))throw new Error("missing: "+u);if(a===q)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=z,o.eachBefore((function(t){t.depth=t.parent.depth+1,--l})).eachBefore(h),o.parent=null,l>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=T(e),n):t},n.parentId=function(t){return arguments.length?(e=T(t),n):e},n};function $(t,e){return t.parent===e.parent?1:2}function H(t){var e=t.children;return e?e[0]:t.t}function W(t){var e=t.children;return e?e[e.length-1]:t.t}function Y(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Q(t,e,n){return t.a.parent===e.parent?t.a:n}function G(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}G.prototype=Object.create(f.prototype);var X=function(){var t=$,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new G(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new G(r[i],i)),n.parent=e;return(a.parent=new G(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var c=i,l=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)}));var f=c===l?1:t(c,l)/2,p=f-c.x,d=e/(l.x+f+p),A=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*A}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,l=a.m,h=s.m,f=u.m;s=W(s),o=H(o),s&&o;)u=H(u),(a=W(a)).a=e,(i=s.z+h-o.z-c+t(s._,o._))>0&&(Y(Q(s,e,r),e,i),c+=i,l+=i),h+=s.m,c+=o.m,f+=u.m,l+=a.m;s&&!W(a)&&(a.t=s,a.m+=h-l),o&&!H(u)&&(u.t=o,u.m+=c-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},K=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},J=(1+Math.sqrt(5))/2;function Z(t,e,n,r,i,o){for(var a,s,u,c,l,h,f,p,d,A,g,m=[],v=e.children,y=0,_=0,b=v.length,w=e.value;y<b;){u=i-n,c=o-r;do{l=v[_++].value}while(!l&&_<b);for(h=f=l,g=l*l*(A=Math.max(c/u,u/c)/(w*t)),d=Math.max(f/g,g/h);_<b;++_){if(l+=s=v[_].value,s<h&&(h=s),s>f&&(f=s),g=l*l*A,(p=Math.max(f/g,g/h))>d){l-=s;break}d=p}m.push(a={value:l,dice:u<c,children:v.slice(y,_)}),a.dice?P(a,n,r,i,w?r+=c*l/w:o):K(a,n,r,w?n+=u*l/w:i,o),w-=l,y=_}return m}var tt=function t(e){function n(t,n,r,i,o){Z(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(J),et=function(){var t=tt,e=!1,n=1,r=1,i=[0],o=I,a=I,s=I,u=I,c=I;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(D),t}function h(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),e.x0=r,e.y0=l,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(f-=u(e)-n)<l&&(l=f=(l+f)/2),t(e,r,l,h,f))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=T(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:k(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:k(+t),l):a},l.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:k(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:k(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:k(+t),l):c},l},nt=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}for(var h=c[e],f=r/2+h,p=e+1,d=n-1;p<d;){var A=p+d>>>1;c[A]<f?p=A+1:d=A}f-c[p-1]<c[p]-f&&e+1<p&&--p;var g=c[p]-h,m=r-g;if(a-i>u-o){var v=(i*m+a*g)/r;t(e,p,g,i,o,v,u),t(p,n,m,v,o,a,u)}else{var y=(o*m+u*g)/r;t(e,p,g,i,o,a,y),t(p,n,m,i,y,a,u)}}(0,u,t.value,e,n,r,i)},rt=function(t,e,n,r,i){(1&t.depth?K:P)(t,e,n,r,i)},it=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,l,h=-1,f=a.length,p=t.value;++h<f;){for(u=(s=a[h]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?P(s,n,r,i,r+=(o-r)*s.value/p):K(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else t._squarify=a=Z(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(J);n.d(e,"cluster",(function(){return a})),n.d(e,"hierarchy",(function(){return u})),n.d(e,"pack",(function(){return S})),n.d(e,"packSiblings",(function(){return B})),n.d(e,"packEnclose",(function(){return d})),n.d(e,"partition",(function(){return M})),n.d(e,"stratify",(function(){return L})),n.d(e,"tree",(function(){return X})),n.d(e,"treemap",(function(){return et})),n.d(e,"treemapBinary",(function(){return nt})),n.d(e,"treemapDice",(function(){return P})),n.d(e,"treemapSlice",(function(){return K})),n.d(e,"treemapSliceDice",(function(){return rt})),n.d(e,"treemapSquarify",(function(){return tt})),n.d(e,"treemapResquarify",(function(){return it}))}])},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){return typeof t}function i(t){return null!==t&&"object"===r(t)}function o(t){return"string"===r(t)}function a(t){return"number"===r(t)&&!Number.isNaN(t)&&Number.isFinite(t)}function s(t){return"undefined"===r(t)}function u(t){return Array.isArray(t)}function c(t){return"function"===r(t)}function l(t,e){const n=t.indexOf(e);return!(n<0)&&(t.splice(n,1),!0)}n.r(e);let h=0;function f(){return Date.now().toString(32)+"-"+Math.floor(16777215*Math.random()).toString(32)+"-"+(h++).toString(32)}let p,d,A=0,g=1,m=!1;function v(t){p.delete(t)}function y(t){if(m)return void setTimeout(y,0,t);const e=p.get(t);if(e){m=!0;try{e()}finally{v(t),m=!1}}}if(s(window.setImmediate)){p=new Map;const t="setImmediate$"+(A++).toString(32)+"$";window.addEventListener("message",e=>{e.source===window&&o(e.data)&&e.data.startsWith(t)&&y(Number(e.data.slice(t.length)))},!1),d=function(e){window.postMessage(t+e,"*")}}const _=window.setImmediate||function(t){if(!c(t)||arguments.length>1)throw new Error("setImmediate require callback function.");return p.set(g,t),d(g),g++},b=window.clearImmediate||v;function w(t,e){o(e)||(e=JSON.stringify(e)),t.textContent=e}function C(t=""){return document.createTextNode(o(t)?t:JSON.stringify(t))}function x(t){const e=document.createDocumentFragment();return t&&t.forEach(t=>{e.appendChild(o(t)?document.createTextNode(t):t)}),e}function E(t,e){t.appendChild(x(e))}function O(t,e,n){if(e)if(i(e))for(const n in e)O(t,n,e[n]);else s(n)||null===n?function t(e,n){if(n){if(!i(n))return e.removeAttribute(n);for(const r in n)t(e,r)}}(t,e):t.setAttribute(e,n)}function B(t,e,n){if(e)for(const n in e)n&&!s(e[n])&&O(t,n,e[n]);return E(t,n),t}function T(t,e,...n){return B(document.createElement(t),e,n)}function I(t,...e){return T(t,null,...e)}function k(t,e,n){const r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}function V(t,e,n,r){s(r)&&(r=!!e.startsWith("touch")&&{capture:!1,passive:!0}),t.addEventListener(e,n,r)}function S(t,e,n){t.removeEventListener(e,n)}const j=Symbol("$$");function R(t){const e=t.constructor;return e===RegExp||e===Date||e===Boolean}function N(t){return i(t)&&j in t}function D(t){return o(t)&&95!==t.charCodeAt(0)}function P(t){return o(t)?t:null===t?"null":s(t)?"undefined":t.toString()}function M(t){return o(t)?t.indexOf(".")>0?t.split("."):[t]:u(t)?t:[t]}function z(t,e,n){t.__parents||(t.__parents=[]),t.__parents.push({core:e,prop:n})}function q(t,e,n){if(!t.__parents)return;const r=t.__parents.findIndex(t=>t.core===e&&t.prop===n);r>=0&&t.__parents.splice(r,1)}function U(t,e,n,r){if(!t.__parents)return;const i=t.__parents.find(t=>t.core===e&&t.prop===n);i&&(i.prop+=r)}const F=new Map;function L(t){const e=F.get(t);e&&(b(e.immediate),F.delete(t))}function $(t,e,n){const r=e.__handlers;r&&r.forEach(e=>{n?e(t):function(t,e){if(F.has(t))return;const n=_(()=>{const e=F.get(t);try{t(e.propertyPath)}finally{F.delete(t)}});F.set(t,{immediate:n,propertyPath:e})}(e,t)});const i=e.__listeners;i&&i.forEach(e=>{$(t,e,n)})}function H(t){const e=t.__listeners;e&&(e.forEach(t=>H(t)),t.__listeners=null);const n=t.__handlers;n&&(n.forEach(L),t.__handlers=null),t.__parent=null}class W{constructor(t){this.__notifiable=!0,this.__parents=null,this.__listeners=null,this.__related=null,this.__setters=null,this.target=t,this.proxy=null,Object.defineProperty(t,j,{value:this,writable:!1,configurable:!0,enumerable:!1})}__watch(t,e,n){const r=(t=M(t)).indexOf("**");if(r>=0&&r!==t.length-1)throw new Error('wizard "**" must be last element in path.');const i=function t(e,n,r=0){const i=P(n[r]);e.__listeners||(e.__listeners=new Map);let o=e.__listeners.get(i);return o||(o={__parent:e,__property:i,__handlers:null,__listeners:null},e.__listeners.set(i,o)),n.length-1===r?o:t(o,n,r+1)}(this,t);i.__handlers||(i.__handlers=[]),i.__handlers.indexOf(e)<0&&i.__handlers.push(e),n&&n!==this&&n.__addRelated(this,t,e)}__unwatch(t,e,n){if(!t)return void H(this);const r=function t(e,n,r=0){var i;const o=P(n[r]);if(!o)return null;const a=null===(i=e.__listeners)||void 0===i?void 0:i.get(o);return a?n.length-1===r?a:t(a,n,r+1):null}(this,M(t));if(!r)return;const i=r.__handlers;i&&(e?(L(e),l(i,e)):(i.forEach(L),i.length=0),function(t){if(t&&t.__handlers&&t.__handlers.length>0||t.__listeners&&t.__listeners.size>0)return null;const e=t.__parent,n=t.__property;t.__parent=null,e.__listeners.delete(n)}(r),n&&n!==this&&n.__rmRelated(this,t,e))}__notify(t,e=!1){if(!this.__notifiable)return;t=M(t),this.__listeners&&function t(e,n,r,i=0){const o=e.__listeners;if(!o)return;const a=P(n[i]);if(!a)return;let s=o.get(a);s&&(n.length-1===i?$(n,s,r):t(s,n,r,i+1)),s=o.get("*"),s&&(n.length-1===i?$(n,s,!0):t(s,n,r,i+1)),s=o.get("**"),s&&$(n,s,!0)}(this,t,e);const n=this.__parents;n&&n.forEach(n=>{const r=n.core;r?r.__notify([n.prop].concat(t),e):console.error("dev-warn-unexpected: parent of ViewModelCore has been destroied but not unlink.")})}__destroy(){this.__notifiable=!1,this.__parents=null,H(this),this.proxy=null,this.__related&&(this.__related.forEach((t,e)=>{t.forEach(t=>{e.__unwatch(t.prop,t.handler)})}),this.__related=null);const t=this.target,e=this.__setters;e&&(e.forEach((e,n)=>{if(null===e)return;const r=t[n];i(r)&&j in r&&q(r[j],this,n)}),this.__setters=null),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e];i(n)&&j in n&&q(n[j],this,e)}),delete t[j],this.target=null}__addRelated(t,e,n){this.__related||(this.__related=new Map);let r=this.__related.get(t);r||this.__related.set(t,r=[]),r.push({prop:e,handler:n})}__rmRelated(t,e,n){if(!this.__related)return;const r=this.__related.get(t);if(!r)return;const i=u(e),o=r.findIndex(t=>n===t.handler&&(i?function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,t.prop):e===t.prop));o>=0&&r.splice(o,1)}}function Y(t,e){t[j].__notify(e)}function Q(t,e,n,r,o=!0){if(!D(e))return t[e]=n,!0;const a=t[e];if(a===n&&!s(n))return!0;let u=i(n)&&!R(n);if(u&&(u=j in n,o&&!u))throw new Error(`public property "${e.toString()}" of ViewModel must also be ViewModel`);return i(a)&&j in a&&q(a[j],t[j],e),r(t,e,n),u&&z(n[j],t[j],e),Y(t,e),!0}function G(t,e,n){t[e]=n}function X(t,e,n){const r=function(t,e){let n=t[j].__setters;if(n||(t[j].__setters=n=new Map),n.has(e))return n.get(e);{let r,i=t.constructor,o=Object.getOwnPropertyDescriptor(i.prototype,e);if(o)return r=c(o.set)?o.set:null,n.set(e,r),r;for(i=Object.getPrototypeOf(i);i&&i.prototype;){if(o=Object.getOwnPropertyDescriptor(i.prototype,e),o)return r=c(o.set)?o.set:null,n.set(e,r),r;i=Object.getPrototypeOf(i)}return n.set(e,null),null}}(t,e);r?r.call(t[j].proxy,n):t[e]=n}function K(t,e,n){return!(j in t)||Q(t,e,n,G)}function J(t,e,n){return!(j in t)||Q(t,e,n,G,!1)}function Z(t,e,n){return j in t?Q(t,e,n,X):(console.warn(`call setter "${e.toString()}" after destroied, resources such as setInterval maybe not released before destroy. component:`,t),!0)}function tt(t,e,n){let r=e;for(e>n&&(r=n,n=e);r<n;r++)Y(t,r)}const et={set:K},nt={get(t,e){if("then"===e||"catch"===e){const n=t[e];return function(...e){return n.call(t,...e)}}return t[e]},set:K};function rt(t,e,n){return t.forEach((e,n)=>{N(e)&&z(e[j],t[j],n)}),t[e](n),t.forEach((e,n)=>{N(e)&&q(e[j],t[j],n)}),tt(t,0,t.length),t[j].proxy}function it(t,e=!1){const n=ct(t,!0);return t.forEach((n,r)=>{N(n)?z(n[j],t[j],r):e&&(t[r]=ht(n))}),n}function ot(t,e){t.forEach((n,r)=>{N(n)&&U(n[j],t[j],r,e)})}function at(t,e){if(i(t)){if(j in t)return!0;throw new Error(`argument passed to Array.${e} must be ViewModel if the array is ViewModel`)}return!1}const st={splice(t,e,n,...r){e<0&&(e=0),r.forEach((n,r)=>{at(n,"splice")&&z(n[j],t[j],e+r)});for(let r=0;r<n&&!(e+r>=t.length);r++){const n=t[e+r];N(n)&&q(n[j],t[j],e+r)}const i=r.length-n;if(0!==i)for(let r=e+n;r<t.length;r++){const e=t[r];N(e)&&U(e[j],t[j],r,i)}const o=it(t.splice(e,n,...r));if(0!==i){Y(t,"length");for(let n=e;n<t.length;n++)Y(t,n)}return o},shift(t){if(0===t.length)return t.shift();ot(t,-1);const e=t.shift();N(e)&&q(e[j],t[j],-1),Y(t,"length");for(let e=0;e<t.length+1;e++)Y(t,e);return e},unshift(t,...e){if(0===e.length)return t.unshift();e.forEach((e,n)=>{at(e,"unshift")&&z(e[j],t[j],n)}),ot(t,e.length);const n=t.unshift(...e);Y(t,"length");for(let e=0;e<t.length;e++)Y(t,e);return n},pop(t){if(0===t.length)return t.pop();const e=t.pop();return N(e)&&q(e[j],t[j],t.length),Y(t,"length"),Y(t,t.length),e},push(t,...e){if(0===e.length)return t.push();e.forEach((e,n)=>{at(e,"push")&&z(e[j],t[j],t.length+n)});const n=t.push(...e);Y(t,"length");for(let n=t.length-1-e.length;n<t.length;n++)Y(t,n);return n},fill:(t,e)=>(at(e,"fill"),t.forEach((n,r)=>{(n!==e||s(n))&&(N(n)&&q(n[j],t[j],r),t[r]=e,N(e)&&z(e[j],t[j],r),Y(t,r))}),t[j].proxy),reverse:t=>rt(t,"reverse"),sort:(t,e)=>rt(t,"sort",e),concat:(t,e)=>(at(e,"concat"),it(t.concat(e))),filter:(t,e)=>it(t.filter(e)),slice:(t,e,n)=>it(t.slice(e,n)),map:(t,e)=>it(t.map(e),!0)},ut={get(t,e){if(e in st){const n=st[e];return function(...e){return n(t,...e)}}return t[e]},set:function(t,e,n){return!(j in t)||("length"===e?function(t,e){if(!a(e))throw new Error("bad argument. array length must be validate number.");const n=t.length;if(n>e)for(let r=e;r<n;r++){const e=t[r];N(e)&&q(e[j],t[j],r)}return t.length=e,n!==e&&(Y(t,"length"),tt(t,n,e)),!0}(t,n):Q(t,e,n,G))}};function ct(t,e){return new W(t).proxy=new Proxy(t,e?ut:i(n=t)&&c(n.then)?nt:et);var n}function lt(t,e,n){i(e)&&!R(e)&&(j in e||(t[n]=e=ht(e)),z(e[j],t[j],n))}function ht(t){if(i(t)){if(R(t)||j in t)return t;const e=u(t),n=ct(t,e);if(e)for(let e=0;e<t.length;e++)lt(t,t[e],e);else for(const e in t)D(e)&&lt(t,t[e],e);return n}return t}function ft(t){if(!i(t))throw new Error("vm() target must be object or array.");return ht(t)}function pt(t){if(!i(t)||u(t))throw new Error("attrs() traget must be plain object.");return function(t){const e=new W(t);return e.__notifiable=!1,e.proxy=new Proxy(t,{set:J})}(t)}const dt=Symbol("listeners");class At{constructor(t){if(this[dt]=null,t)for(const e in t){const n=t[e];this.__on(e,n.fn,n.opts)}}__notify(t,...e){if(!this[dt])return;const n=this[dt].get(t);n&&n.forEach(t=>{t.fn(...e)})}__on(t,e,n){this[dt]||(this[dt]=new Map);let r=this[dt].get(t);if(r||this[dt].set(t,r=[]),r.findIndex(t=>t.fn===e)>=0)console.warn("dulplicated messenger listener",t,e);else if(n&&n.once){const i=(...n)=>{e(...n),this.__off(t,e)};r.push({fn:i,opts:n})}else r.push({fn:e,opts:n})}__off(t,e){if(!this[dt])return;if(!t)return void this[dt].clear();const n=this[dt].get(t);if(!n)return;if(!e)return void(n.length=0);const r=n.findIndex(t=>t.fn===e);n.splice(r,1)}}const gt=new class{constructor(){this.m=new Map,this.s=0}create(t){if(0===this.s)return;const e=T("style",{type:"text/css",id:t.dom});document.head.appendChild(e),e.styleSheet?e.styleSheet.cssText=t.css:e.textContent=t.css}add(t){if(!t)return;const e=this.m;let n=e.get(t.id);n?n.refs++:(n={id:t.id,css:t.css,dom:`__${t.id}__`,refs:1},e.set(t.id,n),this.create(n))}attch(){0===this.s?(this.s=1,function(){const t=T("span",{style:"position:absolute;left:-10000px;",class:"jg-hide"});document.body.appendChild(t);const e="none"===getComputedStyle(t).getPropertyValue("display");return document.body.removeChild(t),e}()||this.create({dom:`__jgsty_${f()}__`,css:".jg-hide{display:none!important}.jg-hide.jg-hide-enter,.jg-hide.jg-hide-leave{display:block!important}"}),this.m.forEach(t=>{this.create(t)})):console.warn("component styles already attached.")}remove(t){if(!t)return;const e=this.m.get(t.id);e&&(e.refs--,e.refs>0||(this.m.delete(e.id),0!==this.s&&document.head.removeChild(document.getElementById(e.dom))))}};function mt(t){return new Function("__ctx",`return \`${t.replace(/`/g,"\\`").replace(/\$\{\s*([\w\d._$]+)\s*\}/g,(t,e)=>"${ __ctx."+e+" }")}\`;`)}const vt=new class extends At{constructor(){super(),this.__deps=null,this.__data=null,this.__cache=new Map,this.__key=null,this.__regLoc(window.JINGE_I18N_DATA)}get locale(){return this.__data.locale}__regDep(t,e){if(this.__deps||(this.__deps=[]),!this.__deps[t])throw new Error("conflict at "+t);this.__deps[t]=e}__regLoc(t){t&&!this.__cache.has(t.locale)&&(this.__cache.set(t.locale,t),this.__data||(this.__data=t))}switch(t,e="dist/locale.[locale].js"){if(this.__data.locale===t)return;const n=this.__cache.get(t);if(n)this.__data=n,this.__notify("i18n-change",this.locale);else{const n=f();this.__key=n,(c(e)?e(t):function(t,e){return window.fetch(e.replace("[locale]",t)).then(t=>t.text())}(t,e)).then(e=>{if(new Function("jinge",e)({i18n:this}),this.__key!==n||this.__data.locale===t)return;const r=this.__cache.get(t);this.__data=r,this.__notify("i18n-change",this.locale)})}}__t(t,e){const n=this.__data.dictionary;if(!(t in n))return"i18n_missing";let r=n[t];return o(r)&&(171===r.charCodeAt(0)?(r=n[r.substring(1)],o(r)&&(r=mt(r))):r=mt(r),n[t]=r),r(e)}__r(t,e){const n=this.__data.render;if(c(n)){if(!this.__deps)throw new Error("missing render depedents");this.__data.render=n(...this.__deps)}const r=n[e];if(!(t in r))throw new Error(`missing i18n ${e} for key: ${t}`);let i=r[t];return o(i)&&(r[t]=i=r[i]),i}watch(t,e){return this.__on("change",t),e&&t(this.locale),()=>{this.__off("change",t)}}};var yt,_t;!function(t){t[t.INITIALIZE=0]="INITIALIZE",t[t.RENDERED=1]="RENDERED",t[t.WILLDESTROY=2]="WILLDESTROY",t[t.DESTROIED=3]="DESTROIED"}(yt||(yt={})),function(t){t[t.UNTOUCH=0]="UNTOUCH",t[t.TOUCHED=1]="TOUCHED",t[t.UNTOUCH_FREEZED=2]="UNTOUCH_FREEZED",t[t.TOUCHED_FREEZED=3]="TOUCHED_FREEZED"}(_t||(_t={}));const bt=Symbol("__");function wt(t){return bt in t}function Ct(t){if(!u(t)||0===t.length)throw new Error("Render results of component is empty");return t}class xt extends At{constructor(t){if(!i(t)||!(j in t))throw new Error("Attributes passed to Component constructor must be ViewModel. See https://[todo]");const e=t[bt]||{};super(e.listeners),function(t){if(j in t)throw new Error("component has alreay been wrapped.");const e=new W(t);e.__notifiable=!1,e.proxy=new Proxy(t,{set:Z})}(this),this[bt]={passedAttrs:t,context:e.context,contextState:_t.UNTOUCH,slots:e.slots,state:yt.INITIALIZE,rootNodes:[],nonRootCompNodes:[],refs:null,relatedRefs:null,updateNextMap:null,compStylePid:null,deregDOM:null,deregI18N:null}}static create(t){return i(t=t||pt({}))&&j in t||(t=pt(t||{})),new this(t)[j].proxy}__i18nWatch(t,e){let n=this[bt].deregI18N;n||(this[bt].deregI18N=n=[]);const r=vt.watch(()=>{t.call(this)},e),i=()=>{r(),l(n,i)};return n.push(i),i}__domAddListener(t,e,n,r){let i=this[bt].deregDOM;i||(this[bt].deregDOM=i=[]);const o=function(t,e,n,r){return V(t,e,n,r),function(){S(t,e,n)}}(t,e,t=>{n.call(this,t)},r),a=()=>{o(),l(i,a)};return i.push(a),a}__domPassListeners(t,e){if(this[bt].state!==yt.RENDERED)throw new Error("domPassListeners must be applied to component which is rendered.");const n=this[dt];n&&0!==n.size&&(t&&!u(t)?(e=t,t=null):e||(e=this.__firstDOM),e.nodeType===Node.ELEMENT_NODE&&n.forEach((n,r)=>{t&&t.indexOf(r)>=0||n.forEach(t=>{const{opts:n,fn:i}=t;this.__domAddListener(e,r,t.opts&&(t.opts.stop||t.opts.prevent)?function(t){n.stop&&t.stopPropagation(),n.prevent&&t.preventDefault(),i.call(this,t)}:i,t.opts)})}))}get __transitionDOM(){const t=this[bt].rootNodes[0];return wt(t)?t.__transitionDOM:t}get __firstDOM(){const t=this[bt].rootNodes[0];return wt(t)?t.__firstDOM:t}get __lastDOM(){const t=this[bt].rootNodes,e=t[t.length-1];return wt(e)?e.__lastDOM:e}__render(){const t=this.constructor;let e=t.template;if(!e&&this[bt].slots&&(e=this[bt].slots.default),!c(e))throw new Error(`Template of ${t.name} not found. Forget static getter "template"?`);return gt.add(t.style),e(this)}__renderToDOM(t,e=!0){if(this[bt].state!==yt.INITIALIZE)throw new Error("component has already been rendered.");const n=Ct(this.__render());var r,i,o;gt.attch(),e?(r=t.parentNode,i=n,o=t,r.replaceChild(x(i),o)):E(t,n),this.__handleAfterRender()}__destroy(t=!0){const e=this[bt];e.state>yt.WILLDESTROY||(e.state=yt.WILLDESTROY,this[j].__notifiable=!1,e.passedAttrs[j].__notifiable=!1,this.__notify("before-destroy"),this.__beforeDestroy(),this.__handleBeforeDestroy(t),super.__off(),gt.remove(this.constructor.style),e.passedAttrs[j].__destroy(),e.passedAttrs=null,this[j].__destroy(),e.updateNextMap&&(e.updateNextMap.forEach(t=>{b(t)}),e.updateNextMap=null),e.relatedRefs&&(e.relatedRefs.forEach(t=>{const e=t.origin[bt].refs;if(!e)return;const n=e.get(t.ref);u(n)?l(n,t.node||this):e.delete(t.ref)}),e.relatedRefs=null),e.deregDOM&&(e.deregDOM.forEach(t=>t()),e.deregDOM=null),e.deregI18N&&(e.deregI18N.forEach(t=>t()),e.deregI18N=null),e.state=yt.DESTROIED,e.rootNodes=e.nonRootCompNodes=e.refs=e.slots=e.context=null)}__handleBeforeDestroy(t=!1){let e;this[bt].nonRootCompNodes.forEach(t=>{t.__destroy(!1)}),this[bt].rootNodes.forEach(n=>{wt(n)?n.__destroy(t):t&&(e||(e=n.parentNode),e.removeChild(n))})}__handleAfterRender(){this[bt].passedAttrs[j].__notifiable=!0,this[j].__notifiable=!0,this[bt].rootNodes.forEach(t=>{wt(t)&&t.__handleAfterRender()}),this[bt].nonRootCompNodes.forEach(t=>{wt(t)&&t.__handleAfterRender()}),this[bt].state=yt.RENDERED,this[bt].contextState=this[bt].contextState===_t.TOUCHED?_t.TOUCHED_FREEZED:_t.UNTOUCH_FREEZED,this.__afterRender(),this.__notify("after-render")}__updateIfNeed(t,e=!0){if(this[bt].state!==yt.RENDERED)return;if(!1===t)return this.__update();if(c(t)||(t=this.__update),!e)return void t.call(this);let n=this[bt].updateNextMap;n||(n=this[bt].updateNextMap=new Map),n.has(t)||n.set(t,_(()=>{n.delete(t),t.call(this)}))}__update(t){}__setContext(t,e,n=!1){if(this[bt].contextState===_t.UNTOUCH_FREEZED||this[bt].contextState===_t.TOUCHED_FREEZED)throw new Error("Can't setContext after component has been rendered. Try put setContext code into constructor.");if(this[bt].contextState===_t.UNTOUCH&&(this[bt].context=Object.assign({},this[bt].context),this[bt].contextState=_t.TOUCHED),t in this[bt].context&&!n)throw new Error(`Contenxt with key: ${t.toString()} is exist. Pass third argument forceOverride=true to override it.`);this[bt].context[t]=e}__getContext(t){return this[bt].context?this[bt].context[t]:null}__setRef(t,e,n){let r=this[bt].refs;r||(this[bt].refs=r=new Map);let i=r.get(t);i?u(i)?i.push(e):(i=[i,e],r.set(t,i)):r.set(t,e);const o=wt(e);if(!o&&this===n)return;let a=(o?e:n)[bt].relatedRefs;a||((o?e:n)[bt].relatedRefs=a=[]),a.push({origin:this,ref:t,node:o?null:e})}__getRef(t){return this[bt].state!==yt.RENDERED&&console.warn(`Warning: call __getRef before component '${this.constructor.name}' rendered will get nothing. see https://[TODO]`),this[bt].refs?this[bt].refs.get(t):null}__addStylePid(t,e){if(!t&&!e)return;let n=this[bt].compStylePid;n||(n=this[bt].compStylePid=Object.create(null)),t&&Object.assign(n,t),e&&(n[e]="")}__afterRender(){}__beforeDestroy(){}}var Et;!function(t){t[t.ENTERING=1]="ENTERING",t[t.ENTERED=2]="ENTERED",t[t.LEAVING=3]="LEAVING",t[t.LEAVED=4]="LEAVED"}(Et||(Et={}));class Ot extends xt{constructor(t,e,n,r){super(t);const i=this[j].proxy;N(e)?i.each=e:i._e=e,i.index=n,i.isFirst=0===n,i.isLast=r}get each(){return this._e}set each(t){this._e=t}__render(){return this[bt].slots.default(this)}}function Bt(t,e,n,r,i,o){const a=new Ot(pt({[bt]:{context:i,slots:{default:r}}}),t,e,n);return o&&a.__addStylePid(o),a[j].proxy}function Tt(t,e,n,r,i,o,a){const s=Bt(t,e,n,r,o,a);return i.push(s),s.__render()}function It(t,e,n,r){const i="each"===r?t:r(t);return n.has(i)&&console.error(`loop items [${e}] and [${n.get(i)}] of <for> component both have key '${i}', dulplicated key may cause update error.`),n.set(i,e),i}function kt(t,e,n,r,i,o,a){const s=[],u=new Map;return t.forEach((c,l)=>{"index"!==i&&r.push(It(c,l,u,i)),s.push(...Tt(c,l,l===t.length-1,e,n,o,a))}),s}function Vt(t,e){e[bt].rootNodes.forEach(e=>{wt(e)?Vt(t,e):t.appendChild(e)})}function St(t,e,n){t.isFirst!==(0===e)&&(t.isFirst=0===e),t.isLast!==(e===n.length-1)&&(t.isLast=e===n.length-1),t.index!==e&&(t.index=e),t.each!==n[e]&&(t.each=n[e])}function jt(t){return o(t)&&"length"!==t&&/^\d+$/.test(t)?Number(t):t}class Rt extends xt{constructor(t){if(t.key&&!/^(index|each(.[\w\d$_]+)*)$/.test(t.key))throw new Error('Value of "key" attribute of <for> component is invalidate. See https://[todo]');super(t);const e=this[j].proxy;N(t.loop)?e.loop=t.loop:e._l=t.loop,t[j].__watch("loop",()=>{e.loop=t.loop});const n=t.key||"index";if(e._keyName=n,e._length=0,e._keys=null,e._waitingUpdate=!1,"index"!==n&&"each"!==n){e._keyName=new Function("each","return "+n);const t=n.split(".").length+1;e[j].__watch("loop.*."+n.slice(5),n=>{if(n.length!==t||e._waitingUpdate)return;const r=e.loop;if(!u(r)||0===r.length)return;const i=jt(n[1]);!a(i)||i>=r.length||(e._keys[i]=e._keyName(r[i]))})}e[j].__watch("loop.*",t=>{if(e[bt].state!==yt.RENDERED||2!==t.length||e._waitingUpdate)return;const n=jt(t[1]);"length"===n?(e._waitingUpdate=!0,e.__updateIfNeed()):a(n)&&e._updateItem(n)})}get loop(){return this._l}set loop(t){this._l=t,this._waitingUpdate=!0,this.__updateIfNeed()}__render(){var t;const e=this[bt].rootNodes,n=null===(t=this[bt].slots)||void 0===t?void 0:t.default;if(!n)return e.push(document.createComment("empty")),e;const r=this.loop,i=this._keyName;return"index"!==i&&(this._keys=[]),u(r)&&0!==r.length?(this._length=r.length,kt(r,n,e,this._keys,i,this[bt].context,this[bt].compStylePid)):(e.push(document.createComment("empty")),e)}_updateItem(t){var e;const n=this.loop,r=this[bt].rootNodes;if(!u(n)||t>=r.length)return;const i=this._keys,o=n[t],a=r[t];if(a.each===o)return;const s=null===(e=this[bt].slots)||void 0===e?void 0:e.default;if(!s)return;const c=this._keyName;if("index"!==c){const e="each"===c?o:c(o);if(e!==i[t]){const n=a.__firstDOM,u=Bt(o,t,a.isLast,s,this[bt].context,this[bt].compStylePid),c=Ct(u.__render());n.parentNode.insertBefore(c.length>1?x(c):c[0],n),a.__destroy(),r[t]=u,i[t]=e,u.__handleAfterRender()}else a.each=o}else a.each=o}__update(){var t;this._waitingUpdate=!1;const e=null===(t=this[bt].slots)||void 0===t?void 0:t.default;if(!e)return;const n=u(this.loop)?this.loop:[],r=this[bt].rootNodes,i=n.length,o=this._length;if(0===i&&0===o)return;const a=this._keyName;if(0===i&&o>0){const t=r[0].__firstDOM,e=document.createComment("empty");t.parentNode.insertBefore(e,t);for(let t=0;t<o;t++)r[t].__destroy();return r.length=1,r[0]=e,"index"!==a&&(this._keys.length=0),void(this._length=0)}this._length=i;const s=this[bt].context,c=this[bt].compStylePid,l=r[0],h=(0===o?l:l.__firstDOM).parentNode;if("index"===a){let t=null;0===o&&(r.length=0);for(let a=0;a<i;a++)a<o?St(r[a],a,n):(t||(t=x()),Tt(n[a],a,a===i-1,e,r,s,c).forEach(e=>{t.appendChild(e)}));if(t){const e=0===o?l:r[o-1].__lastDOM;k(h,t,e);for(let t=o;t<i;t++)r[t].__handleAfterRender()}if(0===o&&h.removeChild(l),i>=o)return;for(let t=i;t<o;t++)r[t].__destroy();return void r.splice(i)}const f=this._keys;if(0===o){return r.length=0,k(h,x(kt(n,e,r,f,a,this[bt].context,this[bt].compStylePid)),l),h.removeChild(l),void r.forEach(t=>t.__handleAfterRender())}const p=new Map;f.forEach((t,e)=>{p.set(t,e)});const d=[],A=new Map;n.forEach((t,e)=>{d.push(It(t,e,A,a))});let g=0,m=0,v=null;const y=[],_=new Uint8Array(o);for(;g<o||m<i;){for(;g<o;)if(0!==_[g])g++;else{if(A.has(f[g])&&A.get(f[g])>=m){g===o-1&&(v=r[g].__lastDOM.nextSibling);break}g===o-1&&(v=r[g].__lastDOM.nextSibling),r[g].__destroy(),g++}if(g>=o){let t=null;const r=y.length;for(;m<i;m++){const r=Bt(n[m],m,m===i-1,e,s,c);t||(t=x()),r.__render().forEach(e=>t.appendChild(e)),y.push(r)}if(t){v?h.insertBefore(t,v):h.appendChild(t);for(let t=r;t<y.length;t++)y[t].__handleAfterRender()}break}const t=f[g];let a=null,u=null;for(;m<i;){const o=d[m];if(o===t)break;let l=null;if(p.has(o)){const t=p.get(o);t>g&&0===_[t]&&(l=r[t],_[t]=1)}a||(a=x()),l?(Vt(a,l),St(l,m,n)):(l=Bt(n[m],m,m===i-1,e,s,c),l.__render().forEach(t=>a.appendChild(t)),u||(u=[]),u.push(l)),y.push(l),m++}if(m>=i)throw new Error("unimpossible?!");const l=r[g];a&&h.insertBefore(a,l.__firstDOM),u&&u.forEach(t=>t.__handleAfterRender()),St(l,m,n),y.push(l),g++,m++}this[bt].rootNodes=y,this._keys=d}}class Nt extends xt{constructor(t,e){super(t);const n=this[j].proxy;e.forEach(e=>{n[e]=t[e],t[j].__watch(e,()=>{n[e]=t[e]})})}}function Dt(t){const e=document.createComment("empty");return t[bt].rootNodes.push(e),e}var Pt,Mt=n(4),zt=n(0),qt=n(3),Ut=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map((function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t})).join("");this.regexp=new RegExp("^"+e+"$")}return t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t.prototype.matches=function(t){return this.regexp.test("."+t)},t}(),Ft=n(2),Lt=n(1),$t=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e,this._evictListeners=[],this.onEvict=Object(zt.B)(this._evictListeners)}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&this.evict(),t},t.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach((function(e){return e(t)})),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(Pt||(Pt={}));var Ht=0,Wt=function(){function t(t,e,n){this.$id=Ht++,this.type=t,this.message=e,this.detail=n}return t.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&Object(Ft.e)(t)(e._transitionRejection)},t.superseded=function(e,n){var r=new t(Pt.SUPERSEDED,"The transition has been superseded by a different transition",e);return n&&n.redirected&&(r.redirected=!0),r},t.redirected=function(e){return t.superseded(e,{redirected:!0})},t.invalid=function(e){return new t(Pt.INVALID,"This transition is invalid",e)},t.ignored=function(e){return new t(Pt.IGNORED,"The transition was ignored",e)},t.aborted=function(e){return new t(Pt.ABORTED,"The transition has been aborted",e)},t.errored=function(e){return new t(Pt.ERROR,"The transition errored",e)},t.normalize=function(e){return Object(Ft.e)(t)(e)?e:t.errored(e)},t.prototype.toString=function(){var t,e=(t=this.detail)&&t.toString!==Object.prototype.toString?t.toString():Jt(t);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+e+")"},t.prototype.toPromise=function(){return Object(zt.l)(Object(zt.F)(this),{_transitionRejection:this})},t}();function Yt(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function Qt(t){var e=Gt(t),n=e.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:e,i=t.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function Gt(t){var e=Object(Lt.a)(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}var Xt=Wt.isRejectionPromise,Kt=Object(Ft.i)([[Lt.m,Object(Ft.m)("undefined")],[Lt.f,Object(Ft.m)("null")],[Lt.j,Object(Ft.m)("[Promise]")],[Xt,function(t){return t._transitionRejection.toString()}],[function(t){return Object(Lt.i)(t)&&!Object(Lt.a)(t)&&t.constructor!==Object&&Object(Lt.d)(t.toString)},function(t){return t.toString()}],[Lt.e,Qt],[Object(Ft.m)(!0),zt.r]]);function Jt(t){var e=[];function n(t){if(Object(Lt.i)(t)){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return Kt(t)}return Object(Lt.m)(t)?n(t):JSON.stringify(t,(function(t,e){return n(e)})).replace(/\\"/g,'"')}var Zt=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},te=(new RegExp("^(?:[a-z]+:)?//[^/]+/"),function(t){return t.replace(/\/[^/]*$/,"")}),ee=Zt("#"),ne=Zt("?"),re=Zt("=");function ie(t,e){return Object(Lt.l)(Object(zt.G)(t))&&Object(Lt.l)(e)?t.slice(0,-1).concat(Object(zt.G)(t)+e):Object(zt.A)(t,e)}var oe={log:zt.x,error:zt.x,table:zt.x};var ae="undefined"!=typeof document&&document.documentMode&&9===document.documentMode?window&&window.console?function(t){var e=function(e){return Function.prototype.bind.call(e,t)};return{log:e(t.log),error:e(t.log),table:e(t.log)}}(window.console):oe:console.table&&console.error?console:function(t){var e=t.log.bind(t);return{log:e,error:t.error?t.error.bind(t):e,table:t.table?t.table.bind(t):e}}(console);function se(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}var ue;function ce(t){return Object(Lt.h)(t)?ue[t]:ue[ue[t]]}!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(ue||(ue={}));var le=Object(Ft.h)("$id"),he=Object(Ft.h)("router.$id"),fe=function(t){return"Transition #"+le(t)+"-"+he(t)},pe=new(function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(ue).map((function(t){return parseInt(t,10)})).filter((function(t){return!isNaN(t)})).map((function(t){return ue[t]}))),e.map(ce).forEach((function(e){return n._enabled[e]=t}))},t.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},t.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},t.prototype.enabled=function(t){return!!this._enabled[ce(t)]},t.prototype.traceTransitionStart=function(t){this.enabled(ue.TRANSITION)&&ae.log(fe(t)+": Started  -> "+Jt(t))},t.prototype.traceTransitionIgnored=function(t){this.enabled(ue.TRANSITION)&&ae.log(fe(t)+": Ignored  <> "+Jt(t))},t.prototype.traceHookInvocation=function(t,e,n){if(this.enabled(ue.HOOK)){var r=Object(Ft.h)("traceData.hookType")(n)||"internal",i=Object(Ft.h)("traceData.context.state.name")(n)||Object(Ft.h)("traceData.context")(n)||"unknown",o=Qt(t.registeredHook.callback);ae.log(fe(e)+":   Hook -> "+r+" context: "+i+", "+Yt(200,o))}},t.prototype.traceHookResult=function(t,e,n){this.enabled(ue.HOOK)&&ae.log(fe(e)+":   <- Hook returned: "+Yt(200,Jt(t)))},t.prototype.traceResolvePath=function(t,e,n){this.enabled(ue.RESOLVE)&&ae.log(fe(n)+":         Resolving "+t+" ("+e+")")},t.prototype.traceResolvableResolved=function(t,e){this.enabled(ue.RESOLVE)&&ae.log(fe(e)+":               <- Resolved  "+t+" to: "+Yt(200,Jt(t.data)))},t.prototype.traceError=function(t,e){this.enabled(ue.TRANSITION)&&ae.log(fe(e)+": <- Rejected "+Jt(e)+", reason: "+t)},t.prototype.traceSuccess=function(t,e){this.enabled(ue.TRANSITION)&&ae.log(fe(e)+": <- Success  "+Jt(e)+", final state: "+t.name)},t.prototype.traceUIViewEvent=function(t,e,n){void 0===n&&(n=""),this.enabled(ue.UIVIEW)&&ae.log("ui-view: "+function(t,e){for(;e.length<t;)e+=" ";return e}(30,t)+" "+se(e)+n)},t.prototype.traceUIViewConfigUpdated=function(t,e){this.enabled(ue.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+e+"'")},t.prototype.traceUIViewFill=function(t,e){this.enabled(ue.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+Yt(200,e))},t.prototype.traceViewSync=function(t){if(this.enabled(ue.VIEWCONFIG)){var e="uiview component fqn",n=t.map((function(t){var n,r=t.uiView,i=t.viewConfig,o=r&&r.fqn,a=i&&i.viewDecl.$context.name+": ("+i.viewDecl.$name+")";return(n={})[e]=o,n["view config state (view name)"]=a,n})).sort((function(t,n){return(t[e]||"").localeCompare(n[e]||"")}));ae.table(n)}},t.prototype.traceViewServiceEvent=function(t,e){this.enabled(ue.VIEWCONFIG)&&ae.log("VIEWCONFIG: "+t+" "+function(t){var e=t.viewDecl,n=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+n+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"}(e))},t.prototype.traceViewServiceUIViewEvent=function(t,e){this.enabled(ue.VIEWCONFIG)&&ae.log("VIEWCONFIG: "+t+" "+se(e))},t}()),de=function(){function t(t){this.pattern=/.*/,this.inherit=!0,Object(zt.l)(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new Ae(this,t)},t}();function Ae(t,e){var n=this;function r(t){return Object(Lt.a)(t)?t:Object(Lt.c)(t)?[t]:[]}function i(t,n){return function(i){if(Object(Lt.a)(i)&&0===i.length)return i;var o=r(i),a=Object(zt.u)(o,t);return!0===n?0===Object(zt.m)(a,(function(t){return!t})).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}(a)}}function o(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach((function(e){var r=t[e].bind(t),a="equals"===e?o:i;n[e]=a(r)})),Object(zt.l)(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,raw:t.raw,is:i(t.is.bind(t),!0),$arrayMode:e})}var ge,me=Object.prototype.hasOwnProperty;function ve(t,e,n){var r=!1===n.reloadOnSearch&&e===ge.SEARCH||void 0,i=Object(zt.n)([n.dynamic,r],Lt.c),o=Object(Lt.c)(i)?{dynamic:i}:{},a=function(t){function e(){return t.value}t=function(t){return 0===["value","type","squash","array","dynamic"].filter(me.bind(t||{})).length}(t)?{value:t}:t,e.__cacheable=!0;var n=Object(Lt.e)(t.value)?t.value:e;return Object(zt.l)(t,{$$fn:n})}(n&&n.params&&n.params[t]);return Object(zt.l)(o,a)}!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(ge||(ge={}));var ye,_e=function(){function t(t,e,n,r,i){var o=ve(t,n,i);e=function(t,e,n,r,i){if(t.type&&e&&"string"!==e.name)throw new Error("Param '"+r+"' has two type configurations.");if(t.type&&e&&"string"===e.name&&i.type(t.type))return i.type(t.type);if(e)return e;if(!t.type){var o=n===ge.CONFIG?"any":n===ge.PATH?"path":n===ge.SEARCH?"query":"string";return i.type(o)}return t.type instanceof de?t.type:i.type(t.type)}(o,e,n,t,r.paramTypes);var a,s,u=(a={array:n===ge.SEARCH&&"auto"},s=t.match(/\[\]$/)?{array:!0}:{},Object(zt.l)(a,s,o).array);e=u?e.$asArray(u,n===ge.SEARCH):e;var c=void 0!==o.value||n===ge.SEARCH,l=Object(Lt.c)(o.dynamic)?!!o.dynamic:!!e.dynamic,h=Object(Lt.c)(o.raw)?!!o.raw:!!e.raw,f=function(t,e,n){var r=t.squash;if(!e||!1===r)return!1;if(!Object(Lt.c)(r)||null==r)return n;if(!0===r||Object(Lt.l)(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(o,c,r.defaultSquashPolicy()),p=function(t,e,n,r){var i=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}],o=Object(Lt.a)(t.replace)?t.replace:[];Object(Lt.l)(r)&&o.push({from:r,to:void 0});var a=Object(zt.u)(o,Object(Ft.k)("from"));return Object(zt.m)(i,(function(t){return-1===a.indexOf(t.from)})).concat(o)}(o,u,c,f),d=Object(Lt.c)(o.inherit)?!!o.inherit:!!e.inherit;Object(zt.l)(this,{id:t,type:e,location:n,isOptional:c,dynamic:l,raw:h,squash:f,replace:p,inherit:d,array:u,config:o})}return t.values=function(t,e){void 0===e&&(e={});for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];n[o.id]=o.value(e[o.id])}return n},t.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter((function(t){return!t.type.equals(e[t.id],n[t.id])}))},t.equals=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===t.changed(e,n,r).length},t.validates=function(t,e){return void 0===e&&(e={}),t.map((function(t){return t.validates(e[t.id])})).reduce(zt.a,!0)},t.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},t.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,r=e.replace;n<r.length;n++){var i=r[n];if(i.from===t)return i.to}return t}(t),Object(Lt.m)(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!qt.b.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=qt.b.$injector.invoke(e.config.$$fn);if(null!=t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},t.prototype.isSearch=function(){return this.location===ge.SEARCH},t.prototype.validates=function(t){if((Object(Lt.m)(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(Object(Lt.l)(n)&&!this.type.pattern.exec(n))},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t}(),be=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=Object(zt.z)(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=Object(zt.t)(Object(zt.u)(this.defaultTypes,(function(t,e){return new de(Object(zt.l)({name:e},t))})),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!Object(Lt.c)(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new de(Object(zt.l)({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");Object(zt.l)(this.types[t.name],qt.b.$injector.invoke(t.def))}},t}();ye=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:Object(Ft.e)(String),pattern:/.*/,equals:function(t,e){return t==e}};return Object(zt.l)({},n,t)},Object(zt.l)(be.prototype,{string:ye({}),path:ye({pattern:/[^/]*/}),query:ye({}),hash:ye({inherit:!1}),int:ye({decode:function(t){return parseInt(t,10)},is:function(t){return!Object(Lt.g)(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:ye({encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:Object(Ft.e)(Boolean),pattern:/0|1/}),date:ye({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce((function(n,r){return n&&t[r]()===e[r]()}),!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:ye({encode:zt.H,decode:zt.q,is:Object(Ft.e)(Object),equals:zt.k,pattern:/[^/]*/}),any:ye({encode:zt.r,decode:zt.r,is:function(){return!0},equals:zt.k})});var we=function(){function t(t){void 0===t&&(t={}),Object(zt.l)(this,t)}return t.prototype.$inherit=function(t,e,n){var r,i=Object(zt.b)(e,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var u in r)a.indexOf(r[u])>=0||(a.push(r[u]),o[r[u]]=this[r[u]]);return Object(zt.l)({},o,t)},t}(),Ce=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=Object(zt.l)({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=e;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map((function(t){return t.clone()}))}}return t.prototype.clone=function(){return new t(this)},t.prototype.applyRawParams=function(t){return this.paramValues=this.paramSchema.reduce((function(e,n){return Object(zt.d)(e,[(r=n).id,r.value(t[r.id])]);var r}),{}),this},t.prototype.parameter=function(t){return Object(zt.n)(this.paramSchema,Object(Ft.l)("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return _e.changed(n,this.paramValues,t.paramValues)},t.clone=function(t){return t.clone()},t}(),xe=function(){function t(t,e,n,r){this._stateRegistry=t,this._identifier=e,this._identifier=e,this._params=Object(zt.l)({},n||{}),this._options=Object(zt.l)({},r||{}),this._definition=t.matcher.find(e,this._options.relative)}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+Jt(this.params())},t.prototype.withState=function(e){return new t(this._stateRegistry,e,this._params,this._options)},t.prototype.withParams=function(e,n){void 0===n&&(n=!1);var r=n?e:Object(zt.l)({},this._params,e);return new t(this._stateRegistry,this._identifier,r,this._options)},t.prototype.withOptions=function(e,n){void 0===n&&(n=!1);var r=n?e:Object(zt.l)({},this._options,e);return new t(this._stateRegistry,this._identifier,this._params,r)},t.isDef=function(t){return t&&t.state&&(Object(Lt.l)(t.state)||Object(Lt.l)(t.state.name))},t}(),Ee=function(){function t(){}return t.makeTargetState=function(t,e){var n=Object(zt.G)(e).state;return new xe(t,n,e.map(Object(Ft.k)("paramValues")).reduce(zt.w,{}),{})},t.buildPath=function(t){var e=t.params();return t.$state().path.map((function(t){return new Ce(t).applyRawParams(e)}))},t.buildToPath=function(e,n){var r=t.buildPath(n);return n.options().inherit?t.inheritParams(e,r,Object.keys(n.params())):r},t.applyViewConfigs=function(e,n,r){n.filter((function(t){return Object(zt.s)(r,t.state)})).forEach((function(r){var i=Object(zt.L)(r.state.views||{}),o=t.subPath(n,(function(t){return t===r})),a=i.map((function(t){return e.createViewConfig(o,t)}));r.views=a.reduce(zt.K,[])}))},t.inheritParams=function(t,e,n){void 0===n&&(n=[]);var r=t.map((function(t){return t.paramSchema})).reduce(zt.K,[]).filter((function(t){return!t.inherit})).map(Object(Ft.k)("id"));return e.map((function(e){var i=Object(zt.l)({},e&&e.paramValues),o=Object(zt.z)(i,n);i=Object(zt.y)(i,n);var a,s,u,c=Object(zt.y)((a=t,s=e.state,u=Object(zt.n)(a,Object(Ft.l)("state",s)),Object(zt.l)({},u&&u.paramValues)||{}),r),l=Object(zt.l)(i,c,o);return new Ce(e.state).applyRawParams(l)}))},t.treeChanges=function(e,n,r){for(var i,o,a,s,u,c,l=Math.min(e.length,n.length),h=0;h<l&&e[h].state!==r&&(i=e[h],o=n[h],i.equals(o,t.nonDynamicParams));)h++;s=(a=e).slice(0,h),u=a.slice(h);var f=s.map((function(t,e){var r=t.clone();return r.paramValues=n[e].paramValues,r}));return c=n.slice(h),{from:a,to:f.concat(c),retained:s,retainedWithToParams:f,exiting:u,entering:c}},t.matching=function(t,e,n){var r=!1;return Object(zt.e)(t,e).reduce((function(t,e){var i=e[0],o=e[1];return(r=r||!i.equals(o,n))?t:t.concat(i)}),[])},t.equals=function(e,n,r){return e.length===n.length&&t.matching(e,n,r).length===e.length},t.subPath=function(t,e){var n=Object(zt.n)(t,e),r=t.indexOf(n);return-1===r?void 0:t.slice(0,r+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter((function(t){return!t.dynamic}))},t.paramValues=function(t){return t.reduce((function(t,e){return Object(zt.l)(t,e.paramValues)}),{})},t}(),Oe={LAZY:"LAZY",EAGER:"EAGER"},Be="LAZY",Te="WAIT",Ie=function(){function t(e,n,r,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)Object(zt.l)(this,e);else if(Object(Lt.d)(n)){if(Object(Lt.g)(e))throw new Error("new Resolvable(): token argument is required");if(!Object(Lt.d)(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=n,this.deps=r||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?qt.b.$q.when(this.data):void 0}else if(Object(Lt.i)(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data"))){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||Be,async:e.async||n.async||Te}},t.prototype.resolve=function(t,e){var n=this,r=qt.b.$q,i=t.findNode(this),o=i&&i.state,a=this.getPolicy(o).async,s=Object(Lt.d)(a)?a:zt.r;return this.promise=r.when().then((function(){return r.all(t.getDependencies(n).map((function(n){return n.get(t,e)})))})).then((function(t){return n.resolveFn.apply(null,t)})).then(s).then((function(t){return n.data=t,n.resolved=!0,n.resolveFn=null,pe.traceResolvableResolved(n,e),n.data}))},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+Jt(this.token)+", requires: ["+this.deps.map(Jt)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,n){return new t(e,(function(){return n}),null,null,n)},t}(),ke=Oe,Ve=[ke.EAGER,ke.LAZY],Se=[ke.EAGER],je=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce((function(t,e){return t.concat(e.resolvables.map((function(t){return t.token})))}),[]).reduce(zt.I,[])},t.prototype.getResolvable=function(t){var e=this._path.map((function(t){return t.resolvables})).reduce(zt.K,[]).filter((function(e){return e.token===t}));return Object(zt.G)(e)},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(Ee.subPath(this._path,(function(t){return t.state===e})))},t.prototype.addResolvables=function(t,e){var n=Object(zt.n)(this._path,Object(Ft.l)("state",e)),r=t.map((function(t){return t.token}));n.resolvables=n.resolvables.filter((function(t){return-1===r.indexOf(t.token)})).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var r=(Object(zt.s)(Ve,t)?t:"LAZY")===Oe.EAGER?Se:Ve;pe.traceResolvePath(this._path,t,e);var i=function(t,e){return function(r){return Object(zt.s)(t,n.getPolicy(r)[e])}},o=this._path.reduce((function(t,o){var a=o.resolvables.filter(i(r,"when")),s=a.filter(i(["NOWAIT"],"async")),u=a.filter(Object(Ft.f)(i(["NOWAIT"],"async"))),c=n.subContext(o.state),l=function(t){return t.get(c,e).then((function(e){return{token:t.token,value:e}}))};return s.forEach(l),t.concat(u.map(l))}),[]);return qt.b.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new Re(this))},t.prototype.findNode=function(t){return Object(zt.n)(this._path,(function(e){return Object(zt.s)(e.resolvables,t)}))},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),r=(Ee.subPath(this._path,(function(t){return t===n}))||this._path).reduce((function(t,e){return t.concat(e.resolvables)}),[]).filter((function(e){return e!==t}));return t.deps.map((function(t){var n=r.filter((function(e){return e.token===t}));if(n.length)return Object(zt.G)(n);var i=e.injector().getNative(t);if(Object(Lt.m)(i))throw new Error("Could not find Dependency Injection token: "+Jt(t));return new Ie(t,(function(){return i}),[],i)}))},t}(),Re=function(){function t(t){this.context=t,this.native=this.get("Native Injector")||qt.b.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+Jt(e.token));return e.data}return this.getNative(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):qt.b.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}();function Ne(t){return t.name}function De(t){return t.self.$$state=function(){return t},t.self}function Pe(t){return t.parent&&t.parent.data&&(t.data=t.self.data=Object(zt.t)(t.parent.data,t.data)),t.data}var Me=function(t,e){return function(n){var r=n.self;if(r&&r.url&&r.name&&r.name.match(/\.\*\*$/)){var i={};Object(zt.g)(r,i),i.url+="{remainder:any}",r=i}var o=n.parent,a=function(t){if(!Object(Lt.l)(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(r.url),s=a?t.compile(a.val,{state:r}):r.url;if(!s)return null;if(!t.isMatcher(s))throw new Error("Invalid url '"+s+"' in state '"+n+"'");return a&&a.root?s:(o&&o.navigable||e()).url.append(s)}},ze=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}};function qe(t){return t.parent?t.parent.path.concat(t):[t]}function Ue(t){var e=t.parent?Object(zt.l)({},t.parent.includes):{};return e[t.name]=!0,e}function Fe(t){var e=function(t){return t.provide||t.token},n=Object(Ft.i)([[Object(Ft.k)("resolveFn"),function(t){return new Ie(e(t),t.resolveFn,t.deps,t.policy)}],[Object(Ft.k)("useFactory"),function(t){return new Ie(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[Object(Ft.k)("useClass"),function(t){return new Ie(e(t),(function(){return new t.useClass}),[],t.policy)}],[Object(Ft.k)("useValue"),function(t){return new Ie(e(t),(function(){return t.useValue}),[],t.policy,t.useValue)}],[Object(Ft.k)("useExisting"),function(t){return new Ie(e(t),zt.r,[t.useExisting],t.policy)}]]),r=Object(Ft.i)([[Object(Ft.j)(Object(Ft.k)("val"),Lt.l),function(t){return new Ie(t.token,zt.r,[t.val],t.policy)}],[Object(Ft.j)(Object(Ft.k)("val"),Lt.a),function(t){return new Ie(t.token,Object(zt.G)(t.val),t.val.slice(0,-1),t.policy)}],[Object(Ft.j)(Object(Ft.k)("val"),Lt.d),function(t){return new Ie(t.token,t.val,(e=t.val,n=qt.b.$injector,e.$inject||n&&n.annotate(e,n.strictDi)||"deferred"),t.policy);var e,n}]]),i=Object(Ft.i)([[Object(Ft.e)(Ie),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},n],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},n],[function(t){return!!(t&&t.val&&(Object(Lt.l)(t.val)||Object(Lt.a)(t.val)||Object(Lt.d)(t.val)))},r],[Object(Ft.m)(!0),function(t){throw new Error("Invalid resolve value: "+Jt(t))}]]),o=t.resolve;return(Object(Lt.a)(o)?o:function(t,e){return Object.keys(t||{}).map((function(n){return{token:n,val:t[n],deps:void 0,policy:e[n]}}))}(o,t.resolvePolicy||{})).map(i)}var Le,$e,He=function(){function t(t,e){this.matcher=t;var n,r=this,i=function(){return t.find("")},o=function(t){return""===t.name};this.builders={name:[Ne],self:[De],parent:[function(e){return o(e)?null:t.find(r.parentName(e))||i()}],data:[Pe],url:[Me(e,i)],navigable:[ze(o)],params:[(n=e.paramFactory,function(t){var e=t.url&&t.url.parameters({inherit:!1})||[],r=Object(zt.L)(Object(zt.v)(Object(zt.y)(t.params||{},e.map(Object(Ft.k)("id"))),(function(e,r){return n.fromConfig(r,null,t.self)})));return e.concat(r).map((function(t){return[t.id,t]})).reduce(zt.d,{})})],views:[],path:[qe],includes:[Ue],resolvables:[Fe]}}return t.prototype.builder=function(t,e){var n=this.builders,r=n[t]||[];return Object(Lt.l)(t)&&!Object(Lt.c)(e)?r.length>1?r:r[0]:Object(Lt.l)(t)&&Object(Lt.d)(e)?(n[t]=r,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this.matcher,n=this.builders,r=this.parentName(t);if(r&&!e.find(r,void 0,!1))return null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i].reduce((function(t,e){return function(n){return e(n,t)}}),zt.x);t[i]=o(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if("**"===n.pop()&&n.pop(),n.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return n.join(".")}return t.parent?Object(Lt.l)(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=Object(Lt.l)(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),We=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=Object(zt.t)(Object(zt.t)(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:Ut.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=Object(zt.i)(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(Object(zt.L)(this.params)).filter((function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)}))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||Object(zt.n)(Object(zt.L)(this.params),Object(Ft.l)("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return Object(Lt.d)(t)&&!0===t.__uiRouterState},t.isState=function(t){return Object(Lt.i)(t.__stateObjectCache)},t}(),Ye=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var r=Object(Lt.l)(t),i=r?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(r||!(r||o!==t&&o.self!==t)))return o;if(r&&n){var a=Object(zt.L)(this._states).filter((function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)}));return a.length>1&&ae.error("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map((function(t){return t.name}))),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),r=t.split("."),i=r.length,o=0,a=n;o<i;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(o).join(".");return a.name+(a.name&&s?".":"")+s},t}(),Qe=function(){function t(t,e,n,r){this.router=t,this.states=e,this.builder=n,this.listeners=r,this.queue=[]}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=We.create(t),r=n.name;if(!Object(Lt.l)(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||Object(zt.s)(e.map(Object(Ft.k)("name")),r))throw new Error("State '"+r+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,r=this.builder,i=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},u=function(){i.length&&t.listeners.forEach((function(t){return t("registered",i.map((function(t){return t.self})))}))};e.length>0;){var c=e.shift(),l=c.name,h=r.build(c),f=o.indexOf(c);if(h){var p=s(l);if(p&&p.name===l)throw new Error("State '"+l+"' is already defined");var d=s(l+".**");d&&this.router.stateRegistry.deregister(d),n[l]=c,this.attachRoute(c),f>=0&&o.splice(f,1),i.push(c)}else{var A=a[l];if(a[l]=e.length,f>=0&&A===e.length)return e.push(c),u(),n;f<0&&o.push(c),e.push(c)}}return u(),n},t.prototype.attachRoute=function(t){if(!t.abstract&&t.url){var e=this.router.urlService.rules;e.rule(e.urlRuleFactory.create(t))}},t}(),Ge=function(){function t(t){this.router=t,this.states={},this.listeners=[],this.matcher=new Ye(this.states),this.builder=new He(this.matcher,t.urlMatcherFactory),this.stateQueue=new Qe(t,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach((function(e){return t.get(e)&&t.deregister(e)}))},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){Object(zt.C)(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map((function(t){return t.$$state()})),r=function(t){var e=n.filter((function(e){return-1!==t.indexOf(e.parent)}));return 0===e.length?e:e.concat(r(e))},i=r([t]),o=[t].concat(i).reverse();return o.forEach((function(t){var n=e.router.urlService.rules;n.rules().filter(Object(Ft.l)("state",t)).forEach((function(t){return n.removeRule(t)})),delete e.states[t.name]})),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach((function(t){return t("deregistered",n.map((function(t){return t.self})))})),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map((function(t){return n.states[t].self}));var r=this.matcher.find(t,e);return r&&r.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(Le||(Le={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}($e||($e={}));var Xe={current:zt.x,transition:null,traceData:{},bind:null},Ke=function(){function t(t,e,n,r){var i=this;this.transition=t,this.stateContext=e,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return i.type.hookPhase===Le.RUN&&!i.options.transition.isActive()},this.options=Object(zt.i)(r,Xe),this.type=n.eventType}return t.chain=function(t,e){return t.reduce((function(t,e){return t.then((function(){return e.invokeHook()}))}),e||qt.b.$q.when())},t.invokeHooks=function(e,n){for(var r=0;r<e.length;r++){var i=e[r].invokeHook();if(Object(Lt.j)(i)){var o=e.slice(r+1);return t.chain(o,i).then(n)}}return n()},t.runAllHooks=function(t){t.forEach((function(t){return t.invokeHook()}))},t.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},t.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;pe.traceHookInvocation(this,this.transition,r);var i=function(n){return e.eventType.getErrorHandler(t)(n)},o=function(n){return e.eventType.getResultHandler(t)(n)};try{var a=e.callback.call(r.bind,t.transition,t.stateContext);return!this.type.synchronous&&Object(Lt.j)(a)?a.catch((function(t){return Wt.normalize(t).toPromise()})).then(o,i):o(a)}catch(t){return i(Wt.normalize(t))}finally{e.invokeLimit&&++e.invokeCount>=e.invokeLimit&&e.deregister()}}},t.prototype.handleHookResult=function(t){var e=this,n=this.getNotCurrentRejection();return n||(Object(Lt.j)(t)?t.then((function(t){return e.handleHookResult(t)})):(pe.traceHookResult(t,this.transition,this.options),!1===t?Wt.aborted("Hook aborted transition").toPromise():Object(Ft.e)(xe)(t)?Wt.redirected(t).toPromise():void 0))},t.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Wt.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Wt.aborted().toPromise():this.isSuperseded()?Wt.superseded(this.options.current()).toPromise():void 0},t.prototype.toString=function(){var t=this.options,e=this.registeredHook;return(Object(Ft.h)("traceData.hookType")(t)||"internal")+" context: "+(Object(Ft.h)("traceData.context.state.name")(t)||Object(Ft.h)("traceData.context")(t)||"unknown")+", "+Yt(200,Gt(e.callback))},t.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},t.LOG_REJECTED_RESULT=function(t){return function(e){Object(Lt.j)(e)&&e.catch((function(e){return t.logError(Wt.normalize(e))}))}},t.LOG_ERROR=function(t){return function(e){return t.logError(e)}},t.REJECT_ERROR=function(t){return function(t){return Object(zt.F)(t)}},t.THROW_ERROR=function(t){return function(t){throw t}},t}();function Je(t,e,n){var r=Object(Lt.l)(e)?[e]:e;return!!(Object(Lt.d)(r)?r:function(t){for(var e=r,n=0;n<e.length;n++){var i=new Ut(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1})(t,n)}var Ze=function(){function t(t,e,n,r,i,o){void 0===o&&(o={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=r,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return t.prototype._matchingNodes=function(t,e,n){if(!0===e)return t;var r=t.filter((function(t){return Je(t.state,e,n)}));return r.length?r:null},t.prototype._getDefaultMatchCriteria=function(){return Object(zt.v)(this.tranSvc._pluginapi._getPathTypes(),(function(){return!0}))},t.prototype._getMatchingNodes=function(t,e){var n=this,r=Object(zt.l)(this._getDefaultMatchCriteria(),this.matchCriteria);return Object(zt.L)(this.tranSvc._pluginapi._getPathTypes()).reduce((function(i,o){var a=o.scope===$e.STATE,s=t[o.name]||[],u=a?s:[Object(zt.G)(s)];return i[o.name]=n._matchingNodes(u,r[o.name],e),i}),{})},t.prototype.matches=function(t,e){var n=this._getMatchingNodes(t,e);return Object(zt.L)(n).every(zt.r)?n:null},t.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},t}();function tn(t,e,n){var r=(t._registeredHooks=t._registeredHooks||{})[n.name]=[],i=Object(zt.C)(r);function o(t,o,a){void 0===a&&(a={});var s=new Ze(e,n,o,t,i,a);return r.push(s),s.deregister.bind(s)}return t[n.name]=o,o}var en=function(){function t(t){this.transition=t}return t.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map((function(t){return e.buildHooks(t)})).reduce(zt.K,[]).filter(zt.r)},t.prototype.buildHooks=function(t){var e=this.transition,n=e.treeChanges(),r=this.getMatchingHooks(t,n,e);if(!r)return[];var i={transition:e,current:e.options().current};return r.map((function(r){return r.matches(n,e)[t.criteriaMatchPath.name].map((function(n){var o=Object(zt.l)({bind:r.bind,traceData:{hookType:t.name,context:n}},i),a=t.criteriaMatchPath.scope===$e.STATE?n.state.self:null,s=new Ke(e,a,r,o);return{hook:r,node:n,transitionHook:s}}))})).reduce(zt.K,[]).sort(function(t){void 0===t&&(t=!1);return function(e,n){var r=t?-1:1,i=(e.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-e.hook.priority}}(t.reverseSort)).map((function(t){return t.transitionHook}))},t.prototype.getMatchingHooks=function(t,e,n){var r=t.hookPhase===Le.CREATE,i=this.transition.router.transitionService;return(r?[i]:[this.transition,i]).map((function(e){return e.getHooks(t.name)})).filter(Object(zt.f)(Lt.a,"broken event named: "+t.name)).reduce(zt.K,[]).filter((function(t){return t.matches(e,n)}))},t}();var nn=Object(Ft.k)("self"),rn=function(){function t(t,e,n){var r=this;if(this._deferred=qt.b.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new en(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,this._targetState=e,!e.valid())throw new Error(e.error());this._options=Object(zt.l)({current:Object(Ft.m)(this)},e.options()),this.$id=n.transitionService._transitionCount++;var i=Ee.buildToPath(t,e);this._treeChanges=Ee.treeChanges(t,i,this._options.reloadState),this.createTransitionHookRegFns();var o=this._hookBuilder.buildHooksForPhase(Le.CREATE);Ke.invokeHooks(o,(function(){return null})),this.applyViewConfigs(n)}return t.prototype.onBefore=function(t,e,n){},t.prototype.onStart=function(t,e,n){},t.prototype.onExit=function(t,e,n){},t.prototype.onRetain=function(t,e,n){},t.prototype.onEnter=function(t,e,n){},t.prototype.onFinish=function(t,e,n){},t.prototype.onSuccess=function(t,e,n){},t.prototype.onError=function(t,e,n){},t.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter((function(t){return t.hookPhase!==Le.CREATE})).forEach((function(e){return tn(t,t.router.transitionService,e)}))},t.prototype.getHooks=function(t){return this._registeredHooks[t]},t.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map((function(t){return t.state}));Ee.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},t.prototype.$from=function(){return Object(zt.G)(this._treeChanges.from).state},t.prototype.$to=function(){return Object(zt.G)(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!Je(this.$to(),e.to,this)||e.from&&!Je(this.$from(),e.from,this))},t.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(Object(Ft.k)("paramValues")).reduce(zt.w,{}))},t.prototype.paramsChanged=function(){var t=this.params("from"),e=this.params("to"),n=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map((function(t){return t.paramSchema})).reduce(zt.o,[]).reduce(zt.I,[]);return _e.changed(n,t,e).reduce((function(t,n){return t[n.id]=e[n.id],t}),{})},t.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=Ee.subPath(n,(function(e){return e.state===t||e.state.name===t}))),new je(n).injector()},t.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new je(this._treeChanges[t]).getTokens()},t.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Object(Ft.e)(Ie)(t)?t:new Ie(t);var n="string"==typeof e?e:e.name,r=this._treeChanges.to,i=Object(zt.n)(r,(function(t){return t.state.name===n}));new je(r).addResolvables([t],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return Object(zt.u)(this._treeChanges.entering,Object(Ft.k)("state")).map(nn)},t.prototype.exiting=function(){return Object(zt.u)(this._treeChanges.exiting,Object(Ft.k)("state")).map(nn).reverse()},t.prototype.retained=function(){return Object(zt.u)(this._treeChanges.retained,Object(Ft.k)("state")).map(nn)},t.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(Object(Ft.l)("state",e)):n).map(Object(Ft.k)("views")).filter(zt.r).reduce(zt.K,[])},t.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},t.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(r.location="replace");var i=Object(zt.l)({},this.options(),t.options(),r);t=t.withOptions(i,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,t),s=this._treeChanges.entering,u=a._treeChanges.entering;return Ee.matching(u,s,Ee.nonDynamicParams).filter(Object(Ft.f)((o=t.options().reloadState,function(t){return o&&t.state.includes[o.name]}))).forEach((function(t,e){t.resolvables=s[e].resolvables})),a},t.prototype._changedParams=function(){var t=this._treeChanges;if(!this._options.reload&&(!t.exiting.length&&!t.entering.length&&t.to.length===t.from.length&&!Object(zt.e)(t.to,t.from).map((function(t){return t[0].state!==t[1].state})).reduce(zt.c,!1))){var e=t.to.map((function(t){return t.paramSchema})),n=[t.to,t.from].map((function(t){return t.map((function(t){return t.paramValues}))})),r=n[0],i=n[1];return Object(zt.e)(e,r,i).map((function(t){var e=t[0],n=t[1],r=t[2];return _e.changed(e,n,r)})).reduce(zt.K,[])}},t.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map((function(t){return t.dynamic})).reduce(zt.c,!1)},t.prototype.ignored=function(){return!!this._ignoredReason()},t.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var r=Ee.matching(t,n);return t.length===r.filter((function(t){return!e||!t.state.includes[e.name]})).length},r=this.treeChanges(),i=t&&t.treeChanges();return i&&n(i.to,r.to)&&n(i.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},t.prototype.run=function(){var t=this,e=Ke.runAllHooks,n=function(e){return t._hookBuilder.buildHooksForPhase(e)},r=n(Le.BEFORE);return Ke.invokeHooks(r,(function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),pe.traceTransitionStart(t),qt.b.$q.when(void 0)})).then((function(){var t=n(Le.RUN);return Ke.invokeHooks(t,(function(){return qt.b.$q.when(void 0)}))})).then((function(){pe.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),e(n(Le.SUCCESS))}),(function(r){pe.traceError(r,t),t.success=!1,t._deferred.reject(r),t._error=r,e(n(Le.ERROR))})),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.abort=function(){Object(Lt.m)(this.success)&&(this._aborted=!0)},t.prototype.error=function(){var t=this.$to();if(t.self.abstract)return Wt.invalid("Cannot transition to abstract state '"+t.name+"'");var e=t.parameters(),n=this.params(),r=e.filter((function(t){return!t.validates(n[t.id])}));if(r.length){var i=r.map((function(t){return"["+t.id+":"+Jt(n[t.id])+"]"})).join(", "),o="The following parameter values are not valid for state '"+t.name+"': "+i;return Wt.invalid(o)}return!1===this.success?this._error:void 0},t.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:Object(zt.y)(t,["#"])};return"Transition#"+this.$id+"( '"+(Object(Lt.i)(t)?t.name:t)+"'"+Jt(n(this._treeChanges.from.map(Object(Ft.k)("paramValues")).reduce(zt.w,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Object(Lt.i)(e)?e.name:e)+"'"+Jt(n(this.params()))+" )"},t.diToken=t,t}();function on(t,e){var n=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return r+n[0]+e.type.pattern.source+n[1]}var an,sn=(an=new RegExp("("+"/"+")","g"),function(t){return t.split(an).filter(zt.r)}),un={state:{params:{}},strict:!0,caseInsensitive:!0},cn=function(){function t(e,n,r,i){var o=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=i=Object(zt.i)(i,un),this.pattern=e;for(var a,s,u,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=[],f=0,p=function(n){if(!t.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(Object(zt.n)(o._params,Object(Ft.l)("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'")},d=function(t,r){var i,a=t[2]||t[3],s=r?t[4]:t[4]||("*"===t[1]?"[\\s\\S]*":null);return{id:a,regexp:s,segment:e.substring(f,t.index),type:s?n.type(s)||(i=s,Object(zt.t)(n.type(r?"query":"path"),{pattern:new RegExp(i,o.config.caseInsensitive?"i":void 0)})):null}};(a=c.exec(e))&&!((s=d(a,!1)).segment.indexOf("?")>=0);)p(s.id),this._params.push(r.fromPath(s.id,s.type,i.state)),this._segments.push(s.segment),h.push([s.segment,Object(zt.G)(this._params)]),f=c.lastIndex;var A=(u=e.substring(f)).indexOf("?");if(A>=0){var g=u.substring(A);if(u=u.substring(0,A),g.length>0)for(f=0;a=l.exec(g);)p((s=d(a,!0)).id),this._params.push(r.fromSearch(s.id,s.type,i.state)),f=c.lastIndex}this._segments.push(u),this._compiled=h.map((function(t){return on.apply(null,t)})).concat(on(u))}return t.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,(function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()}))},t.pathSegmentsAndParams=function(t){var e=t._segments,n=t._params.filter((function(t){return t.location===ge.PATH}));return Object(zt.e)(e,n.concat(void 0)).reduce(zt.K,[]).filter((function(t){return""!==t&&Object(Lt.c)(t)}))},t.queryParams=function(t){return t._params.filter((function(t){return t.location===ge.SEARCH}))},t.compare=function(e,n){var r=function(e){return e._cache.weights=e._cache.weights||function(e){return e._cache.segments=e._cache.segments||e._cache.path.map(t.pathSegmentsAndParams).reduce(zt.K,[]).reduce(ie,[]).map((function(t){return Object(Lt.l)(t)?sn(t):t})).reduce(zt.K,[])}(e).map((function(t){return"/"===t?1:Object(Lt.l)(t)?2:t instanceof _e?3:void 0}))},i=r(e),o=r(n);!function(t,e,n){for(var r=Math.max(t.length,e.length);t.length<r;)t.push(n);for(;e.length<r;)e.push(n)}(i,o,0);var a,s,u=Object(zt.e)(i,o);for(s=0;s<u.length;s++)if(0!==(a=u[s][0]-u[s][1]))return a;return 0},t.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},t.prototype.isRoot=function(){return this._cache.path[0]===this},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(t,e,n,r){var i=this;void 0===e&&(e={}),void 0===r&&(r={});var o,a,s,u=(o=this._cache,a="pattern",s=function(){return new RegExp(["^",Object(zt.J)(i._cache.path.map(Object(Ft.k)("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)},o[a]=o[a]||s()).exec(t);if(!u)return null;var c,l,h,f=this.parameters(),p=f.filter((function(t){return!t.isSearch()})),d=f.filter((function(t){return t.isSearch()})),A=this._cache.path.map((function(t){return t._segments.length-1})).reduce((function(t,e){return t+e})),g={};if(A!==u.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var m=0;m<A;m++){for(var v=p[m],y=u[m+1],_=0;_<v.replace.length;_++)v.replace[_].from===y&&(y=v.replace[_].to);y&&!0===v.array&&(c=void 0,l=void 0,h=void 0,l=(c=function(t){return t.split("").reverse().join("")})(y).split(/-(?!\\)/),h=Object(zt.u)(l,c),y=Object(zt.u)(h,(function(t){return t.replace(/\\-/g,"-")})).reverse()),Object(Lt.c)(y)&&(y=v.type.decode(y)),g[v.id]=v.value(y)}return d.forEach((function(t){for(var n=e[t.id],r=0;r<t.replace.length;r++)t.replace[r].from===n&&(n=t.replace[r].to);Object(Lt.c)(n)&&(n=t.type.decode(n)),g[t.id]=t.value(n)})),n&&(g["#"]=n),g},t.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:Object(zt.J)(this._cache.path.map((function(t){return t._params})))},t.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var r=this._cache.parent;return function(){for(var e=0,r=n._params;e<r.length;e++){var i=r[e];if(i.id===t)return i}}()||!1!==e.inherit&&r&&r.parameter(t,e)||null},t.prototype.validates=function(t){return t=t||{},this.parameters().filter((function(e){return t.hasOwnProperty(e.id)})).map((function(e){return n=e,r=t[e.id],!n||n.validates(r);var n,r})).reduce(zt.a,!0)},t.prototype.format=function(e){void 0===e&&(e={});var n=this._cache.path,r=n.map(t.pathSegmentsAndParams).reduce(zt.K,[]).map((function(t){return Object(Lt.l)(t)?t:o(t)})),i=n.map(t.queryParams).reduce(zt.K,[]).map(o);if(r.concat(i).filter((function(t){return!1===t.isValid})).length)return null;function o(t){var n=t.value(e[t.id]),r=t.validates(n),i=t.isDefaultValue(n),o=!!i&&t.squash,a=t.type.encode(n);return{param:t,value:n,isValid:r,isDefaultValue:i,squash:o,encoded:a}}var a=r.reduce((function(e,n){if(Object(Lt.l)(n))return e+n;var r=n.squash,i=n.encoded,o=n.param;return!0===r?e.match(/\/$/)?e.slice(0,-1):e:Object(Lt.l)(r)?e+r:!1!==r||null==i?e:Object(Lt.a)(i)?e+Object(zt.u)(i,t.encodeDashes).join("-"):o.raw?e+i:e+encodeURIComponent(i)}),""),s=i.map((function(t){var e=t.param,n=t.squash,r=t.encoded,i=t.isDefaultValue;if(!(null==r||i&&!1!==n)&&(Object(Lt.a)(r)||(r=[r]),0!==r.length))return e.raw||(r=Object(zt.u)(r,encodeURIComponent)),r.map((function(t){return e.id+"="+t}))})).filter(zt.r).reduce(zt.K,[]).join("&");return a+(s?"?"+s:"")+(e["#"]?"#"+e["#"]:"")},t.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t}(),ln=function(){return(ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},hn=function(){function t(t){this.router=t}return t.prototype.fromConfig=function(t,e,n){return new _e(t,e,ge.CONFIG,this.router.urlService.config,n)},t.prototype.fromPath=function(t,e,n){return new _e(t,e,ge.PATH,this.router.urlService.config,n)},t.prototype.fromSearch=function(t,e,n){return new _e(t,e,ge.SEARCH,this.router.urlService.config,n)},t}(),fn=function(){function t(t){var e=this;this.router=t,this.paramFactory=new hn(this.router),this.caseInsensitive=function(t){return e.router.urlService.config.caseInsensitive(t)},this.defaultSquashPolicy=function(t){return e.router.urlService.config.defaultSquashPolicy(t)},this.strictMode=function(t){return e.router.urlService.config.strictMode(t)},this.type=function(t,n,r){return e.router.urlService.config.type(t,n,r)||e},Object(zt.l)(this,{UrlMatcher:cn,Param:_e})}return t.prototype.compile=function(t,e){var n=this.router.urlService.config,r=e&&!e.state&&e.params;e=r?ln({state:{params:r}},e):e;var i={strict:n._isStrictMode,caseInsensitive:n._isCaseInsensitive};return new cn(t,n.paramTypes,this.paramFactory,Object(zt.l)(i,e))},t.prototype.isMatcher=function(t){if(!Object(Lt.i)(t))return!1;var e=!0;return Object(zt.p)(cn.prototype,(function(n,r){Object(Lt.d)(n)&&(e=e&&Object(Lt.c)(t[r])&&Object(Lt.d)(t[r]))})),e},t.prototype.$get=function(){var t=this.router.urlService.config;return t.paramTypes.enqueue=!1,t.paramTypes._flushTypeQueue(),this},t}(),pn=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,r=We.isState,i=Object(Ft.i)([[Lt.l,function(t){return i(n.compile(t))}],[Object(Ft.e)(cn),function(t){return n.fromUrlMatcher(t,e)}],[r,function(t){return n.fromState(t,n.router)}],[Object(Ft.e)(RegExp),function(t){return n.fromRegExp(t,e)}],[Lt.d,function(t){return new dn(t,e)}]]),o=i(t);if(!o)throw new Error("invalid 'what' in when()");return o},t.prototype.fromUrlMatcher=function(t,e){var n=e;Object(Lt.l)(e)&&(e=this.router.urlMatcherFactory.compile(e)),Object(Ft.e)(cn)(e)&&(n=function(t){return e.format(t)});var r={urlMatcher:t,matchPriority:function(e){var n=t.parameters().filter((function(t){return t.isOptional}));return n.length?n.filter((function(t){return e[t.id]})).length/n.length:1e-6},type:"URLMATCHER"};return Object(zt.l)(new dn((function(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n}),n),r)},t.prototype.fromState=function(t,e){var n={state:t,type:"STATE"};return Object(zt.l)(this.fromUrlMatcher(t.url,(function(n){var r=e.stateService,i=e.globals;r.href(t,n)!==r.href(i.current,i.params)&&r.transitionTo(t,n,{inherit:!0,source:"url"})})),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=Object(Lt.l)(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,(function(e,n){return t["$"===n?0:Number(n)]}))}:e,r={regexp:t,type:"REGEXP"};return Object(zt.l)(new dn((function(e){return t.exec(e.path)}),n),r)},t.isUrlRule=function(t){return t&&["type","match","handler"].every((function(e){return Object(Lt.c)(t[e])}))},t}(),dn=function(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||zt.r};var An,gn=function(){function t(t){var e=this;this.router=t,this.sync=function(t){return e.router.urlService.sync(t)},this.listen=function(t){return e.router.urlService.listen(t)},this.deferIntercept=function(t){return e.router.urlService.deferIntercept(t)},this.match=function(t){return e.router.urlService.match(t)},this.initial=function(t){return e.router.urlService.rules.initial(t)},this.otherwise=function(t){return e.router.urlService.rules.otherwise(t)},this.removeRule=function(t){return e.router.urlService.rules.removeRule(t)},this.rule=function(t){return e.router.urlService.rules.rule(t)},this.rules=function(){return e.router.urlService.rules.rules()},this.sort=function(t){return e.router.urlService.rules.sort(t)},this.when=function(t,n,r){return e.router.urlService.rules.when(t,n,r)},this.urlRuleFactory=new pn(t)}return t.prototype.update=function(t){var e=this.router.locationService;t?this.location=e.url():e.url()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var r=n&&!!n.replace;this.router.urlService.url(t.format(e||{}),r)},t.prototype.href=function(t,e,n){var r=t.format(e);if(null==r)return null;n=n||{absolute:!1};var i=this.router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=function(t,e,n,r){return"/"===r?t:e?te(r)+t:n?r.slice(1)+t:t}(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port(),u=80===s||443===s?"":":"+s;return[i.protocol(),"://",i.host(),u,a,r].join("")},Object.defineProperty(t.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0}),t}(),mn=function(){function t(t){var e=this;this.router=t,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return Object(zt.n)(e._uiViews,(function(n){return e.router.$id+"."+n.id===t}))},_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs},_onSync:function(t){return e._listeners.push(t),function(){return Object(zt.C)(e._listeners,t)}}}}return t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),r=n[0]||"$default",i=Object(Lt.l)(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i="");if(/^(\^(?:\.\^)*)$/.exec(i)){var a=i.split(".").reduce((function(t,e){return t.parent}),t);i=a.name}else"."===i&&(i=t.name);return{uiViewName:r,uiViewContextAnchor:i}},t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var r=n(t,e);return Object(Lt.a)(r)?r:[r]},t.prototype.deactivateViewConfig=function(t){pe.traceViewServiceEvent("<- Removing",t),Object(zt.C)(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){pe.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){var e=this,n=this._uiViews.map((function(t){return[t.fqn,t]})).reduce(zt.d,{});function r(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var i=Object(Ft.d)((function(t,e,n,r){return e*(t(n)-t(r))})),o=this._uiViews.sort(i((function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)}),1)).map((function(o){var a=e._viewConfigs.filter(t.matches(n,o));return a.length>1&&a.sort(i(r,-1)),{uiView:o,viewConfig:a[0]}})),a=o.map((function(t){return t.viewConfig})),s=this._viewConfigs.filter((function(t){return!Object(zt.s)(a,t)})).map((function(t){return{uiView:void 0,viewConfig:t}}));o.forEach((function(t){-1!==e._uiViews.indexOf(t.uiView)&&t.uiView.configUpdated(t.viewConfig)}));var u=o.concat(s);this._listeners.forEach((function(t){return t(u)})),pe.traceViewSync(u)},t.prototype.registerUIView=function(t){pe.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter((function(e){return e.fqn===t.fqn&&e.$type===t.$type})).length&&pe.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(pe.traceViewServiceUIViewEvent("<- Deregistering",t),Object(zt.C)(e)(t)):pe.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(Object(Ft.k)("fqn"))},t.prototype.active=function(){return this._uiViews.filter(Object(Ft.k)("$config")).map(Object(Ft.k)("name"))},t.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=e.fqn.split(".");if(!Object(zt.k)(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,s=o.slice(0,a).join("."),u=t[s].creationContext;return r.$uiViewContextAnchor===(u&&u.name)}},t}(),vn=function(){function t(){this.params=new we,this.lastStartedTransitionId=-1,this.transitionHistory=new $t([],1),this.successfulTransitions=new $t([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}();function yn(t){if(!(Object(Lt.d)(t)||Object(Lt.l)(t)||Object(Ft.e)(xe)(t)||xe.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Object(Lt.d)(t)?t:Object(Ft.m)(t)}An=function(t,e){var n=function(t,e){return(e.priority||0)-(t.priority||0)}(t,e);return 0!==n||0!==(n=function(t,e){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[t.type]||0)-(n[e.type]||0)}(t,e))||0!==(n=function(t,e){return t.urlMatcher&&e.urlMatcher?cn.compare(t.urlMatcher,e.urlMatcher):0}(t,e))?n:function(t,e){var n={STATE:!0,URLMATCHER:!0};return n[t.type]&&n[e.type]?0:(t.$id||0)-(e.$id||0)}(t,e)};var _n=function(){function t(t){this.router=t,this._sortFn=An,this._rules=[],this._id=0,this.urlRuleFactory=new pn(t)}return t.prototype.dispose=function(t){this._rules=[],delete this._otherwiseFn},t.prototype.initial=function(t){var e=yn(t);this.rule(this.urlRuleFactory.create((function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)}),e))},t.prototype.otherwise=function(t){var e=yn(t);this._otherwiseFn=this.urlRuleFactory.create(Object(Ft.m)(!0),e),this._sorted=!1},t.prototype.removeRule=function(t){Object(zt.C)(this._rules,t)},t.prototype.rule=function(t){var e=this;if(!pn.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},t.prototype.sort=function(t){for(var e=this.stableSort(this._rules,this._sortFn=t||this._sortFn),n=0,r=0;r<e.length;r++)e[r]._group=n,r<e.length-1&&0!==this._sortFn(e[r],e[r+1])&&n++;this._rules=e,this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(t,e){var n=t.map((function(t,e){return{elem:t,idx:e}}));return n.sort((function(t,n){var r=e(t.elem,n.elem);return 0===r?t.idx-n.idx:r})),n.map((function(t){return t.elem}))},t.prototype.when=function(t,e,n){var r=this.urlRuleFactory.create(t,e);return Object(Lt.c)(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},t}(),bn=function(){function t(t){var e=this;this.router=t,this.paramTypes=new be,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return e.paramTypes.dispose()},this.baseHref=function(){return e.router.locationConfig.baseHref()},this.hashPrefix=function(t){return e.router.locationConfig.hashPrefix(t)},this.host=function(){return e.router.locationConfig.host()},this.html5Mode=function(){return e.router.locationConfig.html5Mode()},this.port=function(){return e.router.locationConfig.port()},this.protocol=function(){return e.router.locationConfig.protocol()}}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=Object(Lt.c)(t)?t:this._isCaseInsensitive},t.prototype.defaultSquashPolicy=function(t){if(Object(Lt.c)(t)&&!0!==t&&!1!==t&&!Object(Lt.l)(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Object(Lt.c)(t)?t:this._defaultSquashPolicy},t.prototype.strictMode=function(t){return this._isStrictMode=Object(Lt.c)(t)?t:this._isStrictMode},t.prototype.type=function(t,e,n){var r=this.paramTypes.type(t,e,n);return Object(Lt.c)(e)?this:r},t}(),wn=function(){function t(t){var e=this;this.router=t,this.interceptDeferred=!1,this.rules=new _n(this.router),this.config=new bn(this.router),this.url=function(t,n,r){return e.router.locationService.url(t,n,r)},this.path=function(){return e.router.locationService.path()},this.search=function(){return e.router.locationService.search()},this.hash=function(){return e.router.locationService.hash()},this.onChange=function(t){return e.router.locationService.onChange(t)}}return t.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this.router,n=e.urlService,r=e.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);Object(Ft.i)([[Lt.l,function(t){return n.url(t,!0)}],[xe.isDef,function(t){return r.go(t.state,t.params,t.options)}],[Object(Ft.e)(xe),function(t){return r.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,this.router))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange((function(t){return e.sync(t)}));this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t.prototype.match=function(t){var e=this;t=Object(zt.l)({path:"",search:{},hash:""},t);for(var n,r,i,o=this.rules.rules(),a=0;a<o.length&&(!n||n.rule._group===o[a]._group);a++){var s=(r=o[a],i=void 0,(i=r.match(t,e.router))&&{match:i,rule:r,weight:r.matchPriority(i)});n=!n||s&&s.weight>n.weight?s:n}return n},t}(),Cn=0,xn=Object(qt.a)("LocationServices",["url","path","search","hash","onChange"]),En=Object(qt.a)("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),On=function(){function t(t,e){void 0===t&&(t=xn),void 0===e&&(e=En),this.locationService=t,this.locationConfig=e,this.$id=Cn++,this._disposed=!1,this._disposables=[],this.trace=pe,this.viewService=new mn(this),this.globals=new vn,this.transitionService=new Gn(this),this.urlMatcherFactory=new fn(this),this.urlRouter=new gn(this),this.urlService=new wn(this),this.stateRegistry=new Ge(this),this.stateService=new Xn(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&Object(Lt.d)(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach((function(t){try{"function"==typeof t.dispose&&t.dispose(e),Object(zt.C)(e._disposables,t)}catch(t){}})))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:Object(zt.L)(this._plugins)},t}();function Bn(t){t.addResolvable(Ie.fromData(On,t.router),""),t.addResolvable(Ie.fromData(rn,t),""),t.addResolvable(Ie.fromData("$transition$",t),""),t.addResolvable(Ie.fromData("$stateParams",t.params()),""),t.entering().forEach((function(e){t.addResolvable(Ie.fromData("$state$",e),e)}))}var Tn=["$transition$",rn],In=Object(zt.s)(Tn),kn=function(t){var e=Object(zt.L)(t.treeChanges()).reduce(zt.K,[]).reduce(zt.I,[]),n=function(t){return In(t.token)?Ie.fromData(t.token,null):t};e.forEach((function(t){t.resolvables=t.resolvables.map(n)}))},Vn=function(t){var e=t.to().redirectTo;if(e){var n=t.router.stateService;return Object(Lt.d)(e)?qt.b.$q.when(e(t)).then(r):r(e)}function r(e){if(e)return e instanceof xe?e:Object(Lt.l)(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}};function Sn(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}var jn=Sn("onExit"),Rn=Sn("onRetain"),Nn=Sn("onEnter"),Dn=function(t){return new je(t.treeChanges().to).resolvePath("EAGER",t).then(zt.x)},Pn=function(t,e){return new je(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(zt.x)},Mn=function(t){return new je(t.treeChanges().to).resolvePath("LAZY",t).then(zt.x)},zn=function(t){var e=qt.b.$q,n=t.views("entering");if(n.length)return e.all(n.map((function(t){return e.when(t.load())}))).then(zt.x)},qn=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var r=t.router.viewService;n.forEach((function(t){return r.deactivateViewConfig(t)})),e.forEach((function(t){return r.activateViewConfig(t)})),r.sync()}},Un=function(t){var e=t.router.globals,n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},(function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,Object(zt.g)(t.params(),e.params)}),{priority:1e4}),t.promise.then(n,n)},Fn=function(t){var e=t.options(),n=t.router.stateService,r=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var i={replace:"replace"===e.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},Ln=function(t){var e=t.router;var n=t.entering().filter((function(t){return!!t.$$state().lazyLoad})).map((function(e){return $n(t,e)}));return qt.b.$q.all(n).then((function(){if("url"!==t.originalTransition().options().source){var n=t.targetState();return e.stateService.target(n.identifier(),n.params(),n.options())}var r=e.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,s=i.match;return e.stateService.target(a,s,t.options())}e.urlService.sync()}))};function $n(t,e){var n=e.$$state().lazyLoad,r=n._promise;if(!r){r=n._promise=qt.b.$q.when(n(t,e)).then((function(e){e&&Array.isArray(e.states)&&e.states.forEach((function(e){return t.router.stateRegistry.register(e)}));return e})).then((function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t}),(function(t){return delete n._promise,qt.b.$q.reject(t)}))}return r}var Hn=function(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Ke.HANDLE_RESULT),void 0===a&&(a=Ke.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};function Wn(t){var e=t._ignoredReason();if(e){pe.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),Wt.ignored().toPromise()}}function Yn(t){if(!t.valid())throw new Error(t.error().toString())}var Qn={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,supercede:!0,custom:{},current:function(){return null},source:"unknown"},Gn=function(){function t(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=Object(zt.h)(Object(Ft.m)(this),{},Object(Ft.m)(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),t.globals.successfulTransitions.onEvict(kn)}return t.prototype.onCreate=function(t,e,n){},t.prototype.onBefore=function(t,e,n){},t.prototype.onStart=function(t,e,n){},t.prototype.onExit=function(t,e,n){},t.prototype.onRetain=function(t,e,n){},t.prototype.onEnter=function(t,e,n){},t.prototype.onFinish=function(t,e,n){},t.prototype.onSuccess=function(t,e,n){},t.prototype.onError=function(t,e,n){},t.prototype.dispose=function(t){Object(zt.L)(this._registeredHooks).forEach((function(t){return t.forEach((function(e){e._deregistered=!0,Object(zt.C)(t,e)}))}))},t.prototype.create=function(t,e){return new rn(t,e,this._router)},t.prototype._defineCoreEvents=function(){var t=Le,e=Ke,n=this._criteriaPaths;this._defineEvent("onCreate",t.CREATE,0,n.to,!1,e.LOG_REJECTED_RESULT,e.THROW_ERROR,!0),this._defineEvent("onBefore",t.BEFORE,0,n.to),this._defineEvent("onStart",t.RUN,0,n.to),this._defineEvent("onExit",t.RUN,100,n.exiting,!0),this._defineEvent("onRetain",t.RUN,200,n.retained),this._defineEvent("onEnter",t.RUN,300,n.entering),this._defineEvent("onFinish",t.RUN,400,n.to),this._defineEvent("onSuccess",t.SUCCESS,0,n.to,!1,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!0),this._defineEvent("onError",t.ERROR,0,n.to,!1,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!0)},t.prototype._defineCorePaths=function(){var t=$e.STATE,e=$e.TRANSITION;this._definePathType("to",e),this._definePathType("from",e),this._definePathType("exiting",t),this._definePathType("retained",t),this._definePathType("entering",t)},t.prototype._defineEvent=function(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Ke.HANDLE_RESULT),void 0===a&&(a=Ke.REJECT_ERROR),void 0===s&&(s=!1);var u=new Hn(t,e,n,r,i,o,a,s);this._eventTypes.push(u),tn(this,this,u)},t.prototype._getEvents=function(t){return(Object(Lt.c)(t)?this._eventTypes.filter((function(e){return e.hookPhase===t})):this._eventTypes.slice()).sort((function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n}))},t.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},t.prototype._getPathTypes=function(){return this._criteriaPaths},t.prototype.getHooks=function(t){return this._registeredHooks[t]},t.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=this.onCreate({},Bn),t.ignored=function(t){return t.onBefore({},Wn,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},Yn,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Vn)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},jn)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Rn)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},Nn)}(this),t.eagerResolve=function(t){return t.onStart({},Dn,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:Object(Ft.m)(!0)},Pn,{priority:1e3})}(this),t.resolveAll=function(t){return t.onFinish({},Mn,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},zn)}(this),t.activateViews=function(t){return t.onSuccess({},qn)}(this),t.updateGlobals=function(t){return t.onCreate({},Un)}(this),t.updateUrl=function(t){return t.onSuccess({},Fn,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},Ln)}(this)},t}(),Xn=function(){function t(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof Wt?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=Object.keys(t.prototype).filter(Object(Ft.f)(Object(zt.s)(["current","$current","params","transition"])));Object(zt.h)(Object(Ft.m)(t.prototype),this,Object(Ft.m)(this),n)}return Object.defineProperty(t.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.defaultErrorHandler(zt.x),this.invalidCallbacks=[]},t.prototype._handleInvalidTargetState=function(t,e){var n=this,r=Ee.makeTargetState(this.router.stateRegistry,t),i=this.router.globals,o=function(){return i.transitionHistory.peekTail()},a=o(),s=new $t(this.invalidCallbacks.slice()),u=new je(t).injector(),c=function(t){if(t instanceof xe){var e=t;return(e=n.target(e.identifier(),e.params(),e.options())).valid()?o()!==a?Wt.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):Wt.invalid(e.error()).toPromise()}};return function t(){var n=s.dequeue();return void 0===n?Wt.invalid(e.error()).toPromise():qt.b.$q.when(n(e,r,u)).then(c).then((function(e){return e||t()}))}()},t.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){Object(zt.C)(this.invalidCallbacks)(t)}.bind(this)},t.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!Object(Lt.c)(t)||t,inherit:!1,notify:!1})},t.prototype.go=function(t,e,n){var r={relative:this.$current,inherit:!0},i=Object(zt.i)(n,r,Qn);return this.transitionTo(t,e,i)},t.prototype.target=function(t,e,n){if(void 0===n&&(n={}),Object(Lt.i)(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(Object(Lt.l)(n.reload)?n.reload:n.reload.name)+"'");return new xe(this.router.stateRegistry,t,e,n)},t.prototype.getCurrentPath=function(){var t=this,e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:[new Ce(t.router.stateRegistry.root())]},t.prototype.transitionTo=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n={});var i=this.router,o=i.globals;n=Object(zt.i)(n,Qn);var a=function(){return o.transition};n=Object(zt.l)(n,{current:a});var s=this.target(t,e,n),u=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(u,s);if(!s.valid())return Object(zt.F)(s.error());if(!1===n.supercede&&a())return Wt.ignored("Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.").toPromise();var c=function(t){return function(e){if(e instanceof Wt){var n=i.globals.lastStartedTransitionId<=t.$id;if(e.type===Pt.IGNORED)return n&&i.urlRouter.update(),qt.b.$q.when(o.current);var a=e.detail;if(e.type===Pt.SUPERSEDED&&e.redirected&&a instanceof xe){var s=t.redirect(a);return s.run().catch(c(s))}if(e.type===Pt.ABORTED)return n&&i.urlRouter.update(),qt.b.$q.reject(e)}return r.defaultErrorHandler()(e),qt.b.$q.reject(e)}},l=this.router.transitionService.create(u,s),h=l.run().catch(c(l));return Object(zt.E)(h),Object(zt.l)(h,{transition:l})},t.prototype.is=function(t,e,n){n=Object(zt.i)(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(t,n.relative);if(Object(Lt.c)(r)){if(this.$current!==r)return!1;if(!e)return!0;var i=r.parameters({inherit:!0,matchingKeys:e});return _e.equals(i,_e.values(i,e),this.params)}},t.prototype.includes=function(t,e,n){n=Object(zt.i)(n,{relative:this.$current});var r=Object(Lt.l)(t)&&Ut.fromString(t);if(r){if(!r.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if(Object(Lt.c)(i)){if(!Object(Lt.c)(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return _e.equals(a,_e.values(a,e),this.params)}},t.prototype.href=function(t,e,n){var r={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=Object(zt.i)(n,r),e=e||{};var i=this.router.stateRegistry.matcher.find(t,n.relative);if(!Object(Lt.c)(i))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,i));var o=i&&n.lossy?i.navigable:i;return o&&void 0!==o.url&&null!==o.url?this.router.urlRouter.href(o.url,e,{absolute:n.absolute}):null},t.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},t.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},t.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var r=this.getCurrentPath(),i=Ee.makeTargetState(this.router.stateRegistry,r);return $n(e=e||this.router.transitionService.create(r,i),n)},t}(),Kn={when:function(t){return new Promise((function(e,n){return e(t)}))},reject:function(t){return new Promise((function(e,n){n(t)}))},defer:function(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t},all:function(t){if(Object(Lt.a)(t))return Promise.all(t);if(Object(Lt.i)(t)){var e=Object.keys(t).map((function(e){return t[e].then((function(t){return{key:e,val:t}}))}));return Kn.all(e).then((function(t){return t.reduce((function(t,e){return t[e.key]=e.val,t}),{})}))}}},Jn={},Zn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,tr=/([^\s,]+)/g,er={get:function(t){return Jn[t]},has:function(t){return null!=er.get(t)},invoke:function(t,e,n){var r=Object(zt.l)({},Jn,n||{}),i=er.annotate(t),o=Object(zt.f)((function(t){return r.hasOwnProperty(t)}),(function(t){return"DI can't find injectable: '"+t+"'"})),a=i.filter(o).map((function(t){return r[t]}));return Object(Lt.d)(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!Object(Lt.e)(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(Object(Lt.a)(t))return t.slice(0,-1);var e=t.toString().replace(Zn,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(tr)||[]}},nr=function(t,e){var n=e[0],r=e[1];return t.hasOwnProperty(n)?Object(Lt.a)(t[n])?t[n].push(r):t[n]=[t[n],r]:t[n]=r,t};function rr(t){var e=function(t){return t||""},n=ee(t).map(e),r=n[0],i=n[1],o=ne(r).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function ir(t,e,n,r){return function(i){var o=i.locationService=new n(i),a=i.locationConfig=new r(i,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}var or,ar=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listeners=[],this._listener=function(t){return n._listeners.forEach((function(e){return e(t)}))},this.hash=function(){return rr(n._get()).hash},this.path=function(){return rr(n._get()).path},this.search=function(){return rr(n._get()).search.split("&").filter(zt.r).map(re).reduce(nr,{})},this._location=zt.D.location,this._history=zt.D.history}return t.prototype.url=function(t,e){return void 0===e&&(e=!0),Object(Lt.c)(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach((function(e){return e({url:t})}))),r=(n=this).path(),i=n.search(),o=n.hash(),a=Object.keys(i).map((function(t){var e=i[t];return(Object(Lt.a)(e)?e:[e]).map((function(e){return t+"="+e}))})).reduce(zt.K,[]).join("&"),r+(a?"?"+a:"")+(o?"#"+o:"");var n,r,i,o,a},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return Object(zt.C)(e._listeners,t)}},t.prototype.dispose=function(t){Object(zt.j)(this._listeners)},t}(),sr=(or=function(t,e){return(or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}or(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ur=function(t){function e(e){var n=t.call(this,e,!1)||this;return zt.D.addEventListener("hashchange",n._listener,!1),n}return sr(e,t),e.prototype._get=function(){return(t=this._location.hash)?t.replace(/^#/,""):"";var t},e.prototype._set=function(t,e,n,r){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),zt.D.removeEventListener("hashchange",this._listener)},e}(ar),cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(t){function e(e){return t.call(this,e,!0)||this}return cr(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,r){this._url=n},e}(ar),hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fr=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,zt.D.addEventListener("popstate",n._listener,!1),n}return hr(e,t),e.prototype._getBasePrefix=function(){return te(this._config.baseHref())},e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,r=t.search;r=ne(r)[1],n=ee(n)[1];var i=this._getBasePrefix(),o=e===this._config.baseHref(),a=e.substr(0,i.length)===i;return(e=o?"/":a?e.substring(i.length):e)+(r?"?"+r:"")+(n?"#"+n:"")},e.prototype._set=function(t,e,n,r){var i=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",a=""===n||"/"===n?this._config.baseHref():i+o+n;r?this._history.replaceState(t,e,a):this._history.pushState(t,e,a)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),zt.D.removeEventListener("popstate",this._listener)},e}(ar),pr=function(){var t=this;this.dispose=zt.x,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return Object(Lt.c)(e)?t._hashPrefix=e:t._hashPrefix}},dr=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return Object(Lt.c)(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return Object(Lt.c)(t)&&(this._baseHref=t),Object(Lt.m)(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},t.prototype.getBaseHref=function(){var t=document.getElementsByTagName("base")[0];return t&&t.href?t.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):this._isHtml5?"/":location.pathname||"/"},t.prototype.dispose=function(){},t}();function Ar(t){return qt.b.$injector=er,qt.b.$q=Kn,{name:"vanilla.services",$q:Kn,$injector:er,dispose:function(){return null}}}var gr=ir("vanilla.hashBangLocation",!1,ur,dr),mr=ir("vanilla.pushStateLocation",!0,fr,dr);ir("vanilla.memoryLocation",!1,lr,pr),function(){function t(){}t.prototype.dispose=function(t){}}();function vr(t){const e={};let n;n=t.views?Object.fromEntries(Object.keys(t.views).map(e=>{const n=t.views[e];return n.component?[e,n]:[e,{component:n}]})):{default:{component:t.component}};for(const r in n){const i=n[r];if(0===Object.keys(i).length)continue;i.$type="jinge",i.$context=t,i.$name=r||"default";const o=mn.normalizeUIViewTarget(i.$context,i.$name);i.$uiViewName=o.uiViewName,i.$uiViewContextAnchor=o.uiViewContextAnchor,e[i.$name]=i}return e}let yr=0;class _r{constructor(t,e){this.loaded=!0,this.$id=yr++,this.path=t,this.viewDecl=e}load(){return qt.b.$q.when(this)}}class br extends xt{static get template(){return function(t){return[...(()=>{const e=pt({[bt]:{context:t[bt].context}}),n=kr.create(e);return n.__addStylePid(t[bt].compStylePid),t[bt].rootNodes.push(n),Ct(n.__render())})()]}}}function wr(t,e){return new _r(t,e)}class Cr extends On{constructor(t,e){super(),this.viewService._pluginapi._viewConfigFactory("jinge",wr),this.stateRegistry.decorator("views",vr),this._started=!1,(null==e?void 0:e.trace)&&this.trace.enable(1),this.plugin(Ar),this.plugin(t)}register(...t){return t.forEach(t=>{t.redirectTo&&!t.component&&(t.component=br),this.stateRegistry.register(t)}),this}otherwise(t){return this.urlRouter.otherwise({state:t}),this}start(){if(this._started)throw new Error("has been started");this.urlService.listen(),this.urlService.sync(),this._started=!0}includes(t,e,n){return this.stateService.includes(t,e,n)}href(t,e,n){return this.stateService.href(t,e,n)}go(t,e,n){return this.stateService.go(t,e,n)}get params(){return this.stateService.params}get transition(){return this.stateService.transition}get current(){return this.stateService.$current}get baseHref(){return this.locationConfig.baseHref()}}class xr extends Cr{constructor(t){super(gr,t)}}class Er extends Cr{constructor(t){super(mr,t)}}const Or=new Error("`transition` cannot be used as resolve token. Please rename your resolve to avoid conflicts with the router transition."),Br=["$transition$","$stateParams","$state$"];let Tr=0;function Ir(t,e,n){const r={[bt]:{context:n}};return e&&Object.assign(r,e),t.create(r)}class kr extends xt{constructor(t){super(t);const e=this[j].proxy,n=e.__getContext("ui-router");if(!(n&&n instanceof Cr))throw new Error("<ui-view/> must be used under <ui-router/>");e._router=n;const r=e.__getContext("ui-router-parent")||{fqn:"",context:e._router.stateRegistry.root()},i=t.name||"default",o={$type:"jinge",id:++Tr,name:i,fqn:r.fqn?r.fqn+"."+i:i,creationContext:r.context,configUpdated:e._onCfgUpdate.bind(this),config:void 0},a={fqn:o.fqn,context:void 0};e.__setContext("ui-router-parent",a,!0),e._viewComp=null,e._viewRes=null,e._viewAddr=a,e._viewData=o,e._viewDereg=e._router.viewService.registerUIView(o)}__render(){const t=this[bt].rootNodes,e=this._viewComp;if(!e)return t.push(document.createComment("empty")),t;const n=Ir(e,this._viewRes,this[bt].context);return t.push(n),n.__render()}_onCfgUpdate(t){var e;const n=this._viewData;if(n.config===t)return;let r=null;if(t){this._viewAddr.context=t.viewDecl&&t.viewDecl.$context;const e=new je(t.path),n=e.injector(),i=e.getTokens().filter(t=>o(t)&&Br.indexOf(t)<0);if(-1!==i.indexOf("transition"))throw Or;i.length>0&&(r={},i.forEach(t=>{r[t]=n.get(t)}))}n.config=t,this._viewComp=null===(e=null==t?void 0:t.viewDecl)||void 0===e?void 0:e.component,this._viewRes=r,this.__updateIfNeed(!1)}__update(){const t=this[bt].rootNodes,e=t[0],n=wt(e),r=this._viewComp;if(!r&&!n)return;const i=r?Ir(r,this._viewRes,this[bt].context):document.createComment("empty"),o=n?e.__firstDOM:e,a=o.parentNode;if(r){const t=document.createComment("ui-view-cursor");a.insertBefore(t,o);const e=i.__render();a.replaceChild(e.length>1?x(e):e[0],t)}else a.insertBefore(i,o);n?e.__destroy():a.removeChild(o),t[0]=i,r&&i.__handleAfterRender()}__beforeDestroy(){this._viewDereg()}}const Vr=["_blank","_self"];class Sr extends xt{constructor(t){var e;if(t.params&&!i(t.params))throw new Error('<ui-sref> attribute "params" require object.');if(t.target&&Vr.indexOf(t.target)<0)throw new Error('<ui-sref> attribute "target" only accept one of '+JSON.stringify(Vr));super(t);const n=this[j].proxy,r=n.__getContext("ui-router");if(!(r&&r instanceof Cr))throw new Error("<ui-sref/> must be used under <ui-router/>");n._router=r,n._el=null,n._dereg=null,n._tag=(null===(e=t[bt].slots)||void 0===e?void 0:e.default)?0:-1,n._clickHandler=n._onClick.bind(this),n.isActive=!1;const o=()=>{n.to=t.to};o(),t[j].__watch("to",o);const a=()=>{n.params=t.params};a(),t[j].__watch("params",a);const s=()=>{n.active=t.active};s(),t[j].__watch("active",s);const u=()=>{n.location=!("location"in t)||t.location};u(),t[j].__watch("location",u);const c=()=>{n.reload=!!t.reload};c(),t[j].__watch("reload",c);const l=()=>{n.text=t.text||""};l(),t[j].__watch("text",l);const h=()=>{n.target=t.target||"_self"};h(),t[j].__watch("target",h);const f=()=>{n.className=t.class};f(),t[j].__watch("class",f);const p=()=>{n.style=t.style};p(),t[j].__watch("style",p),n.__i18nWatch(n._updateHref)}static get template(){return function(t){const e=t;return[...(()=>{const n=e[bt].slots,r=n&&n.default?n.default:function(t){return[(()=>{const n=T("a",t[bt].compStylePid,(()=>{const n=C(),r=()=>{w(n,e.text)};return r(),e[j].__watch(["text"],r,t[j]),n})()),r=()=>{O(n,"class",e.className||e.isActive&&e.active?(e.className||"")+(e.isActive&&e.active?(e.className?" ":"")+e.active:""):e._udef)};r(),e[j].__watch(["className"],r,t[j]),e[j].__watch(["isActive"],r,t[j]),e[j].__watch(["active"],r,t[j]);const i=()=>{O(n,"style",e.style)};return i(),e[j].__watch(["style"],i,t[j]),t[bt].rootNodes.push(n),n})()]},i=pt({[bt]:{context:t[bt].context,slots:{default:r||Dt}}}),o=new Nt(i,[]);return o.__addStylePid(t[bt].compStylePid),t[bt].rootNodes.push(o),Ct(o.__render())})()]}}get target(){return this._target}set target(t){this._target!==t&&(this._target=t,this.__updateIfNeed(this._updateTarget))}get to(){return this._to}set to(t){this._to!==t&&(this._to=t,this.__updateIfNeed(this._updateHref))}get params(){return this._params}set params(t){this._params=t,this.__updateIfNeed(this._updateHref)}get active(){return this._active}set active(t){this._active!==t&&(this._tag>=0&&this._active&&this._el&&this._el.classList.remove(this._active),this._active=t,this.__updateIfNeed(this._updateActive))}_onClick(t){if(t.defaultPrevented||t.metaKey||t.ctrlKey)return;this._tag<=0&&t.preventDefault();const e=this._router,n=this.__getContext("ui-router-parent"),r=n&&n.context||e.stateRegistry.root();if("_blank"===this._target){const t=e.href(this._to,this._params,{relative:r,inherit:!0});window.open(t)}else e.go(this._to,this._params,{relative:r,inherit:!0,location:this.location,reload:this.reload})}__afterRender(){const t=this.__firstDOM;this._tag>=0&&(this._tag="A"===t.tagName?0:1),this._el=t,this._dereg=this._router.transitionService.onSuccess({},()=>this._updateActive()),this._updateTarget(),this._updateHref(),this._updateActive(),V(t,"click",this._clickHandler)}__beforeDestroy(){S(this._el,"click",this._clickHandler),this._dereg()}_updateTarget(){this._tag<=0&&O(this._el,"target",this._target)}_updateHref(){const t=this._router;if(this.isActive=t.includes(this._to,this._params),this._tag<=0){const e=this.__getContext("ui-router-parent"),n=e&&e.context||t.stateRegistry.root();O(this._el,"href",t.href(this._to,this._params,{relative:n,inherit:!0}))}}_updateActive(){this.isActive=this._router.includes(this._to,this._params),!this._active||this._tag<0||(this.isActive?this._el.classList.add(this._active):this._el.classList.remove(this._active))}}class jr extends xt{constructor(t){let e;e=t.router instanceof Cr?t.router:"hash"===t.router?new xr:new Er,t.plugins&&t.plugins.forEach(t=>e.plugin(t)),t.states&&t.states.forEach(t=>e.register(t)),t.otherwise&&e.otherwise(t.otherwise),super(t);const n=this[j].proxy;n._router=e,n.__setContext("ui-router",e)}get baseHref(){return this._router.baseHref}__afterRender(){this._router.start()}__beforeDestroy(){this._router.dispose()}}var Rr=function(t){const e=t;return[(()=>{const e=T("h2",t[bt].compStylePid,"UI-Router");return t[bt].rootNodes.push(e),e})(),(()=>{const e=T("p",t[bt].compStylePid,"jinge framework does't implement router. we use ui-router.");return t[bt].rootNodes.push(e),e})(),...(()=>{const n=pt({[bt]:{context:t[bt].context,slots:{default:function(t){return[(()=>{const n=T("div",t[bt].compStylePid,T("div",{style:"border-bottom: 1px solid blue; margin-bottom: 10px;"},I("h3","Top Menu Area"),I("p",I("label","Open new tab:"),(()=>{const n=T("input",{type:"checkbox"}),r=()=>{n.checked=!!e.newTab};return r(),e[j].__watch(["newTab"],r,t[j]),V(n,"change",(function(...t){e.newTab=t[0].target.checked})),n})()),I("p",...(()=>{const n=pt({[bt]:{context:t[bt].context},target:null,class:"xx",style:"margin-right: 8px;",text:"Hello",to:"hello",active:"active"}),r=()=>{n.target=e.newTab?"_black":"_self"};r(),e[j].__watch(["newTab"],r,t[j]);const i=Sr.create(n);return t[bt].nonRootCompNodes.push(i),Ct(i.__render())})(),...(()=>{const n=pt({[bt]:{context:t[bt].context,slots:{default:function(t){return[(()=>{const e=T("a",Object.assign({style:"margin: 20px;"},t[bt].compStylePid),"About");return t[bt].rootNodes.push(e),e})()]}}},target:null,to:"about",active:"active"}),r=()=>{n.target=e.newTab?"_blank":"_self"};r(),e[j].__watch(["newTab"],r,t[j]);const i=Sr.create(n);return t[bt].nonRootCompNodes.push(i),Ct(i.__render())})(),...(()=>{const e=pt({[bt]:{context:t[bt].context},to:"redirect",active:"active",text:"Redirect"}),n=Sr.create(e);return t[bt].nonRootCompNodes.push(n),Ct(n.__render())})(),...(()=>{const n=pt({[bt]:{context:t[bt].context,slots:{default:function(t){return[(()=>{const e=T("button",t[bt].compStylePid,"People");return t[bt].rootNodes.push(e),e})()]}}},target:null,to:"people",active:"active"}),r=()=>{n.target=e.newTab?"_blank":"_self"};r(),e[j].__watch(["newTab"],r,t[j]);const i=Sr.create(n);return t[bt].nonRootCompNodes.push(i),Ct(i.__render())})(),...(()=>{const e=pt({[bt]:{context:t[bt].context},params:null,style:"margin-left: 8px;",text:"Person-2",to:"people.person",active:"active"});e.params=ft({personId:"002"});const n=Sr.create(e);return t[bt].nonRootCompNodes.push(n),Ct(n.__render())})(),T("a",{style:"margin-left: 20px;",href:"#/about"},"bug-test"))),I("div",I("h3","Content Area"),T("div",{class:"content"},...(()=>{const e=pt({[bt]:{context:t[bt].context}}),n=kr.create(e);return t[bt].nonRootCompNodes.push(n),Ct(n.__render())})())));return t[bt].rootNodes.push(n),n})()]}}},states:null,plugins:null,router:"hash",otherwise:"hello"});n.states=e._states;n.plugins=e._plugins;const r=jr.create(n);return r.__addStylePid(t[bt].compStylePid),t[bt].rootNodes.push(r),Ct(r.__render())})()]};const Nr=[{name:"hello",url:"/hello",component:class extends xt{static get template(){return function(t){return[(()=>{const e=T("h4",t[bt].compStylePid,"Hello");return t[bt].rootNodes.push(e),e})(),(()=>{const e=T("p",t[bt].compStylePid,"hello, jinge!");return t[bt].rootNodes.push(e),e})()]}}__afterRender(){const t=this.__getContext("ui-router").transitionService;this._des=t.onExit({from:"hello.**"},t=>confirm("确认要退出？"))}__beforeDestroy(){this._des(),console.log("Hello component will be destroy")}}},{name:"about",url:"/about",component:class extends xt{static get template(){return function(t){return[(()=>{const e=T("h4",t[bt].compStylePid,"About");return t[bt].rootNodes.push(e),e})(),(()=>{const e=T("p",t[bt].compStylePid,"jinge is a Messenger, Proxy and Compiler based MVVM framework");return t[bt].rootNodes.push(e),e})()]}}}},{name:"redirect",url:"/redirect",redirectTo:"redirect.detail"},{name:"redirect.detail",url:"/detail",component:class extends xt{static get template(){return function(t){return[(()=>{const e=T("h4",t[bt].compStylePid,"Redirect");return t[bt].rootNodes.push(e),e})(),(()=>{const e=T("p",t[bt].compStylePid,"here is child detail redirect from parent.");return t[bt].rootNodes.push(e),e})()]}}}},{name:"people",url:"/people",component:class extends xt{constructor(t){super(t);const e=this[j].proxy,n=()=>{e.people=t.people};n(),t[j].__watch("people",n)}static get template(){return function(t){const e=t;return[(()=>{const n=T("div",Object.assign({style:"display:flex;flex-direction:row;"},t[bt].compStylePid),T("div",{style:"margin-right: 20px;"},I("h4","Some People:"),I("ul",...(()=>{const n=pt({[bt]:{context:t[bt].context,slots:{default:function(t){const e=t;return[(()=>{const n=T("li",t[bt].compStylePid,...(()=>{const n=pt({[bt]:{context:t[bt].context},text:null,params:null,to:"people.person",active:"active"}),r=()=>{n.text=function(){let t;return null===(t=e.each)||void 0===t?void 0:t.name}()};r(),e[j].__watch(["each","name"],r,t[j]);const i=()=>{n.params=ft({personId:function(){let t;return null===(t=e.each)||void 0===t?void 0:t.id}()})};i(),e[j].__watch(["each","id"],i,t[j]);const o=Sr.create(n);return t[bt].nonRootCompNodes.push(o),Ct(o.__render())})());return t[bt].rootNodes.push(n),n})()]}}},loop:null,key:"each.id"}),r=()=>{n.loop=e.people};r(),e[j].__watch(["people"],r,t[j]);const i=Rt.create(n);return t[bt].nonRootCompNodes.push(i),Ct(i.__render())})())),I("div",...(()=>{const e=pt({[bt]:{context:t[bt].context}}),n=kr.create(e);return t[bt].nonRootCompNodes.push(n),Ct(n.__render())})()));return t[bt].rootNodes.push(n),n})()]}}},resolve:{people:()=>new Promise(t=>{setTimeout(()=>{t([{id:"001",name:"xiaoge_001"},{id:"002",name:"xiaoge_002"}])},100)}).then(t=>ft(t))}},{name:"people.person",url:"/:personId",component:class extends xt{static get template(){return function(t){const e=t;return[(()=>{const n=T("div",t[bt].compStylePid,I("h4","A person!"),I("div","Name: ",(()=>{const n=C(),r=()=>{w(n,function(){let t;return null===(t=e.person)||void 0===t?void 0:t.name}())};return r(),e[j].__watch(["person","name"],r,t[j]),n})()),I("div","Id: ",(()=>{const n=C(),r=()=>{w(n,function(){let t;return null===(t=e.person)||void 0===t?void 0:t.id}())};return r(),e[j].__watch(["person","id"],r,t[j]),n})()),I("div","Company: ",(()=>{const n=C(),r=()=>{w(n,function(){let t;return null===(t=e.person)||void 0===t?void 0:t.company}())};return r(),e[j].__watch(["person","company"],r,t[j]),n})()),I("div","Email: ",(()=>{const n=C(),r=()=>{w(n,function(){let t;return null===(t=e.person)||void 0===t?void 0:t.email}())};return r(),e[j].__watch(["person","email"],r,t[j]),n})()),I("div","Address: ",(()=>{const n=C(),r=()=>{w(n,function(){let t;return null===(t=e.person)||void 0===t?void 0:t.address}())};return r(),e[j].__watch(["person","address"],r,t[j]),n})()),...(()=>{const e=pt({[bt]:{context:t[bt].context,slots:{default:function(t){return[(()=>{const e=T("button",t[bt].compStylePid,"Close");return t[bt].rootNodes.push(e),e})()]}}},to:"people"}),n=Sr.create(e);return t[bt].nonRootCompNodes.push(n),Ct(n.__render())})());return t[bt].rootNodes.push(n),n})()]}}constructor(t){console.log("attrs passed from ui-router resolve:",t.someConst,t.someFn,t.someFnPromise),super(t);const e=this[j].proxy,n=()=>{e.person=t.person};n(),t[j].__watch("person",n)}__beforeDestroy(){console.log(`person: ${this.person.id} will be destroy.`)}},resolve:{someFn:()=>"hello2",someFnPromise:()=>new Promise(t=>setTimeout(()=>t("hello3"),1e3)),person:["$transition$","people",(t,e)=>(console.log("inherited resove people:",e),function(t){return new Promise(e=>{setTimeout(()=>{e({id:t,name:"xiaoge_"+t,company:"hansight",email:"abeyuhang@gmail.com",address:"Chengdu, Sichuan, China"})},100)})}(t.params().personId).then(t=>ft(t)))]}}];var Dr,Pr,Mr;Dr=class extends xt{static get template(){return Rr}constructor(t){super(t);const e=this[j].proxy;e._states=Nr,e._plugins=[Mt.Visualizer],e.newTab=!1}},Pr=document.getElementById("root-app"),Dr.create(Mr).__renderToDOM(Pr,Pr!==document.body)}]);
//# sourceMappingURL=bundle.min.js.map