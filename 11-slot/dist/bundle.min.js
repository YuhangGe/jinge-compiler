!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return typeof t}function r(t){return null!==t&&"object"===o(t)}function s(t){return"string"===o(t)}function i(t){return"number"===o(t)&&!Number.isNaN(t)&&Number.isFinite(t)}function c(t){return"undefined"===o(t)}function a(t){return Array.isArray(t)}function l(t){return"function"===o(t)}function u(t,e){const n=t.indexOf(e);return!(n<0)&&(t.splice(n,1),!0)}function d(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}n.r(e);let h=0;function _(){return Date.now().toString(32)+"-"+Math.floor(16777215*Math.random()).toString(32)+"-"+(h++).toString(32)}let f,p,m=0,g=1,y=!1;function E(t){f.delete(t)}function w(t){if(y)return void setTimeout(w,0,t);const e=f.get(t);if(e){y=!0;try{e()}finally{E(t),y=!1}}}if(c(window.setImmediate)){f=new Map;const t="setImmediate$"+(m++).toString(32)+"$";window.addEventListener("message",e=>{e.source===window&&s(e.data)&&e.data.startsWith(t)&&w(Number(e.data.slice(t.length)))},!1),p=function(e){window.postMessage(t+e,"*")}}const x=window.setImmediate||function(t){if(!l(t)||arguments.length>1)throw new Error("setImmediate require callback function.");return f.set(g,t),p(g),g++},N=window.clearImmediate||E;function v(t,e){s(e)||(e=JSON.stringify(e)),t.textContent=e}function D(t=""){return document.createTextNode(s(t)?t:JSON.stringify(t))}function b(t){const e=document.createDocumentFragment();return t&&t.forEach(t=>{e.appendChild(s(t)?document.createTextNode(t):t)}),e}function k(t,e){t.appendChild(b(e))}function O(t,e,n){if(e)if(r(e))for(const n in e)O(t,n,e[n]);else c(n)||null===n?function t(e,n){if(n){if(!r(n))return e.removeAttribute(n);for(const o in n)t(e,o)}}(t,e):t.setAttribute(e,n)}function R(t,e,n){if(e)for(const n in e)n&&!c(e[n])&&O(t,n,e[n]);return k(t,n),t}function S(t,e,...n){return R(document.createElement(t),e,n)}function M(t,...e){return S(t,null,...e)}function C(t,e,n){const o=n.nextSibling;o?t.insertBefore(e,o):t.appendChild(e)}function I(t,e,n,o){c(o)&&(o=!!e.startsWith("touch")&&{capture:!1,passive:!0}),t.addEventListener(e,n,o)}function T(t,e,n){t.removeEventListener(e,n)}const P=Symbol("$$");function A(t){const e=t.constructor;return e===RegExp||e===Date||e===Boolean}function L(t){return r(t)&&P in t}function V(t){return s(t)&&95!==t.charCodeAt(0)}function j(t){return s(t)?t:null===t?"null":c(t)?"undefined":t.toString()}function U(t){return s(t)?t.indexOf(".")>0?t.split("."):[t]:a(t)?t:[t]}function H(t,e,n){t.__parents||(t.__parents=[]),t.__parents.push({core:e,prop:n})}function $(t,e,n){if(!t.__parents)return;const o=t.__parents.findIndex(t=>t.core===e&&t.prop===n);o>=0&&t.__parents.splice(o,1)}function F(t,e,n,o){if(!t.__parents)return;const r=t.__parents.find(t=>t.core===e&&t.prop===n);r&&(r.prop+=o)}const B=new Map;function G(t){const e=B.get(t);e&&(N(e.immediate),B.delete(t))}function Z(t,e,n){const o=e.__handlers;o&&o.forEach(e=>{n?e(t):function(t,e){if(B.has(t))return;const n=x(()=>{const e=B.get(t);try{t(e.propertyPath)}finally{B.delete(t)}});B.set(t,{immediate:n,propertyPath:e})}(e,t)});const r=e.__listeners;r&&r.forEach(e=>{Z(t,e,n)})}function W(t){const e=t.__listeners;e&&(e.forEach(t=>W(t)),t.__listeners=null);const n=t.__handlers;n&&(n.forEach(G),t.__handlers=null),t.__parent=null}class K{constructor(t){this.__notifiable=!0,this.__parents=null,this.__listeners=null,this.__related=null,this.__setters=null,this.target=t,this.proxy=null,Object.defineProperty(t,P,{value:this,writable:!1,configurable:!0,enumerable:!1})}__watch(t,e,n){const o=(t=U(t)).indexOf("**");if(o>=0&&o!==t.length-1)throw new Error('wizard "**" must be last element in path.');const r=function t(e,n,o=0){const r=j(n[o]);e.__listeners||(e.__listeners=new Map);let s=e.__listeners.get(r);return s||(s={__parent:e,__property:r,__handlers:null,__listeners:null},e.__listeners.set(r,s)),n.length-1===o?s:t(s,n,o+1)}(this,t);r.__handlers||(r.__handlers=[]),r.__handlers.indexOf(e)<0&&r.__handlers.push(e),n&&n!==this&&n.__addRelated(this,t,e)}__unwatch(t,e,n){if(!t)return void W(this);const o=function t(e,n,o=0){var r;const s=j(n[o]);if(!s)return null;const i=null===(r=e.__listeners)||void 0===r?void 0:r.get(s);return i?n.length-1===o?i:t(i,n,o+1):null}(this,U(t));if(!o)return;const r=o.__handlers;r&&(e?(G(e),u(r,e)):(r.forEach(G),r.length=0),function(t){if(t&&t.__handlers&&t.__handlers.length>0||t.__listeners&&t.__listeners.size>0)return null;const e=t.__parent,n=t.__property;t.__parent=null,e.__listeners.delete(n)}(o),n&&n!==this&&n.__rmRelated(this,t,e))}__notify(t,e=!1){if(!this.__notifiable)return;t=U(t),this.__listeners&&function t(e,n,o,r=0){const s=e.__listeners;if(!s)return;const i=j(n[r]);if(!i)return;let c=s.get(i);c&&(n.length-1===r?Z(n,c,o):t(c,n,o,r+1)),c=s.get("*"),c&&(n.length-1===r?Z(n,c,!0):t(c,n,o,r+1)),c=s.get("**"),c&&Z(n,c,!0)}(this,t,e);const n=this.__parents;n&&n.forEach(n=>{const o=n.core;o?o.__notify([n.prop].concat(t),e):console.error("dev-warn-unexpected: parent of ViewModelCore has been destroied but not unlink.")})}__destroy(){this.__notifiable=!1,this.__parents=null,W(this),this.proxy=null,this.__related&&(this.__related.forEach((t,e)=>{t.forEach(t=>{e.__unwatch(t.prop,t.handler)})}),this.__related=null);const t=this.target,e=this.__setters;e&&(e.forEach((e,n)=>{if(null===e)return;const o=t[n];r(o)&&P in o&&$(o[P],this,n)}),this.__setters=null),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e];r(n)&&P in n&&$(n[P],this,e)}),delete t[P],this.target=null}__addRelated(t,e,n){this.__related||(this.__related=new Map);let o=this.__related.get(t);o||this.__related.set(t,o=[]),o.push({prop:e,handler:n})}__rmRelated(t,e,n){if(!this.__related)return;const o=this.__related.get(t);if(!o)return;const r=a(e),s=o.findIndex(t=>n===t.handler&&(r?d(e,t.prop):e===t.prop));s>=0&&o.splice(s,1)}}function J(t,e){t[P].__notify(e)}function Y(t,e,n,o,s=!0){if(!V(e))return t[e]=n,!0;const i=t[e];if(i===n&&!c(n))return!0;let a=r(n)&&!A(n);if(a&&(a=P in n,s&&!a))throw new Error(`public property "${e.toString()}" of ViewModel must also be ViewModel`);return r(i)&&P in i&&$(i[P],t[P],e),o(t,e,n),a&&H(n[P],t[P],e),J(t,e),!0}function z(t,e,n){t[e]=n}function q(t,e,n){const o=function(t,e){let n=t[P].__setters;if(n||(t[P].__setters=n=new Map),n.has(e))return n.get(e);{let o,r=t.constructor,s=Object.getOwnPropertyDescriptor(r.prototype,e);if(s)return o=l(s.set)?s.set:null,n.set(e,o),o;for(r=Object.getPrototypeOf(r);r&&r.prototype;){if(s=Object.getOwnPropertyDescriptor(r.prototype,e),s)return o=l(s.set)?s.set:null,n.set(e,o),o;r=Object.getPrototypeOf(r)}return n.set(e,null),null}}(t,e);o?o.call(t[P].proxy,n):t[e]=n}function Q(t,e,n){return!(P in t)||Y(t,e,n,z)}function X(t,e,n){return!(P in t)||Y(t,e,n,z,!1)}function tt(t,e,n){return P in t?Y(t,e,n,q):(console.warn(`call setter "${e.toString()}" after destroied, resources such as setInterval maybe not released before destroy. component:`,t),!0)}function et(t,e,n){let o=e;for(e>n&&(o=n,n=e);o<n;o++)J(t,o)}const nt={set:Q},ot={get(t,e){if("then"===e||"catch"===e){const n=t[e];return function(...e){return n.call(t,...e)}}return t[e]},set:Q};function rt(t,e,n){return t.forEach((e,n)=>{L(e)&&H(e[P],t[P],n)}),t[e](n),t.forEach((e,n)=>{L(e)&&$(e[P],t[P],n)}),et(t,0,t.length),t[P].proxy}function st(t,e=!1){const n=ut(t,!0);return t.forEach((n,o)=>{L(n)?H(n[P],t[P],o):e&&(t[o]=ht(n))}),n}function it(t,e){t.forEach((n,o)=>{L(n)&&F(n[P],t[P],o,e)})}function ct(t,e){if(r(t)){if(P in t)return!0;throw new Error(`argument passed to Array.${e} must be ViewModel if the array is ViewModel`)}return!1}const at={splice(t,e,n,...o){e<0&&(e=0),o.forEach((n,o)=>{ct(n,"splice")&&H(n[P],t[P],e+o)});for(let o=0;o<n&&!(e+o>=t.length);o++){const n=t[e+o];L(n)&&$(n[P],t[P],e+o)}const r=o.length-n;if(0!==r)for(let o=e+n;o<t.length;o++){const e=t[o];L(e)&&F(e[P],t[P],o,r)}const s=st(t.splice(e,n,...o));if(0!==r){J(t,"length");for(let n=e;n<t.length;n++)J(t,n)}return s},shift(t){if(0===t.length)return t.shift();it(t,-1);const e=t.shift();L(e)&&$(e[P],t[P],-1),J(t,"length");for(let e=0;e<t.length+1;e++)J(t,e);return e},unshift(t,...e){if(0===e.length)return t.unshift();e.forEach((e,n)=>{ct(e,"unshift")&&H(e[P],t[P],n)}),it(t,e.length);const n=t.unshift(...e);J(t,"length");for(let e=0;e<t.length;e++)J(t,e);return n},pop(t){if(0===t.length)return t.pop();const e=t.pop();return L(e)&&$(e[P],t[P],t.length),J(t,"length"),J(t,t.length),e},push(t,...e){if(0===e.length)return t.push();e.forEach((e,n)=>{ct(e,"push")&&H(e[P],t[P],t.length+n)});const n=t.push(...e);J(t,"length");for(let n=t.length-1-e.length;n<t.length;n++)J(t,n);return n},fill:(t,e)=>(ct(e,"fill"),t.forEach((n,o)=>{(n!==e||c(n))&&(L(n)&&$(n[P],t[P],o),t[o]=e,L(e)&&H(e[P],t[P],o),J(t,o))}),t[P].proxy),reverse:t=>rt(t,"reverse"),sort:(t,e)=>rt(t,"sort",e),concat:(t,e)=>(ct(e,"concat"),st(t.concat(e))),filter:(t,e)=>st(t.filter(e)),slice:(t,e,n)=>st(t.slice(e,n)),map:(t,e)=>st(t.map(e),!0)},lt={get(t,e){if(e in at){const n=at[e];return function(...e){return n(t,...e)}}return t[e]},set:function(t,e,n){return!(P in t)||("length"===e?function(t,e){if(!i(e))throw new Error("bad argument. array length must be validate number.");const n=t.length;if(n>e)for(let o=e;o<n;o++){const e=t[o];L(e)&&$(e[P],t[P],o)}return t.length=e,n!==e&&(J(t,"length"),et(t,n,e)),!0}(t,n):Y(t,e,n,z))}};function ut(t,e){return new K(t).proxy=new Proxy(t,e?lt:r(n=t)&&l(n.then)?ot:nt);var n}function dt(t,e,n){r(e)&&!A(e)&&(P in e||(t[n]=e=ht(e)),H(e[P],t[P],n))}function ht(t){if(r(t)){if(A(t)||P in t)return t;const e=a(t),n=ut(t,e);if(e)for(let e=0;e<t.length;e++)dt(t,t[e],e);else for(const e in t)V(e)&&dt(t,t[e],e);return n}return t}function _t(t){if(!r(t))throw new Error("vm() target must be object or array.");return ht(t)}function ft(t){if(!r(t)||a(t))throw new Error("attrs() traget must be plain object.");return function(t){const e=new K(t);return e.__notifiable=!1,e.proxy=new Proxy(t,{set:X})}(t)}const pt=Symbol("listeners");class mt{constructor(t){if(this[pt]=null,t)for(const e in t){const n=t[e];this.__on(e,n.fn,n.opts)}}__notify(t,...e){if(!this[pt])return;const n=this[pt].get(t);n&&n.forEach(t=>{t.fn(...e)})}__on(t,e,n){this[pt]||(this[pt]=new Map);let o=this[pt].get(t);if(o||this[pt].set(t,o=[]),o.findIndex(t=>t.fn===e)>=0)console.warn("dulplicated messenger listener",t,e);else if(n&&n.once){const r=(...n)=>{e(...n),this.__off(t,e)};o.push({fn:r,opts:n})}else o.push({fn:e,opts:n})}__off(t,e){if(!this[pt])return;if(!t)return void this[pt].clear();const n=this[pt].get(t);if(!n)return;if(!e)return void(n.length=0);const o=n.findIndex(t=>t.fn===e);n.splice(o,1)}}const gt=new class{constructor(){this.m=new Map,this.s=0}create(t){if(0===this.s)return;const e=S("style",{type:"text/css",id:t.dom});document.head.appendChild(e),e.styleSheet?e.styleSheet.cssText=t.css:e.textContent=t.css}add(t){if(!t)return;const e=this.m;let n=e.get(t.id);n?n.refs++:(n={id:t.id,css:t.css,dom:`__${t.id}__`,refs:1},e.set(t.id,n),this.create(n))}attch(){0===this.s?(this.s=1,function(){const t=S("span",{style:"position:absolute;left:-10000px;",class:"jg-hide"});document.body.appendChild(t);const e="none"===getComputedStyle(t).getPropertyValue("display");return document.body.removeChild(t),e}()||this.create({dom:`__jgsty_${_()}__`,css:".jg-hide{display:none!important}.jg-hide.jg-hide-enter,.jg-hide.jg-hide-leave{display:block!important}"}),this.m.forEach(t=>{this.create(t)})):console.warn("component styles already attached.")}remove(t){if(!t)return;const e=this.m.get(t.id);e&&(e.refs--,e.refs>0||(this.m.delete(e.id),0!==this.s&&document.head.removeChild(document.getElementById(e.dom))))}};function yt(t){return new Function("__ctx",`return \`${t.replace(/`/g,"\\`").replace(/\$\{\s*([\w\d._$]+)\s*\}/g,(t,e)=>"${ __ctx."+e+" }")}\`;`)}const Et=new class extends mt{constructor(){super(),this.__deps=null,this.__data=null,this.__cache=new Map,this.__key=null,this.__regLoc(window.JINGE_I18N_DATA)}get locale(){return this.__data.locale}__regDep(t,e){if(this.__deps||(this.__deps=[]),!this.__deps[t])throw new Error("conflict at "+t);this.__deps[t]=e}__regLoc(t){t&&!this.__cache.has(t.locale)&&(this.__cache.set(t.locale,t),this.__data||(this.__data=t))}switch(t,e="dist/locale.[locale].js"){if(this.__data.locale===t)return;const n=this.__cache.get(t);if(n)this.__data=n,this.__notify("i18n-change",this.locale);else{const n=_();this.__key=n,(l(e)?e(t):function(t,e){return window.fetch(e.replace("[locale]",t)).then(t=>t.text())}(t,e)).then(e=>{if(new Function("jinge",e)({i18n:this}),this.__key!==n||this.__data.locale===t)return;const o=this.__cache.get(t);this.__data=o,this.__notify("i18n-change",this.locale)})}}__t(t,e){const n=this.__data.dictionary;if(!(t in n))return"i18n_missing";let o=n[t];return s(o)&&(171===o.charCodeAt(0)?(o=n[o.substring(1)],s(o)&&(o=yt(o))):o=yt(o),n[t]=o),o(e)}__r(t,e){const n=this.__data.render;if(l(n)){if(!this.__deps)throw new Error("missing render depedents");this.__data.render=n(...this.__deps)}const o=n[e];if(!(t in o))throw new Error(`missing i18n ${e} for key: ${t}`);let r=o[t];return s(r)&&(o[t]=r=o[r]),r}watch(t,e){return this.__on("change",t),e&&t(this.locale),()=>{this.__off("change",t)}}};var wt,xt;!function(t){t[t.INITIALIZE=0]="INITIALIZE",t[t.RENDERED=1]="RENDERED",t[t.WILLDESTROY=2]="WILLDESTROY",t[t.DESTROIED=3]="DESTROIED"}(wt||(wt={})),function(t){t[t.UNTOUCH=0]="UNTOUCH",t[t.TOUCHED=1]="TOUCHED",t[t.UNTOUCH_FREEZED=2]="UNTOUCH_FREEZED",t[t.TOUCHED_FREEZED=3]="TOUCHED_FREEZED"}(xt||(xt={}));const Nt=Symbol("__");function vt(t){return Nt in t}function Dt(t){if(!a(t)||0===t.length)throw new Error("Render results of component is empty");return t}class bt extends mt{constructor(t){if(!r(t)||!(P in t))throw new Error("Attributes passed to Component constructor must be ViewModel. See https://[todo]");const e=t[Nt]||{};super(e.listeners),function(t){if(P in t)throw new Error("component has alreay been wrapped.");const e=new K(t);e.__notifiable=!1,e.proxy=new Proxy(t,{set:tt})}(this),this[Nt]={passedAttrs:t,context:e.context,contextState:xt.UNTOUCH,slots:e.slots,state:wt.INITIALIZE,rootNodes:[],nonRootCompNodes:[],refs:null,relatedRefs:null,updateNextMap:null,compStylePid:null,deregDOM:null,deregI18N:null}}static create(t){return r(t=t||ft({}))&&P in t||(t=ft(t||{})),new this(t)[P].proxy}__i18nWatch(t,e){let n=this[Nt].deregI18N;n||(this[Nt].deregI18N=n=[]);const o=Et.watch(()=>{t.call(this)},e),r=()=>{o(),u(n,r)};return n.push(r),r}__domAddListener(t,e,n,o){let r=this[Nt].deregDOM;r||(this[Nt].deregDOM=r=[]);const s=function(t,e,n,o){return I(t,e,n,o),function(){T(t,e,n)}}(t,e,t=>{n.call(this,t)},o),i=()=>{s(),u(r,i)};return r.push(i),i}__domPassListeners(t,e){if(this[Nt].state!==wt.RENDERED)throw new Error("domPassListeners must be applied to component which is rendered.");const n=this[pt];n&&0!==n.size&&(t&&!a(t)?(e=t,t=null):e||(e=this.__firstDOM),e.nodeType===Node.ELEMENT_NODE&&n.forEach((n,o)=>{t&&t.indexOf(o)>=0||n.forEach(t=>{const{opts:n,fn:r}=t;this.__domAddListener(e,o,t.opts&&(t.opts.stop||t.opts.prevent)?function(t){n.stop&&t.stopPropagation(),n.prevent&&t.preventDefault(),r.call(this,t)}:r,t.opts)})}))}get __transitionDOM(){const t=this[Nt].rootNodes[0];return vt(t)?t.__transitionDOM:t}get __firstDOM(){const t=this[Nt].rootNodes[0];return vt(t)?t.__firstDOM:t}get __lastDOM(){const t=this[Nt].rootNodes,e=t[t.length-1];return vt(e)?e.__lastDOM:e}__render(){const t=this.constructor;let e=t.template;if(!e&&this[Nt].slots&&(e=this[Nt].slots.default),!l(e))throw new Error(`Template of ${t.name} not found. Forget static getter "template"?`);return gt.add(t.style),e(this)}__renderToDOM(t,e=!0){if(this[Nt].state!==wt.INITIALIZE)throw new Error("component has already been rendered.");const n=Dt(this.__render());var o,r,s;gt.attch(),e?(o=t.parentNode,r=n,s=t,o.replaceChild(b(r),s)):k(t,n),this.__handleAfterRender()}__destroy(t=!0){const e=this[Nt];e.state>wt.WILLDESTROY||(e.state=wt.WILLDESTROY,this[P].__notifiable=!1,e.passedAttrs[P].__notifiable=!1,this.__notify("before-destroy"),this.__beforeDestroy(),this.__handleBeforeDestroy(t),super.__off(),gt.remove(this.constructor.style),e.passedAttrs[P].__destroy(),e.passedAttrs=null,this[P].__destroy(),e.updateNextMap&&(e.updateNextMap.forEach(t=>{N(t)}),e.updateNextMap=null),e.relatedRefs&&(e.relatedRefs.forEach(t=>{const e=t.origin[Nt].refs;if(!e)return;const n=e.get(t.ref);a(n)?u(n,t.node||this):e.delete(t.ref)}),e.relatedRefs=null),e.deregDOM&&(e.deregDOM.forEach(t=>t()),e.deregDOM=null),e.deregI18N&&(e.deregI18N.forEach(t=>t()),e.deregI18N=null),e.state=wt.DESTROIED,e.rootNodes=e.nonRootCompNodes=e.refs=e.slots=e.context=null)}__handleBeforeDestroy(t=!1){let e;this[Nt].nonRootCompNodes.forEach(t=>{t.__destroy(!1)}),this[Nt].rootNodes.forEach(n=>{vt(n)?n.__destroy(t):t&&(e||(e=n.parentNode),e.removeChild(n))})}__handleAfterRender(){this[Nt].passedAttrs[P].__notifiable=!0,this[P].__notifiable=!0,this[Nt].rootNodes.forEach(t=>{vt(t)&&t.__handleAfterRender()}),this[Nt].nonRootCompNodes.forEach(t=>{vt(t)&&t.__handleAfterRender()}),this[Nt].state=wt.RENDERED,this[Nt].contextState=this[Nt].contextState===xt.TOUCHED?xt.TOUCHED_FREEZED:xt.UNTOUCH_FREEZED,this.__afterRender(),this.__notify("after-render")}__updateIfNeed(t,e=!0){if(this[Nt].state!==wt.RENDERED)return;if(!1===t)return this.__update();if(l(t)||(t=this.__update),!e)return void t.call(this);let n=this[Nt].updateNextMap;n||(n=this[Nt].updateNextMap=new Map),n.has(t)||n.set(t,x(()=>{n.delete(t),t.call(this)}))}__update(t){}__setContext(t,e,n=!1){if(this[Nt].contextState===xt.UNTOUCH_FREEZED||this[Nt].contextState===xt.TOUCHED_FREEZED)throw new Error("Can't setContext after component has been rendered. Try put setContext code into constructor.");if(this[Nt].contextState===xt.UNTOUCH&&(this[Nt].context=Object.assign({},this[Nt].context),this[Nt].contextState=xt.TOUCHED),t in this[Nt].context&&!n)throw new Error(`Contenxt with key: ${t.toString()} is exist. Pass third argument forceOverride=true to override it.`);this[Nt].context[t]=e}__getContext(t){return this[Nt].context?this[Nt].context[t]:null}__setRef(t,e,n){let o=this[Nt].refs;o||(this[Nt].refs=o=new Map);let r=o.get(t);r?a(r)?r.push(e):(r=[r,e],o.set(t,r)):o.set(t,e);const s=vt(e);if(!s&&this===n)return;let i=(s?e:n)[Nt].relatedRefs;i||((s?e:n)[Nt].relatedRefs=i=[]),i.push({origin:this,ref:t,node:s?null:e})}__getRef(t){return this[Nt].state!==wt.RENDERED&&console.warn(`Warning: call __getRef before component '${this.constructor.name}' rendered will get nothing. see https://[TODO]`),this[Nt].refs?this[Nt].refs.get(t):null}__addStylePid(t,e){if(!t&&!e)return;let n=this[Nt].compStylePid;n||(n=this[Nt].compStylePid=Object.create(null)),t&&Object.assign(n,t),e&&(n[e]="")}__afterRender(){}__beforeDestroy(){}}var kt;function Ot(t){const e=getComputedStyle(t);return"0s"!==e.getPropertyValue("transition-duration")?"transitionend":"0s"!==e.getPropertyValue("animation-duration")?"animationend":null}bt[Nt]=!0,function(t){t[t.ENTERING=1]="ENTERING",t[t.ENTERED=2]="ENTERED",t[t.LEAVING=3]="LEAVING",t[t.LEAVED=4]="LEAVED"}(kt||(kt={}));class Rt extends bt{constructor(t,e,n,o){super(t);const r=this[P].proxy;L(e)?r.each=e:r._e=e,r.index=n,r.isFirst=0===n,r.isLast=o}get each(){return this._e}set each(t){this._e=t}__render(){return this[Nt].slots.default(this)}}function St(t,e,n,o,r,s){const i=new Rt(ft({[Nt]:{context:r,slots:{default:o}}}),t,e,n);return s&&i.__addStylePid(s),i[P].proxy}function Mt(t,e,n,o,r,s,i){const c=St(t,e,n,o,s,i);return r.push(c),c.__render()}function Ct(t,e,n,o){const r="each"===o?t:o(t);return n.has(r)&&console.error(`loop items [${e}] and [${n.get(r)}] of <for> component both have key '${r}', dulplicated key may cause update error.`),n.set(r,e),r}function It(t,e,n,o,r,s,i){const c=[],a=new Map;return t.forEach((l,u)=>{"index"!==r&&o.push(Ct(l,u,a,r)),c.push(...Mt(l,u,u===t.length-1,e,n,s,i))}),c}function Tt(t,e){e[Nt].rootNodes.forEach(e=>{vt(e)?Tt(t,e):t.appendChild(e)})}function Pt(t,e,n){t.isFirst!==(0===e)&&(t.isFirst=0===e),t.isLast!==(e===n.length-1)&&(t.isLast=e===n.length-1),t.index!==e&&(t.index=e),t.each!==n[e]&&(t.each=n[e])}function At(t){return s(t)&&"length"!==t&&/^\d+$/.test(t)?Number(t):t}class Lt extends bt{constructor(t){if(t.key&&!/^(index|each(.[\w\d$_]+)*)$/.test(t.key))throw new Error('Value of "key" attribute of <for> component is invalidate. See https://[todo]');super(t);const e=this[P].proxy;L(t.loop)?e.loop=t.loop:e._l=t.loop,t[P].__watch("loop",()=>{e.loop=t.loop});const n=t.key||"index";if(e._keyName=n,e._length=0,e._keys=null,e._waitingUpdate=!1,"index"!==n&&"each"!==n){e._keyName=new Function("each","return "+n);const t=n.split(".").length+1;e[P].__watch("loop.*."+n.slice(5),n=>{if(n.length!==t||e._waitingUpdate)return;const o=e.loop;if(!a(o)||0===o.length)return;const r=At(n[1]);!i(r)||r>=o.length||(e._keys[r]=e._keyName(o[r]))})}e[P].__watch("loop.*",t=>{if(e[Nt].state!==wt.RENDERED||2!==t.length||e._waitingUpdate)return;const n=At(t[1]);"length"===n?(e._waitingUpdate=!0,e.__updateIfNeed()):i(n)&&e._updateItem(n)})}get loop(){return this._l}set loop(t){this._l=t,this._waitingUpdate=!0,this.__updateIfNeed()}__render(){var t;const e=this[Nt].rootNodes,n=null===(t=this[Nt].slots)||void 0===t?void 0:t.default;if(!n)return e.push(document.createComment("empty")),e;const o=this.loop,r=this._keyName;return"index"!==r&&(this._keys=[]),a(o)&&0!==o.length?(this._length=o.length,It(o,n,e,this._keys,r,this[Nt].context,this[Nt].compStylePid)):(e.push(document.createComment("empty")),e)}_updateItem(t){var e;const n=this.loop,o=this[Nt].rootNodes;if(!a(n)||t>=o.length)return;const r=this._keys,s=n[t],i=o[t];if(i.each===s)return;const c=null===(e=this[Nt].slots)||void 0===e?void 0:e.default;if(!c)return;const l=this._keyName;if("index"!==l){const e="each"===l?s:l(s);if(e!==r[t]){const n=i.__firstDOM,a=St(s,t,i.isLast,c,this[Nt].context,this[Nt].compStylePid),l=Dt(a.__render());n.parentNode.insertBefore(l.length>1?b(l):l[0],n),i.__destroy(),o[t]=a,r[t]=e,a.__handleAfterRender()}else i.each=s}else i.each=s}__update(){var t;this._waitingUpdate=!1;const e=null===(t=this[Nt].slots)||void 0===t?void 0:t.default;if(!e)return;const n=a(this.loop)?this.loop:[],o=this[Nt].rootNodes,r=n.length,s=this._length;if(0===r&&0===s)return;const i=this._keyName;if(0===r&&s>0){const t=o[0].__firstDOM,e=document.createComment("empty");t.parentNode.insertBefore(e,t);for(let t=0;t<s;t++)o[t].__destroy();return o.length=1,o[0]=e,"index"!==i&&(this._keys.length=0),void(this._length=0)}this._length=r;const c=this[Nt].context,l=this[Nt].compStylePid,u=o[0],d=(0===s?u:u.__firstDOM).parentNode;if("index"===i){let t=null;0===s&&(o.length=0);for(let i=0;i<r;i++)i<s?Pt(o[i],i,n):(t||(t=b()),Mt(n[i],i,i===r-1,e,o,c,l).forEach(e=>{t.appendChild(e)}));if(t){const e=0===s?u:o[s-1].__lastDOM;C(d,t,e);for(let t=s;t<r;t++)o[t].__handleAfterRender()}if(0===s&&d.removeChild(u),r>=s)return;for(let t=r;t<s;t++)o[t].__destroy();return void o.splice(r)}const h=this._keys;if(0===s){return o.length=0,C(d,b(It(n,e,o,h,i,this[Nt].context,this[Nt].compStylePid)),u),d.removeChild(u),void o.forEach(t=>t.__handleAfterRender())}const _=new Map;h.forEach((t,e)=>{_.set(t,e)});const f=[],p=new Map;n.forEach((t,e)=>{f.push(Ct(t,e,p,i))});let m=0,g=0,y=null;const E=[],w=new Uint8Array(s);for(;m<s||g<r;){for(;m<s;)if(0!==w[m])m++;else{if(p.has(h[m])&&p.get(h[m])>=g){m===s-1&&(y=o[m].__lastDOM.nextSibling);break}m===s-1&&(y=o[m].__lastDOM.nextSibling),o[m].__destroy(),m++}if(m>=s){let t=null;const o=E.length;for(;g<r;g++){const o=St(n[g],g,g===r-1,e,c,l);t||(t=b()),o.__render().forEach(e=>t.appendChild(e)),E.push(o)}if(t){y?d.insertBefore(t,y):d.appendChild(t);for(let t=o;t<E.length;t++)E[t].__handleAfterRender()}break}const t=h[m];let i=null,a=null;for(;g<r;){const s=f[g];if(s===t)break;let u=null;if(_.has(s)){const t=_.get(s);t>m&&0===w[t]&&(u=o[t],w[t]=1)}i||(i=b()),u?(Tt(i,u),Pt(u,g,n)):(u=St(n[g],g,g===r-1,e,c,l),u.__render().forEach(t=>i.appendChild(t)),a||(a=[]),a.push(u)),E.push(u),g++}if(g>=r)throw new Error("unimpossible?!");const u=o[m];i&&d.insertBefore(i,u.__firstDOM),a&&a.forEach(t=>t.__handleAfterRender()),Pt(u,g,n),E.push(u),m++,g++}this[Nt].rootNodes=E,this._keys=f}}function Vt(t,e,n){const o=new bt(ft({[Nt]:{context:e,slots:{default:t}}}));return n&&o.__addStylePid(n),o[P].proxy}function jt(t){const e=t._currentValue,n=t[Nt].slots;if(t.transition&&n){t._transitionMap=new Map;for(const o in n)t._transitionMap.set(o,[o===e?kt.ENTERED:kt.LEAVED,null]);t._previousValue=e,t._onEndHandler=t.onTransitionEnd.bind(t)}const o=n?n[e]:null,r=t[Nt].rootNodes;if(!o)return r.push(document.createComment("empty")),r;const s=Vt(o,t[Nt].context,t[Nt].compStylePid);return r.push(s),s.__render()}function Ut(t){var e;const n=t[Nt].rootNodes,o=n[0],r=vt(o),s=r?o.__firstDOM:o,i=(r?s:o).parentNode,c=null===(e=t[Nt].slots)||void 0===e?void 0:e[t._currentValue];if(c){const e=Vt(c,t[Nt].context,t[Nt].compStylePid),o=Dt(e.__render());i.insertBefore(o.length>1?b(o):o[0],s),n[0]=e}else n[0]=document.createComment("empty"),i.insertBefore(n[0],s);r?o.__destroy():i.removeChild(s),c&&n[0].__handleAfterRender(),t.__notify("branch-switched",t._branch)}function Ht(t,e,n,o){const r=t[1];if(r.nodeType!==Node.ELEMENT_NODE)return;const s=o._onEndHandler;r.classList.remove(e+(n?"-enter":"-leave")),r.classList.remove(e+(n?"-enter-active":"-leave-active")),T(r,"transitionend",s),T(r,"animationend",s),o.__notify("transition",n?"enter-cancelled":"leave-cancelled",r)}function $t(t,e,n,o){const r=t[1],s=o._onEndHandler;if(r.nodeType!==Node.ELEMENT_NODE)return void s();const i=e+(n?"-enter":"-leave"),c=e+(n?"-enter-active":"-leave-active");r.classList.add(i),Ot(r),r.classList.add(c);const a=Ot(r);a?(t[0]=n?kt.ENTERING:kt.LEAVING,I(r,a,s),o.__notify("transition",n?"before-enter":"before-leave",r),x(()=>{o.__notify("transition",n?"enter":"leave",r)})):s()}function Ft(t){(vt(t[Nt].rootNodes[0])||t[Nt].slots&&t[Nt].slots[t._currentValue])&&(t._transitionMap?function(t){const e=t._currentValue,n=t._previousValue,o=t.transition;let r=t._transitionMap.get(n);if(r||(r=["else"===n?kt.LEAVED:kt.ENTERED,null],t._transitionMap.set(n,r)),r[0]===kt.ENTERING){if(e===n)return;Ht(r,o,!0,t),$t(r,o,!1,t)}else if(r[0]===kt.LEAVING){if(e!==n)return;Ht(r,o,!1,t),$t(r,o,!0,t)}else r[0]===kt.ENTERED?(r[1]=t.__transitionDOM,$t(r,o,!1,t)):r[0]===kt.LEAVED&&(r[1]=t.__transitionDOM,$t(r,o,!0,t))}(t):Ut(t))}function Bt(t){const e=t._currentValue,n=t._previousValue,o=t.transition,r=t._transitionMap.get(n),s=r[0]===kt.ENTERING,i=r[1];if(i.nodeType===Node.ELEMENT_NODE&&(T(i,"transitionend",t._onEndHandler),T(i,"animationend",t._onEndHandler),i.classList.remove(o+(s?"-enter":"-leave")),i.classList.remove(o+(s?"-enter-active":"-leave-active")),t.__notify("transition",s?"after-enter":"after-leave")),r[0]=s?kt.ENTERED:kt.LEAVED,s)return;Ut(t),t._previousValue=e;const c=t._transitionMap.get(e);if(!c)return;const a=t.__transitionDOM;a.nodeType===Node.ELEMENT_NODE?(c[1]=a,$t(c,o,!0,t)):c[0]=kt.ENTERED}function Gt(t){t._transitionMap&&(t._transitionMap.forEach(e=>{const n=e[1];n&&(T(n,"transitionend",t._onEndHandler),T(n,"animationend",t._onEndHandler))}),t._transitionMap=null)}class Zt extends bt{constructor(t){super(t);const e=this[P].proxy;e._currentValue="default",e._onEndHandler=null,e._transitionMap=null,e._previousValue=null;const n=()=>{e.expect=t.expect};n(),t[P].__watch("expect",n);const o=()=>{e.transition=t.transition};o(),t[P].__watch("transition",o)}get expect(){return"default"===this._currentValue}set expect(t){const e=t?"default":"else";this._currentValue!==e&&(this._currentValue=e,this.__updateIfNeed())}get _branch(){return this.expect}onTransitionEnd(){Bt(this)}__render(){return jt(this)}__update(){Ft(this)}__beforeDestroy(){Gt(this)}}class Wt extends bt{constructor(t){super(t);const e=this[P].proxy;e._onEndHandler=null,e._transitionMap=null,e._previousValue=null,e._currentValue=null;const n=()=>{e.test=t.test};n(),t[P].__watch("test",n);const o=()=>{e.transition=t.transition};o(),t[P].__watch("transition",o)}get test(){return this._currentValue}set test(t){const e=this[Nt].slots;e&&t in e||(t="default"),this._currentValue!==t&&(this._currentValue=t,this.__updateIfNeed())}get _branch(){return this.test}onTransitionEnd(){Bt(this)}__render(){return jt(this)}__update(){Ft(this)}__beforeDestroy(){Gt(this)}}class Kt extends bt{constructor(t,e){super(t);const n=this[P].proxy;e.forEach(e=>{n[e]=t[e],t[P].__watch(e,()=>{n[e]=t[e]})})}}function Jt(t){const e=document.createComment("empty");return t[Nt].rootNodes.push(e),e}function Yt(t,e){const n=D(e);return t[Nt].rootNodes.push(n),n}var zt=function(t){const e=t;return[(()=>{const n=S("table",t[Nt].compStylePid,M("thead",M("tr",...(()=>{const n=ft({[Nt]:{context:t[Nt].context,slots:{default:function(t){const n=t;return[...(()=>{const o=e[Nt].slots,r=o&&o.th?o.th:function(t){return[(()=>{const e=S("th",t[Nt].compStylePid,(()=>{const e=D(),o=()=>{v(e,function(){let t;return null===(t=n.each)||void 0===t?void 0:t.title}()||function(){let t;return null===(t=n.each)||void 0===t?void 0:t.key}())};return o(),n[P].__watch(["each","title"],o,t[P]),n[P].__watch(["each","key"],o,t[P]),e})());return t[Nt].rootNodes.push(e),e})()]},s=ft({columnIndex:null,columnData:null,[Nt]:{context:t[Nt].context,slots:{default:r||Jt}}}),i=()=>{s.columnIndex=n.index};i();const c=()=>{s.columnData=n.each};c();const a=new Kt(s,["columnIndex","columnData"]);return a.__addStylePid(t[Nt].compStylePid),n[P].__watch(["index"],i,a[P]),n[P].__watch(["each"],c,a[P]),t[Nt].rootNodes.push(a),Dt(a.__render())})()]}}},loop:null,key:null}),o=()=>{n.loop=e.columns};o(),e[P].__watch(["columns"],o,t[P]);n.key=e._columnKey;const r=Lt.create(n);return t[Nt].nonRootCompNodes.push(r),Dt(r.__render())})())),M("tbody",...(()=>{const n=ft({[Nt]:{context:t[Nt].context,slots:{default:function(t){const n=t;return[(()=>{const o=S("tr",t[Nt].compStylePid,...(()=>{const o=ft({[Nt]:{context:t[Nt].context,slots:{default:function(t){const o=t;return[...(()=>{const r=e[Nt].slots,s=r&&r.td?r.td:function(t){return[(()=>{const e=S("td",t[Nt].compStylePid,(()=>{const e=D();let r,s,i;function c(){i=function(){let t;return null===(t=o.each)||void 0===t?void 0:t.dataIndex}()||function(){let t;return null===(t=o.each)||void 0===t?void 0:t.key}()}function a(){r=function(){let t;return null===(t=n.each)||void 0===t?void 0:t[i]}()}function l(){v(e,r)}function u(){a(),l()}function h(){const e=["each",i],o=s&&d(s,e);s&&!o&&n[P].__unwatch(s,u,t[P]),s&&o||(s=e,n[P].__watch(s,u,t[P]))}function _(){c(),h(),u()}return c(),a(),l(),o[P].__watch(["each","dataIndex"],_,t[P]),o[P].__watch(["each","key"],_,t[P]),h(),e})());return t[Nt].rootNodes.push(e),e})()]},i=ft({rowIndex:null,rowData:null,columnIndex:null,columnData:null,[Nt]:{context:t[Nt].context,slots:{default:s||Jt}}}),c=()=>{i.rowIndex=n.index};c();const a=()=>{i.rowData=n.each};a();const l=()=>{i.columnIndex=o.index};l();const u=()=>{i.columnData=o.each};u();const h=new Kt(i,["rowIndex","rowData","columnIndex","columnData"]);return h.__addStylePid(t[Nt].compStylePid),n[P].__watch(["index"],c,h[P]),n[P].__watch(["each"],a,h[P]),o[P].__watch(["index"],l,h[P]),o[P].__watch(["each"],u,h[P]),t[Nt].rootNodes.push(h),Dt(h.__render())})()]}}},loop:null,key:null}),r=()=>{o.loop=e.columns};r(),e[P].__watch(["columns"],r,t[P]);o.key=e._columnKey;const s=Lt.create(o);return t[Nt].nonRootCompNodes.push(s),Dt(s.__render())})());return t[Nt].rootNodes.push(o),o})()]}}},loop:null,key:null}),o=()=>{n.loop=e.data};o(),e[P].__watch(["data"],o,t[P]);n.key=e._rowKey;const r=Lt.create(n);return t[Nt].nonRootCompNodes.push(r),Dt(r.__render())})(),...(()=>{const n=ft({[Nt]:{context:t[Nt].context,slots:{default:function(t){return[(()=>{const n=S("tr",t[Nt].compStylePid,...(()=>{const n=e[Nt].slots,o=n&&n["empty-td"]?n["empty-td"]:function(t){return[(()=>{const n=S("td",Object.assign({style:"text-align: center; color: gray;"},t[Nt].compStylePid),"No Data"),o=()=>{O(n,"colspan",function(){let t;return null===(t=e.columns)||void 0===t?void 0:t.length}())};return o(),e[P].__watch(["columns","length"],o,t[P]),t[Nt].rootNodes.push(n),n})()]},r=ft({[Nt]:{context:t[Nt].context,slots:{default:o||Jt}}}),s=new Kt(r,[]);return t[Nt].nonRootCompNodes.push(s),Dt(s.__render())})());return t[Nt].rootNodes.push(n),n})()]}}},expect:null}),o=()=>{n.expect=!e.data||0===function(){let t;return null===(t=e.data)||void 0===t?void 0:t.length}()};o(),e[P].__watch(["data"],o,t[P]),e[P].__watch(["data","length"],o,t[P]);const r=Zt.create(n);return t[Nt].nonRootCompNodes.push(r),Dt(r.__render())})()));return t[Nt].rootNodes.push(n),n})()]};class qt extends bt{static get template(){return zt}constructor(t){if(!a(t.data)||!a(t.columns))throw new Error("bad attribute value.");super(t);const e=this[P].proxy,n=()=>{e.data=t.data};n(),t[P].__watch("data",n);const o=()=>{e.columns=t.columns};o(),t[P].__watch("columns",o),e._columnKey="each."+(t.columnKey||"key"),e._rowKey="each."+(t.rowKey||"key")}}var Qt,Xt,te,ee=function(t){const e=t;return[(()=>{const e=S("h1",t[Nt].compStylePid,"slot & vm attribute");return t[Nt].rootNodes.push(e),e})(),(()=>{const e=S("h3",t[Nt].compStylePid,"Basic Table");return t[Nt].rootNodes.push(e),e})(),...(()=>{const n=ft({[Nt]:{context:t[Nt].context},data:null,columns:null,rowKey:"name"}),o=()=>{n.data=e.data};o(),e[P].__watch(["data"],o,t[P]);const r=()=>{n.columns=e.columns};r(),e[P].__watch(["columns"],r,t[P]);const s=qt.create(n);return s.__addStylePid(t[Nt].compStylePid),t[Nt].rootNodes.push(s),Dt(s.__render())})(),(()=>{const n=S("p",t[Nt].compStylePid,(()=>{const t=M("button","Prepend Column");return I(t,"click",(function(...t){e.prependColumn(...t)})),t})(),(()=>{const t=M("button","Test");return I(t,"click",(function(...t){e.test(...t)})),t})());return t[Nt].rootNodes.push(n),n})(),(()=>{const e=S("h3",t[Nt].compStylePid,"Custom Render");return t[Nt].rootNodes.push(e),e})(),...(()=>{const n=ft({[Nt]:{context:t[Nt].context,slots:{th:function(t){const n=t;return[(()=>{const o=S("th",t[Nt].compStylePid,...(()=>{const o=ft({[Nt]:{context:t[Nt].context,slots:{"-":function(t){return[(()=>{const n=S("input",Object.assign({type:"checkbox"},t[Nt].compStylePid)),o=()=>{n.checked=!!(function(){let t;return null===(t=e.data2)||void 0===t?void 0:t.length}()>0&&e.allChecked)};return o(),e[P].__watch(["data2","length"],o,t[P]),e[P].__watch(["allChecked"],o,t[P]),I(n,"change",(function(...t){e.toggleAllCheck(...t)})),t[Nt].rootNodes.push(n),n})()]},action:function(t){return[(()=>{const e=S("span",Object.assign({style:"color: red;"},t[Nt].compStylePid),"操作");return t[Nt].rootNodes.push(e),e})()]},default:function(t){return[(()=>{const e=D(),o=()=>{v(e,n.columnIndex)};return o(),n[P].__watch(["columnIndex"],o,t[P]),t[Nt].rootNodes.push(e),e})(),Yt(t,": "),(()=>{const e=D(),o=()=>{v(e,function(){let t;return null===(t=n.columnData)||void 0===t?void 0:t.title}())};return o(),n[P].__watch(["columnData","title"],o,t[P]),t[Nt].rootNodes.push(e),e})()]}}},test:null}),r=()=>{o.test=function(){let t;return null===(t=n.columnData)||void 0===t?void 0:t.key}()};r(),n[P].__watch(["columnData","key"],r,t[P]);const s=Wt.create(o);return t[Nt].nonRootCompNodes.push(s),Dt(s.__render())})());return t[Nt].rootNodes.push(o),o})()]},td:function(t){const n=t;return[(()=>{const o=S("td",t[Nt].compStylePid,...(()=>{const o=ft({[Nt]:{context:t[Nt].context,slots:{"-":function(t){return[(()=>{const o=S("input",Object.assign({type:"checkbox"},t[Nt].compStylePid)),r=()=>{o.checked=!!function(){let t;return null===(t=n.rowData)||void 0===t?void 0:t.checked}()};return r(),n[P].__watch(["rowData","checked"],r,t[P]),I(o,"change",(function(...t){e.toggleCheck(n.rowData)})),t[Nt].rootNodes.push(o),o})()]},action:function(t){return[(()=>{const o=S("a",Object.assign({href:"javascript:;"},t[Nt].compStylePid),"Delete");return I(o,"click",(function(...t){e.removeRow(n.rowIndex)})),t[Nt].rootNodes.push(o),o})()]},tags:function(t){return[...(()=>{const e=ft({[Nt]:{context:t[Nt].context,slots:{default:function(t){const e=t;return[(()=>{const n=S("span",Object.assign({class:"tag"},t[Nt].compStylePid),(()=>{const n=D(),o=()=>{v(n,e.each)};return o(),e[P].__watch(["each"],o,t[P]),n})());return t[Nt].rootNodes.push(n),n})()]}}},loop:null,key:"each"});let o,r,s;function i(){s=function(){let t;return null===(t=n.columnData)||void 0===t?void 0:t.key}()}function c(){o=function(){let t;return null===(t=n.rowData)||void 0===t?void 0:t[s]}()}function a(){e.loop=o}function l(){c(),a()}function u(){const e=["rowData",s],o=r&&d(r,e);r&&!o&&n[P].__unwatch(r,l,t[P]),r&&o||(r=e,n[P].__watch(r,l,t[P]))}i(),c(),a(),n[P].__watch(["columnData","key"],(function(){i(),u(),l()}),t[P]),u();const h=Lt.create(e);return h.__addStylePid(t[Nt].compStylePid),t[Nt].rootNodes.push(h),Dt(h.__render())})()]},default:function(t){return[(()=>{const e=D(),o=()=>{v(e,n.rowIndex)};return o(),n[P].__watch(["rowIndex"],o,t[P]),t[Nt].rootNodes.push(e),e})(),Yt(t,"-"),(()=>{const e=D(),o=()=>{v(e,n.columnIndex)};return o(),n[P].__watch(["columnIndex"],o,t[P]),t[Nt].rootNodes.push(e),e})(),Yt(t,": "),(()=>{const e=D();let o,r,s;function i(){s=function(){let t;return null===(t=n.columnData)||void 0===t?void 0:t.key}()}function c(){o=function(){let t;return null===(t=n.rowData)||void 0===t?void 0:t[s]}()}function a(){v(e,o)}function l(){c(),a()}function u(){const e=["rowData",s],o=r&&d(r,e);r&&!o&&n[P].__unwatch(r,l,t[P]),r&&o||(r=e,n[P].__watch(r,l,t[P]))}return i(),c(),a(),n[P].__watch(["columnData","key"],(function(){i(),u(),l()}),t[P]),u(),t[Nt].rootNodes.push(e),e})()]}}},test:null}),r=()=>{o.test=function(){let t;return null===(t=n.columnData)||void 0===t?void 0:t.key}()};r(),n[P].__watch(["columnData","key"],r,t[P]);const s=Wt.create(o);return t[Nt].nonRootCompNodes.push(s),Dt(s.__render())})());return t[Nt].rootNodes.push(o),o})()]}}},data:null,columns:null}),o=()=>{n.data=e.data2};o(),e[P].__watch(["data2"],o,t[P]);const r=()=>{n.columns=e.columns2};r(),e[P].__watch(["columns2"],r,t[P]);const s=qt.create(n);return s.__addStylePid(t[Nt].compStylePid),t[Nt].rootNodes.push(s),Dt(s.__render())})(),(()=>{const n=S("p",t[Nt].compStylePid,(()=>{const t=M("button","Add Row");return I(t,"click",(function(...t){e.addRow(...t)})),t})(),(()=>{const t=M("button","Modify Row");return I(t,"click",(function(...t){e.modifyRow(...t)})),t})());return t[Nt].rootNodes.push(n),n})()]};Qt=class extends bt{static get template(){return ee}constructor(t){super(t);const e=this[P].proxy;e.data=_t([{name:"Ge",age:20},{name:"Jing",age:18}]),e.columns=_t([{key:"name",title:"Name"},{key:"age",title:"Age"}]),e.columns2=_t([{key:"-"},{key:"name",title:"Name"},{key:"age",title:"Age"},{key:"tags",title:"Tag"},{key:"action",title:"Action"}]),e.data2=_t([{key:0,checked:!1,name:"Ge",age:20,tags:["Boy"]},{key:1,name:"Jing",checked:!1,age:18,tags:["Girl","Wife"]}]),e.allChecked=!1}prependColumn(){const t=Date.now().toString(32);this.columns.unshift(_t({key:t,title:"Col_"+t})),this.data.forEach(e=>{e[t]=1e3*Math.random()|0})}test(){this.columns[0]=_t({title:"TT",key:"age"})}removeRow(t){console.log("rm",t),this.data2.splice(t,1),this._update()}addRow(){this.data2.push(_t({key:this.data2.length,name:Date.now().toString(32),age:16+(10*Math.random()|0),tags:new Array(1+(4*Math.random()|0)).fill(0).map((t,e)=>"Tag"+(e+1))})),this.allChecked=!1}modifyRow(){const t=Math.random()*this.data2.length|0;console.log(t);const e=this.data2[t];e.age++,e.name+="_"+e.age,e.tags=_t(new Array(1+(4*Math.random()|0)).fill(0).map((t,e)=>"Tag"+(e+1)))}toggleAllCheck(){this.data2.forEach(t=>{t.checked=!this.allChecked}),this.allChecked=!this.allChecked}toggleCheck(t){t.checked=!t.checked,this._update()}_update(){this.allChecked=!this.data2.find(t=>!t.checked)}},Xt=document.getElementById("root-app"),Qt.create(te).__renderToDOM(Xt,Xt!==document.body)}]);